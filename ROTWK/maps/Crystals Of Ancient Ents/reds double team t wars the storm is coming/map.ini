
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;		 System.ini	spells							      
;                                                  
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


CommandSet IsengardSpellBookCommandSet_Override
	1 = Command_SpellBookScavenger
	;2 = Command_SpellBookFarsight
	3 = Command_SpellBookRebuild
	;4 = Command_SpellBookLoneTower
	5 = Command_SpellBookWarChant
	;6 = Command_SpellBookBarricade
	7 = Command_SpellBookElvenGifts
	;8 = Command_SpellBookDarkness
	9 = Command_SpellBookHeal
	;10 = Command_SpellBookCloudBreak
	11 = Command_SpellBookArrowVolleyEvil
	;12 = Command_SpellBookWatcherAlly
End


CommandSet IsengardSpellStoreCommandSet_Override
	1 = Command_PurchaseSpellScavenger
	;2 = Command_PurchaseSpellFarsight
	3 = Command_PurchaseSpellRebuild
	;4 = Command_PurchaseSpellLoneTowerMen
	5 = Command_PurchaseSpellWarChant
	;6 = Command_PurchaseSpellBarricade
	7 = Command_PurchaseSpellElvenGifts
	;8 = Command_PurchaseSpellDarkness
	9 = Command_PurchaseSpellHeal
	;10 = Command_PurchaseSpellCloudBreak
	11 = Command_PurchaseSpellArrowVolleyEvil
	;12 = Command_PurchaseSpellWatcherAlly

End

Object IsengardSpellBook_Override

	AddModule ModuleTag_Scavenger_Override
	Behavior = ScavengerSpecialPower ModuleTag_Scavenger
		SpecialPowerTemplate	= SpellBookScavenger
		BountyPercent			= 4.0
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
        End

	AddModule ModuleTag_Farsight_Override
	Behavior				 = OCLSpecialPower ModuleTag_Farsight
		SpecialPowerTemplate = SpellBookFarsight
		OCL                  = OCL_SpecialPowerFarSeeing
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_Rebuild_Override
	Behavior = PlayerHealSpecialPower ModuleTag_Rebuild
		SpecialPowerTemplate = SpellBookRebuild
		HealAffects			 = STRUCTURE
		HealAsPercent		 	 = No
		HealAmount			 = 4000
		HealRadius			 = SPELL_REBUILD_RADIUS_STRUCTURE_SCAN
		HealFX				 = FX_SpellRebuild
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_LoneTower_Override
	Behavior = OCLSpecialPower ModuleTag_SpawnLoneTower
		SpecialPowerTemplate = SpellBookSpawnLoneTower
		OCL                  = OCL_GondorSpellBookSpawnLoneTower
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_WarChant_Override
 	Behavior = SpecialPowerModule		SpellBookWarChant_ModuleTag
		SpecialPowerTemplate		= SpellBookWarChant
		AttributeModifier			= SpellBookWarChant
		AttributeModifierRange		= 100
		AttributeModifierAffects	= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		TriggerFX					= FX_SpellWarChant
		UpdateModuleStartsAttack	= No
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_Barricade_Override
   	Behavior = OCLSpecialPower	ModuleTag_Barricade
		SpecialPowerTemplate			= SpellBookBarricade
		OCL								= OCL_SpellBookBarricade
		CreateLocation					= CREATE_AT_LOCATION
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic		= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_ElvenGIfts_Override
	Behavior = PlayerUpgradeSpecialPower	SpellBookElvenGifts_ModuleTag
		SpecialPowerTemplate		= SpellBookElvenGifts
		UpgradeName 				= Upgrade_ElvenGift
		UpdateModuleStartsAttack	= No
		AffectAllies				= No ; Should not try to affect ally units
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Darkness_Override
 	Behavior   = DarknessSpecialPower ModuleTag_Darkness
		SpecialPowerTemplate			= SpellBookDarkness
		AttributeModifier				= SpellBookDarkness
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO -HORDE ALLIES
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_DARKNESS_DURATION
		ChangeWeather					= CLOUDY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_CloudBreak_Override
	Behavior = CloudBreakSpecialPower	ModuleTag_CloudBreak
		SpecialPowerTemplate			= SpellBookCloudBreak
    	SunbeamObject					= CloudBreakSunbeam
		ObjectSpacing					= 300
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes ; cancel negative effects on good guys
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_CLOUDBREAK_DURATION
		ChangeWeather					= SUNNY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Heal_Override
  	Behavior = PlayerHealSpecialPower ModuleTag_Heal
		SpecialPowerTemplate  = SpellBookHeal
		HealAffects			  = INFANTRY CAVALRY MONSTER MACHINE SHIP DOZER
		HealAmount			  = 1.0	; 0.5 = 50% of maximum health
		HealRadius			  = SPELL_HEAL_RADIUS_UNIT_SCAN
		HealFX				  = FX_SpellHealUnitHealBuff		;FX_DefaultUnitHealBuff
		; To replenish hordes a bit
		HealOCL               = OCL_HealSpellHordeReplenishPing
		AvailableAtStart	  = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	
	
	AddModule ModuleTag_ArrowVolley_Override	
	Behavior = OCLSpecialPower ModuleTag_ArrowVolleyEvil
		SpecialPowerTemplate = SpellBookArrowVolleyEvil
		OCL                  = OCL_SpellBookArrowVolley
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End
	
	AddModule ModuleTag_Watcher_Override
	Behavior = OCLSpecialPower ModuleTag_SummonWatcher
		SpecialPowerTemplate = SpellBookWatcherAlly
		OCL                  = OCL_WatcherSummoning
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

     CommandSet = IsengardSpellBookCommandSet_Override
     RadarPriority = NOT_ON_RADAR
     KindOf = SPELL_BOOK IMMOBILE IGNORES_SELECT_ALL INERT
End

ChildObject IsengardChildSpellBook_Override IsengardSpellBook_Override
     CommandSet = IsengardSpellBookCommandSet_Override

End


CommandSet MenSpellBookCommandSet_Override
	1 = Command_SpellBookScavenger
	;2 = Command_SpellBookFarsight
	3 = Command_SpellBookRebuild
	;4 = Command_SpellBookLoneTower
	5 = Command_SpellBookWarChant
	;6 = Command_SpellBookBarricade
	7 = Command_SpellBookElvenGifts
	;8 = Command_SpellBookDarkness
	9 = Command_SpellBookHeal
	;10 = Command_SpellBookCloudBreak
	11 = Command_SpellBookArrowVolleyEvil
	;12 = Command_SpellBookWatcherAlly
End


CommandSet MenSpellStoreCommandSet_Override
	1 = Command_PurchaseSpellScavenger
	;2 = Command_PurchaseSpellFarsight
	3 = Command_PurchaseSpellRebuild
	;4 = Command_PurchaseSpellLoneTowerMen
	5 = Command_PurchaseSpellWarChant
	;6 = Command_PurchaseSpellBarricade
	7 = Command_PurchaseSpellElvenGifts
	;8 = Command_PurchaseSpellDarkness
	9 = Command_PurchaseSpellHeal
	;10 = Command_PurchaseSpellCloudBreak
	11 = Command_PurchaseSpellArrowVolleyEvil
	;12 = Command_PurchaseSpellWatcherAlly

End

Object MenSpellBook_Override


	AddModule ModuleTag_Scavenger_Override
	Behavior = ScavengerSpecialPower ModuleTag_Scavenger
		SpecialPowerTemplate	= SpellBookScavenger
		BountyPercent			= .75
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
        End

	AddModule ModuleTag_Farsight_Override
	Behavior				 = OCLSpecialPower ModuleTag_Farsight
		SpecialPowerTemplate = SpellBookFarsight
		OCL                  = OCL_SpecialPowerFarSeeing
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_Rebuild_Override
	Behavior = PlayerHealSpecialPower ModuleTag_Rebuild
		SpecialPowerTemplate = SpellBookRebuild
		HealAffects			 = STRUCTURE
		HealAsPercent		 	 = No
		HealAmount			 = 4000
		HealRadius			 = SPELL_REBUILD_RADIUS_STRUCTURE_SCAN
		HealFX				 = FX_SpellRebuild
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_LoneTower_Override
	Behavior = OCLSpecialPower ModuleTag_SpawnLoneTower
		SpecialPowerTemplate = SpellBookSpawnLoneTower
		OCL                  = OCL_GondorSpellBookSpawnLoneTower
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_WarChant_Override
 	Behavior = SpecialPowerModule		SpellBookWarChant_ModuleTag
		SpecialPowerTemplate		= SpellBookWarChant
		AttributeModifier			= SpellBookWarChant
		AttributeModifierRange		= 100
		AttributeModifierAffects	= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		TriggerFX					= FX_SpellWarChant
		UpdateModuleStartsAttack	= No
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_Barricade_Override
   	Behavior = OCLSpecialPower	ModuleTag_Barricade
		SpecialPowerTemplate			= SpellBookBarricade
		OCL								= OCL_SpellBookBarricade
		CreateLocation					= CREATE_AT_LOCATION
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic		= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_ElvenGIfts_Override
	Behavior = PlayerUpgradeSpecialPower	SpellBookElvenGifts_ModuleTag
		SpecialPowerTemplate		= SpellBookElvenGifts
		UpgradeName 				= Upgrade_ElvenGift
		UpdateModuleStartsAttack	= No
		AffectAllies				= No ; Should not try to affect ally units
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Darkness_Override
 	Behavior   = DarknessSpecialPower ModuleTag_Darkness
		SpecialPowerTemplate			= SpellBookDarkness
		AttributeModifier				= SpellBookDarkness
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO -HORDE ALLIES
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_DARKNESS_DURATION
		ChangeWeather					= CLOUDY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_CloudBreak_Override
	Behavior = CloudBreakSpecialPower	ModuleTag_CloudBreak
		SpecialPowerTemplate			= SpellBookCloudBreak
    	SunbeamObject					= CloudBreakSunbeam
		ObjectSpacing					= 300
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes ; cancel negative effects on good guys
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_CLOUDBREAK_DURATION
		ChangeWeather					= SUNNY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Heal_Override
  	Behavior = PlayerHealSpecialPower ModuleTag_Heal
		SpecialPowerTemplate  = SpellBookHeal
		HealAffects			  = INFANTRY CAVALRY MONSTER MACHINE SHIP DOZER
		HealAmount			  = 1.0	; 0.5 = 50% of maximum health
		HealRadius			  = SPELL_HEAL_RADIUS_UNIT_SCAN
		HealFX				  = FX_SpellHealUnitHealBuff		;FX_DefaultUnitHealBuff
		; To replenish hordes a bit
		HealOCL               = OCL_HealSpellHordeReplenishPing
		AvailableAtStart	  = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	
	
	AddModule ModuleTag_ArrowVolley_Override	
	Behavior = OCLSpecialPower ModuleTag_ArrowVolleyEvil
		SpecialPowerTemplate = SpellBookArrowVolleyEvil
		OCL                  = OCL_SpellBookArrowVolley
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End
	
	AddModule ModuleTag_Watcher_Override
	Behavior = OCLSpecialPower ModuleTag_SummonWatcher
		SpecialPowerTemplate = SpellBookWatcherAlly
		OCL                  = OCL_WatcherSummoning
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

     CommandSet = MenSpellBookCommandSet_Override
     RadarPriority = NOT_ON_RADAR
     KindOf = SPELL_BOOK IMMOBILE IGNORES_SELECT_ALL INERT
End

ChildObject MenChildSpellBook_Override MenSpellBook_Override
     CommandSet = MenSpellBookCommandSet_Override

End

CommandSet AngmarSpellBookCommandSet_Override
	1 = Command_SpellBookScavenger
	;2 = Command_SpellBookFarsight
	3 = Command_SpellBookRebuild
	;4 = Command_SpellBookLoneTower
	5 = Command_SpellBookWarChant
	;6 = Command_SpellBookBarricade
	7 = Command_SpellBookElvenGifts
	;8 = Command_SpellBookDarkness
	9 = Command_SpellBookHeal
	;10 = Command_SpellBookCloudBreak
	11 = Command_SpellBookArrowVolleyEvil
	;12 = Command_SpellBookWatcherAlly
End



CommandSet AngmarSpellStoreCommandSet_Override
	1 = Command_PurchaseSpellScavenger
	;2 = Command_PurchaseSpellFarsight
	3 = Command_PurchaseSpellRebuild
	;4 = Command_PurchaseSpellLoneTowerMen
	5 = Command_PurchaseSpellWarChant
	;6 = Command_PurchaseSpellBarricade
	7 = Command_PurchaseSpellElvenGifts
	;8 = Command_PurchaseSpellDarkness
	9 = Command_PurchaseSpellHeal
	;10 = Command_PurchaseSpellCloudBreak
	11 = Command_PurchaseSpellArrowVolleyEvil
	;12 = Command_PurchaseSpellWatcherAlly

End


Object AngmarSpellBook_Override

	AddModule ModuleTag_Scavenger_Override
	Behavior = ScavengerSpecialPower ModuleTag_Scavenger
		SpecialPowerTemplate	= SpellBookScavenger
		BountyPercent			= 3.0
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
        End

	AddModule ModuleTag_Farsight_Override
	Behavior				 = OCLSpecialPower ModuleTag_Farsight
		SpecialPowerTemplate = SpellBookFarsight
		OCL                  = OCL_SpecialPowerFarSeeing
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_Rebuild_Override
	Behavior = PlayerHealSpecialPower ModuleTag_Rebuild
		SpecialPowerTemplate = SpellBookRebuild
		HealAffects			 = STRUCTURE
		HealAsPercent		 	 = No
		HealAmount			 = 4000
		HealRadius			 = SPELL_REBUILD_RADIUS_STRUCTURE_SCAN
		HealFX				 = FX_SpellRebuild
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_LoneTower_Override
	Behavior = OCLSpecialPower ModuleTag_SpawnLoneTower
		SpecialPowerTemplate = SpellBookSpawnLoneTower
		OCL                  = OCL_GondorSpellBookSpawnLoneTower
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_WarChant_Override
 	Behavior = SpecialPowerModule		SpellBookWarChant_ModuleTag
		SpecialPowerTemplate		= SpellBookWarChant
		AttributeModifier			= SpellBookWarChant
		AttributeModifierRange		= 100
		AttributeModifierAffects	= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		TriggerFX					= FX_SpellWarChant
		UpdateModuleStartsAttack	= No
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_Barricade_Override
   	Behavior = OCLSpecialPower	ModuleTag_Barricade
		SpecialPowerTemplate			= SpellBookBarricade
		OCL								= OCL_SpellBookBarricade
		CreateLocation					= CREATE_AT_LOCATION
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic		= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_ElvenGIfts_Override
	Behavior = PlayerUpgradeSpecialPower	SpellBookElvenGifts_ModuleTag
		SpecialPowerTemplate		= SpellBookElvenGifts
		UpgradeName 				= Upgrade_ElvenGift
		UpdateModuleStartsAttack	= No
		AffectAllies				= No ; Should not try to affect ally units
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Darkness_Override
 	Behavior   = DarknessSpecialPower ModuleTag_Darkness
		SpecialPowerTemplate			= SpellBookDarkness
		AttributeModifier				= SpellBookDarkness
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO -HORDE ALLIES
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_DARKNESS_DURATION
		ChangeWeather					= CLOUDY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_CloudBreak_Override
	Behavior = CloudBreakSpecialPower	ModuleTag_CloudBreak
		SpecialPowerTemplate			= SpellBookCloudBreak
    	SunbeamObject					= CloudBreakSunbeam
		ObjectSpacing					= 300
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes ; cancel negative effects on good guys
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_CLOUDBREAK_DURATION
		ChangeWeather					= SUNNY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Heal_Override
  	Behavior = PlayerHealSpecialPower ModuleTag_Heal
		SpecialPowerTemplate  = SpellBookHeal
		HealAffects			  = INFANTRY CAVALRY MONSTER MACHINE SHIP DOZER
		HealAmount			  = 1.0	; 0.5 = 50% of maximum health
		HealRadius			  = SPELL_HEAL_RADIUS_UNIT_SCAN
		HealFX				  = FX_SpellHealUnitHealBuff		;FX_DefaultUnitHealBuff
		; To replenish hordes a bit
		HealOCL               = OCL_HealSpellHordeReplenishPing
		AvailableAtStart	  = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	
	
	AddModule ModuleTag_ArrowVolley_Override	
	Behavior = OCLSpecialPower ModuleTag_ArrowVolleyEvil
		SpecialPowerTemplate = SpellBookArrowVolleyEvil
		OCL                  = OCL_SpellBookArrowVolley
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End
	
	AddModule ModuleTag_Watcher_Override
	Behavior = OCLSpecialPower ModuleTag_SummonWatcher
		SpecialPowerTemplate = SpellBookWatcherAlly
		OCL                  = OCL_WatcherSummoning
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

     CommandSet = AngmarSpellBookCommandSet_Override
     RadarPriority = NOT_ON_RADAR
     KindOf = SPELL_BOOK IMMOBILE IGNORES_SELECT_ALL INERT
End

ChildObject AngmarChildSpellBook_Override AngmarSpellBook_Override
     CommandSet = AngmarSpellBookCommandSet_Override

End

CommandSet DwarvenSpellBookCommandSet_Override
	1 = Command_SpellBookScavenger
	;2 = Command_SpellBookFarsight
	3 = Command_SpellBookRebuild
	;4 = Command_SpellBookLoneTower
	;5 = Command_SpellBookWarChant
	6 = Command_SpellBookBarricade
	7 = Command_SpellBookElvenGifts
	;8 = Command_SpellBookDarkness
	9 = Command_SpellBookHeal
	;10 = Command_SpellBookCloudBreak
	11 = Command_SpellBookArrowVolleyEvil
	;12 = Command_SpellBookWatcherAlly
End


CommandSet DwarvenSpellStoreCommandSet_Override
	1 = Command_PurchaseSpellScavenger
	;2 = Command_PurchaseSpellFarsight
	3 = Command_PurchaseSpellRebuild
	;4 = Command_PurchaseSpellLoneTowerMen
	5 = Command_PurchaseSpellWarChant
	;6 = Command_PurchaseSpellBarricade
	7 = Command_PurchaseSpellElvenGifts
	;8 = Command_PurchaseSpellDarkness
	9 = Command_PurchaseSpellHeal
	;10 = Command_PurchaseSpellCloudBreak
	11 = Command_PurchaseSpellArrowVolleyEvil
	;12 = Command_PurchaseSpellWatcherAlly

End

Object DwarvenSpellBook_Override

	AddModule ModuleTag_Scavenger_Override
	Behavior = ScavengerSpecialPower ModuleTag_Scavenger
		SpecialPowerTemplate	= SpellBookScavenger
		BountyPercent			= 1.0
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
        End

	AddModule ModuleTag_Farsight_Override
	Behavior				 = OCLSpecialPower ModuleTag_Farsight
		SpecialPowerTemplate = SpellBookFarsight
		OCL                  = OCL_SpecialPowerFarSeeing
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_Rebuild_Override
	Behavior = PlayerHealSpecialPower ModuleTag_Rebuild
		SpecialPowerTemplate = SpellBookRebuild
		HealAffects			 = STRUCTURE
		HealAsPercent		 	 = No
		HealAmount			 = 4000
		HealRadius			 = SPELL_REBUILD_RADIUS_STRUCTURE_SCAN
		HealFX				 = FX_SpellRebuild
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_LoneTower_Override
	Behavior = OCLSpecialPower ModuleTag_SpawnLoneTower
		SpecialPowerTemplate = SpellBookSpawnLoneTower
		OCL                  = OCL_GondorSpellBookSpawnLoneTower
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_WarChant_Override
 	Behavior = SpecialPowerModule		SpellBookWarChant_ModuleTag
		SpecialPowerTemplate		= SpellBookWarChant
		AttributeModifier			= SpellBookWarChant
		AttributeModifierRange		= 100
		AttributeModifierAffects	= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		TriggerFX					= FX_SpellWarChant
		UpdateModuleStartsAttack	= No
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_Barricade_Override
   	Behavior = OCLSpecialPower	ModuleTag_Barricade
		SpecialPowerTemplate			= SpellBookBarricade
		OCL								= OCL_SpellBookBarricade
		CreateLocation					= CREATE_AT_LOCATION
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic		= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_ElvenGIfts_Override
	Behavior = PlayerUpgradeSpecialPower	SpellBookElvenGifts_ModuleTag
		SpecialPowerTemplate		= SpellBookElvenGifts
		UpgradeName 				= Upgrade_ElvenGift
		UpdateModuleStartsAttack	= No
		AffectAllies				= No ; Should not try to affect ally units
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Darkness_Override
 	Behavior   = DarknessSpecialPower ModuleTag_Darkness
		SpecialPowerTemplate			= SpellBookDarkness
		AttributeModifier				= SpellBookDarkness
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO -HORDE ALLIES
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_DARKNESS_DURATION
		ChangeWeather					= CLOUDY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_CloudBreak_Override
	Behavior = CloudBreakSpecialPower	ModuleTag_CloudBreak
		SpecialPowerTemplate			= SpellBookCloudBreak
    	SunbeamObject					= CloudBreakSunbeam
		ObjectSpacing					= 300
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes ; cancel negative effects on good guys
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_CLOUDBREAK_DURATION
		ChangeWeather					= SUNNY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Heal_Override
  	Behavior = PlayerHealSpecialPower ModuleTag_Heal
		SpecialPowerTemplate  = SpellBookHeal
		HealAffects			  = INFANTRY CAVALRY MONSTER MACHINE SHIP DOZER
		HealAmount			  = 1.0	; 0.5 = 50% of maximum health
		HealRadius			  = SPELL_HEAL_RADIUS_UNIT_SCAN
		HealFX				  = FX_SpellHealUnitHealBuff		;FX_DefaultUnitHealBuff
		; To replenish hordes a bit
		HealOCL               = OCL_HealSpellHordeReplenishPing
		AvailableAtStart	  = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	
	
	AddModule ModuleTag_ArrowVolley_Override	
	Behavior = OCLSpecialPower ModuleTag_ArrowVolleyEvil
		SpecialPowerTemplate = SpellBookArrowVolleyEvil
		OCL                  = OCL_SpellBookArrowVolley
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End
	
	AddModule ModuleTag_Watcher_Override
	Behavior = OCLSpecialPower ModuleTag_SummonWatcher
		SpecialPowerTemplate = SpellBookWatcherAlly
		OCL                  = OCL_WatcherSummoning
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

     CommandSet = DwarvenSpellBookCommandSet_Override
     RadarPriority = NOT_ON_RADAR
     KindOf = SPELL_BOOK IMMOBILE IGNORES_SELECT_ALL INERT
End

ChildObject DwarvenChildSpellBook_Override DwarvenSpellBook_Override
     CommandSet = DwarvenSpellBookCommandSet_Override

End


CommandSet ElvenSpellBookCommandSet_Override
	1 = Command_SpellBookScavenger
	;2 = Command_SpellBookFarsight
	3 = Command_SpellBookRebuild
	4 = Command_SpellBookLoneTower
	5 = Command_SpellBookWarChant
	6 = Command_SpellBookBarricade
	7 = Command_SpellBookElvenGifts
	8 = Command_SpellBookDarkness
	9 = Command_SpellBookHeal
	10 = Command_SpellBookCloudBreak
	11 = Command_SpellBookArrowVolleyEvil
	;12 = Command_SpellBookWatcherAlly
End


CommandSet ElvenSpellStoreCommandSet_Override
	1 = Command_PurchaseSpellScavenger
	;2 = Command_PurchaseSpellFarsight
	3 = Command_PurchaseSpellRebuild
	;4 = Command_PurchaseSpellLoneTowerMen
	5 = Command_PurchaseSpellWarChant
	;6 = Command_PurchaseSpellBarricade
	7 = Command_PurchaseSpellElvenGifts
	;8 = Command_PurchaseSpellDarkness
	9 = Command_PurchaseSpellHeal
	;10 = Command_PurchaseSpellCloudBreak
	11 = Command_PurchaseSpellArrowVolleyEvil
	;12 = Command_PurchaseSpellWatcherAlly

End

Object ElvenSpellBook_Override

	AddModule ModuleTag_Scavenger_Override
	Behavior = ScavengerSpecialPower ModuleTag_Scavenger
		SpecialPowerTemplate	= SpellBookScavenger
		BountyPercent			= .50
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
        End

	AddModule ModuleTag_Farsight_Override
	Behavior				 = OCLSpecialPower ModuleTag_Farsight
		SpecialPowerTemplate = SpellBookFarsight
		OCL                  = OCL_SpecialPowerFarSeeing
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_Rebuild_Override
	Behavior = PlayerHealSpecialPower ModuleTag_Rebuild
		SpecialPowerTemplate = SpellBookRebuild
		HealAffects			 = STRUCTURE
		HealAsPercent		 	 = No
		HealAmount			 = 4000
		HealRadius			 = SPELL_REBUILD_RADIUS_STRUCTURE_SCAN
		HealFX				 = FX_SpellRebuild
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_LoneTower_Override
	Behavior = OCLSpecialPower ModuleTag_SpawnLoneTower
		SpecialPowerTemplate = SpellBookSpawnLoneTower
		OCL                  = OCL_GondorSpellBookSpawnLoneTower
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_WarChant_Override
 	Behavior = SpecialPowerModule		SpellBookWarChant_ModuleTag
		SpecialPowerTemplate		= SpellBookWarChant
		AttributeModifier			= SpellBookWarChant
		AttributeModifierRange		= 100
		AttributeModifierAffects	= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		TriggerFX					= FX_SpellWarChant
		UpdateModuleStartsAttack	= No
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_Barricade_Override
   	Behavior = OCLSpecialPower	ModuleTag_Barricade
		SpecialPowerTemplate			= SpellBookBarricade
		OCL								= OCL_SpellBookBarricade
		CreateLocation					= CREATE_AT_LOCATION
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic		= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_ElvenGIfts_Override
	Behavior = PlayerUpgradeSpecialPower	SpellBookElvenGifts_ModuleTag
		SpecialPowerTemplate		= SpellBookElvenGifts
		UpgradeName 				= Upgrade_ElvenGift
		UpdateModuleStartsAttack	= No
		AffectAllies				= No ; Should not try to affect ally units
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Darkness_Override
 	Behavior   = DarknessSpecialPower ModuleTag_Darkness
		SpecialPowerTemplate			= SpellBookDarkness
		AttributeModifier				= SpellBookDarkness
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO -HORDE ALLIES
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_DARKNESS_DURATION
		ChangeWeather					= CLOUDY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_CloudBreak_Override
	Behavior = CloudBreakSpecialPower	ModuleTag_CloudBreak
		SpecialPowerTemplate			= SpellBookCloudBreak
    	SunbeamObject					= CloudBreakSunbeam
		ObjectSpacing					= 300
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes ; cancel negative effects on good guys
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_CLOUDBREAK_DURATION
		ChangeWeather					= SUNNY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Heal_Override
  	Behavior = PlayerHealSpecialPower ModuleTag_Heal
		SpecialPowerTemplate  = SpellBookHeal
		HealAffects			  = INFANTRY CAVALRY MONSTER MACHINE SHIP DOZER
		HealAmount			  = 1.0	; 0.5 = 50% of maximum health
		HealRadius			  = SPELL_HEAL_RADIUS_UNIT_SCAN
		HealFX				  = FX_SpellHealUnitHealBuff		;FX_DefaultUnitHealBuff
		; To replenish hordes a bit
		HealOCL               = OCL_HealSpellHordeReplenishPing
		AvailableAtStart	  = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	
	
	AddModule ModuleTag_ArrowVolley_Override	
	Behavior = OCLSpecialPower ModuleTag_ArrowVolleyEvil
		SpecialPowerTemplate = SpellBookArrowVolleyEvil
		OCL                  = OCL_SpellBookArrowVolley
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End
	
	AddModule ModuleTag_Watcher_Override
	Behavior = OCLSpecialPower ModuleTag_SummonWatcher
		SpecialPowerTemplate = SpellBookWatcherAlly
		OCL                  = OCL_WatcherSummoning
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

     CommandSet = ElvenSpellBookCommandSet_Override
     RadarPriority = NOT_ON_RADAR
     KindOf = SPELL_BOOK IMMOBILE IGNORES_SELECT_ALL INERT
End

ChildObject ElvenChildSpellBook_Override ElvenSpellBook_Override
     CommandSet = ElvenSpellBookCommandSet_Override

End


CommandSet MordorSpellBookCommandSet_Override
	1 = Command_SpellBookScavenger
	;2 = Command_SpellBookFarsight
	3 = Command_SpellBookRebuild
	;4 = Command_SpellBookLoneTower
	5 = Command_SpellBookWarChant
	;6 = Command_SpellBookBarricade
	7 = Command_SpellBookElvenGifts
	;8 = Command_SpellBookDarkness
	9 = Command_SpellBookHeal
	;10 = Command_SpellBookCloudBreak
	11 = Command_SpellBookArrowVolleyEvil
	;12 = Command_SpellBookWatcherAlly
End


CommandSet MordorSpellStoreCommandSet_Override
	1 = Command_PurchaseSpellScavenger
	;2 = Command_PurchaseSpellFarsight
	3 = Command_PurchaseSpellRebuild
	;4 = Command_PurchaseSpellLoneTowerMen
	5 = Command_PurchaseSpellWarChant
	;6 = Command_PurchaseSpellBarricade
	7 = Command_PurchaseSpellElvenGifts
	;8 = Command_PurchaseSpellDarkness
	9 = Command_PurchaseSpellHeal
	;10 = Command_PurchaseSpellCloudBreak
	11 = Command_PurchaseSpellArrowVolleyEvil
	;12 = Command_PurchaseSpellWatcherAlly

End

Object MordorSpellBook_Override

	AddModule ModuleTag_Scavenger_Override
	Behavior = ScavengerSpecialPower ModuleTag_Scavenger
		SpecialPowerTemplate	= SpellBookScavenger
		BountyPercent			= 3.0
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
        End

	AddModule ModuleTag_Farsight_Override
	Behavior				 = OCLSpecialPower ModuleTag_Farsight
		SpecialPowerTemplate = SpellBookFarsight
		OCL                  = OCL_SpecialPowerFarSeeing
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_Rebuild_Override
	Behavior = PlayerHealSpecialPower ModuleTag_Rebuild
		SpecialPowerTemplate = SpellBookRebuild
		HealAffects			 = STRUCTURE
		HealAsPercent		 	 = No
		HealAmount			 = 4000
		HealRadius			 = SPELL_REBUILD_RADIUS_STRUCTURE_SCAN
		HealFX				 = FX_SpellRebuild
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_LoneTower_Override
	Behavior = OCLSpecialPower ModuleTag_SpawnLoneTower
		SpecialPowerTemplate = SpellBookSpawnLoneTower
		OCL                  = OCL_GondorSpellBookSpawnLoneTower
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_WarChant_Override
 	Behavior = SpecialPowerModule		SpellBookWarChant_ModuleTag
		SpecialPowerTemplate		= SpellBookWarChant
		AttributeModifier			= SpellBookWarChant
		AttributeModifierRange		= 100
		AttributeModifierAffects	= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		TriggerFX					= FX_SpellWarChant
		UpdateModuleStartsAttack	= No
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_Barricade_Override
   	Behavior = OCLSpecialPower	ModuleTag_Barricade
		SpecialPowerTemplate			= SpellBookBarricade
		OCL								= OCL_SpellBookBarricade
		CreateLocation					= CREATE_AT_LOCATION
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic		= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_ElvenGIfts_Override
	Behavior = PlayerUpgradeSpecialPower	SpellBookElvenGifts_ModuleTag
		SpecialPowerTemplate		= SpellBookElvenGifts
		UpgradeName 				= Upgrade_ElvenGift
		UpdateModuleStartsAttack	= No
		AffectAllies				= No ; Should not try to affect ally units
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Darkness_Override
 	Behavior   = DarknessSpecialPower ModuleTag_Darkness
		SpecialPowerTemplate			= SpellBookDarkness
		AttributeModifier				= SpellBookDarkness
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO -HORDE ALLIES
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_DARKNESS_DURATION
		ChangeWeather					= CLOUDY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_CloudBreak_Override
	Behavior = CloudBreakSpecialPower	ModuleTag_CloudBreak
		SpecialPowerTemplate			= SpellBookCloudBreak
    	SunbeamObject					= CloudBreakSunbeam
		ObjectSpacing					= 300
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes ; cancel negative effects on good guys
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_CLOUDBREAK_DURATION
		ChangeWeather					= SUNNY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Heal_Override
  	Behavior = PlayerHealSpecialPower ModuleTag_Heal
		SpecialPowerTemplate  = SpellBookHeal
		HealAffects			  = INFANTRY CAVALRY MONSTER MACHINE SHIP DOZER
		HealAmount			  = 1.0	; 0.5 = 50% of maximum health
		HealRadius			  = SPELL_HEAL_RADIUS_UNIT_SCAN
		HealFX				  = FX_SpellHealUnitHealBuff		;FX_DefaultUnitHealBuff
		; To replenish hordes a bit
		HealOCL               = OCL_HealSpellHordeReplenishPing
		AvailableAtStart	  = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	
	
	AddModule ModuleTag_ArrowVolley_Override	
	Behavior = OCLSpecialPower ModuleTag_ArrowVolleyEvil
		SpecialPowerTemplate = SpellBookArrowVolleyEvil
		OCL                  = OCL_SpellBookArrowVolley
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End
	
	AddModule ModuleTag_Watcher_Override
	Behavior = OCLSpecialPower ModuleTag_SummonWatcher
		SpecialPowerTemplate = SpellBookWatcherAlly
		OCL                  = OCL_WatcherSummoning
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

     CommandSet = MordorSpellBookCommandSet_Override
     RadarPriority = NOT_ON_RADAR
     KindOf = SPELL_BOOK IMMOBILE IGNORES_SELECT_ALL INERT
End

ChildObject MordorChildSpellBook_Override MordorSpellBook_Override
     CommandSet = MordorSpellBookCommandSet_Override

End


CommandSet WildSpellBookCommandSet_Override
	1 = Command_SpellBookScavenger
	;2 = Command_SpellBookFarsight
	3 = Command_SpellBookRebuild
	;4 = Command_SpellBookLoneTower
	5 = Command_SpellBookWarChant
	;6 = Command_SpellBookBarricade
	7 = Command_SpellBookElvenGifts
	;8 = Command_SpellBookDarkness
	9 = Command_SpellBookHeal
	;10 = Command_SpellBookCloudBreak
	11 = Command_SpellBookArrowVolleyEvil
	;12 = Command_SpellBookWatcherAlly
End


CommandSet WildSpellStoreCommandSet_Override
	1 = Command_PurchaseSpellScavenger
	;2 = Command_PurchaseSpellFarsight
	3 = Command_PurchaseSpellRebuild
	;4 = Command_PurchaseSpellLoneTowerMen
	5 = Command_PurchaseSpellWarChant
	;6 = Command_PurchaseSpellBarricade
	7 = Command_PurchaseSpellElvenGifts
	;8 = Command_PurchaseSpellDarkness
	9 = Command_PurchaseSpellHeal
	;10 = Command_PurchaseSpellCloudBreak
	11 = Command_PurchaseSpellArrowVolleyEvil
	;12 = Command_PurchaseSpellWatcherAlly

End

Object WildSpellBook_Override

	AddModule ModuleTag_Scavenger_Override
	Behavior = ScavengerSpecialPower ModuleTag_Scavenger
		SpecialPowerTemplate	= SpellBookScavenger
		BountyPercent			= 6.0
		AvailableAtStart		= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
        End

	AddModule ModuleTag_Farsight_Override
	Behavior				 = OCLSpecialPower ModuleTag_Farsight
		SpecialPowerTemplate = SpellBookFarsight
		OCL                  = OCL_SpecialPowerFarSeeing
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_Rebuild_Override
	Behavior = PlayerHealSpecialPower ModuleTag_Rebuild
		SpecialPowerTemplate = SpellBookRebuild
		HealAffects			 = STRUCTURE
		HealAsPercent		 	 = No
		HealAmount			 = 4000
		HealRadius			 = SPELL_REBUILD_RADIUS_STRUCTURE_SCAN
		HealFX				 = FX_SpellRebuild
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

	AddModule ModuleTag_LoneTower_Override
	Behavior = OCLSpecialPower ModuleTag_SpawnLoneTower
		SpecialPowerTemplate = SpellBookSpawnLoneTower
		OCL                  = OCL_GondorSpellBookSpawnLoneTower
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_WarChant_Override
 	Behavior = SpecialPowerModule		SpellBookWarChant_ModuleTag
		SpecialPowerTemplate		= SpellBookWarChant
		AttributeModifier			= SpellBookWarChant
		AttributeModifierRange		= 100
		AttributeModifierAffects	= GENERIC_BUFF_RECIPIENT_OBJECT_FILTER
		TriggerFX					= FX_SpellWarChant
		UpdateModuleStartsAttack	= No
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_Barricade_Override
   	Behavior = OCLSpecialPower	ModuleTag_Barricade
		SpecialPowerTemplate			= SpellBookBarricade
		OCL								= OCL_SpellBookBarricade
		CreateLocation					= CREATE_AT_LOCATION
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish	= SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic		= SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End   
	End	

	AddModule ModuleTag_ElvenGIfts_Override
	Behavior = PlayerUpgradeSpecialPower	SpellBookElvenGifts_ModuleTag
		SpecialPowerTemplate		= SpellBookElvenGifts
		UpgradeName 				= Upgrade_ElvenGift
		UpdateModuleStartsAttack	= No
		AffectAllies				= No ; Should not try to affect ally units
		AvailableAtStart			= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Darkness_Override
 	Behavior   = DarknessSpecialPower ModuleTag_Darkness
		SpecialPowerTemplate			= SpellBookDarkness
		AttributeModifier				= SpellBookDarkness
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO -HORDE ALLIES
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_DARKNESS_DURATION
		ChangeWeather					= CLOUDY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_CloudBreak_Override
	Behavior = CloudBreakSpecialPower	ModuleTag_CloudBreak
		SpecialPowerTemplate			= SpellBookCloudBreak
    	SunbeamObject					= CloudBreakSunbeam
		ObjectSpacing					= 300
		AttributeModifierAffects		= ANY +INFANTRY +CAVALRY +MONSTER -HERO ENEMIES
		ReEnableAntiCategory			= Yes ; cancel negative effects on good guys
		AttributeModifierWeatherBased	= Yes			
		WeatherDuration					= SPELL_CLOUDBREAK_DURATION
		ChangeWeather					= SUNNY
		AvailableAtStart				= No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	

	AddModule ModuleTag_Heal_Override
  	Behavior = PlayerHealSpecialPower ModuleTag_Heal
		SpecialPowerTemplate  = SpellBookHeal
		HealAffects			  = INFANTRY CAVALRY MONSTER MACHINE SHIP DOZER
		HealAmount			  = 1.0	; 0.5 = 50% of maximum health
		HealRadius			  = SPELL_HEAL_RADIUS_UNIT_SCAN
		HealFX				  = FX_SpellHealUnitHealBuff		;FX_DefaultUnitHealBuff
		; To replenish hordes a bit
		HealOCL               = OCL_HealSpellHordeReplenishPing
		AvailableAtStart	  = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End	
	
	AddModule ModuleTag_ArrowVolley_Override	
	Behavior = OCLSpecialPower ModuleTag_ArrowVolleyEvil
		SpecialPowerTemplate = SpellBookArrowVolleyEvil
		OCL                  = OCL_SpellBookArrowVolley
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End
	
	AddModule ModuleTag_Watcher_Override
	Behavior = OCLSpecialPower ModuleTag_SummonWatcher
		SpecialPowerTemplate = SpellBookWatcherAlly
		OCL                  = OCL_WatcherSummoning
		CreateLocation       = CREATE_AT_LOCATION
		AvailableAtStart	 = No
		RequirementsFilterMPSkirmish = SPELL_BOOK_REQUIREMENTS_FILTER
		RequirementsFilterStrategic = SPELL_BOOK_REQUIREMENTS_FILTER_STRATEGIC
	End
	End

     CommandSet = WildSpellBookCommandSet_Override
     RadarPriority = NOT_ON_RADAR
     KindOf = SPELL_BOOK IMMOBILE IGNORES_SELECT_ALL INERT
End

ChildObject WildChildSpellBook_Override WildSpellBook_Override
     CommandSet = WildSpellBookCommandSet_Override

End

Science SCIENCE_Scavenger
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_DWARVES OR SCIENCE_ANGMAR 
     SciencePurchasePointCostMP = 5
End

Science SCIENCE_ElvenGifts
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_Rebuild OR SCIENCE_DWARVES OR SCIENCE_ANGMAR  
     SciencePurchasePointCostMP = 20
End


Science SCIENCE_Farsight
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_DWARVES OR SCIENCE_ANGMAR 
     SciencePurchasePointCostMP = 5
End

Science SCIENCE_Rebuild
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_DWARVES OR SCIENCE_ANGMAR 
     SciencePurchasePointCostMP = 30
End

Science SCIENCE_SpawnLoneTower
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_Scavenger OR SCIENCE_DWARVES OR SCIENCE_ANGMAR 
     SciencePurchasePointCostMP = 15
End

Science SCIENCE_Barricade
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_Rebuild OR SCIENCE_DWARVES OR SCIENCE_ANGMAR 
     SciencePurchasePointCostMP = 20
End

Science SCIENCE_WarChant
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_Farsight OR SCIENCE_Scavenger OR SCIENCE_DWARVES OR SCIENCE_ANGMAR 
     SciencePurchasePointCostMP = 15
End

Science SCIENCE_Darkness
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_WarChant OR SCIENCE_SpawnLoneTower OR SCIENCE_DWARVES OR SCIENCE_ANGMAR 
     SciencePurchasePointCostMP = 20
End

Science SCIENCE_Heal
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_WarChant OR SCIENCE_Barricade OR SCIENCE_DWARVES OR SCIENCE_ANGMAR 
     SciencePurchasePointCostMP = 30
End

Science SCIENCE_CloudBreak
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_Barricade OR SCIENCE_ElvenGifts OR SCIENCE_DWARVES OR SCIENCE_ANGMAR 
     SciencePurchasePointCostMP = 20
End

Science SCIENCE_ArrowVolleyEvil
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_Darkness OR SCIENCE_Heal OR SCIENCE_DWARVES OR SCIENCE_ANGMAR 
     SciencePurchasePointCostMP = 60
End

Science SCIENCE_WatcherAlly
     PrerequisiteSciences = SCIENCE_GOOD OR SCIENCE_EVIL OR SCIENCE_MEN OR SCIENCE_MORDOR OR SCIENCE_ISENGARD OR SCIENCE_ELVES OR SCIENCE_WILD OR SCIENCE_CloudBreak OR SCIENCE_Heal OR SCIENCE_DWARVES OR SCIENCE_ANGMAR  
     SciencePurchasePointCostMP = 25
End
PlayerTemplate FactionMen
     PurchaseScienceCommandSetMP = MenSpellStoreCommandSet_Override
     SpellBookMp = MenSpellBook_Override
End

PlayerTemplate FactionElves
     PurchaseScienceCommandSetMP = ElvenSpellStoreCommandSet_Override
     SpellBookMp = ElvenSpellBook_Override
End

PlayerTemplate FactionDwarves
     PurchaseScienceCommandSetMP = DwarvenSpellStoreCommandSet_Override
     SpellBookMp = DwarvenSpellBook_Override
End

PlayerTemplate FactionIsengard
     PurchaseScienceCommandSetMP = IsengardSpellStoreCommandSet_Override
     SpellBookMp = IsengardSpellBook_Override
End

PlayerTemplate FactionMordor
     PurchaseScienceCommandSetMP = MordorSpellStoreCommandSet_Override
     SpellBookMp = MordorSpellBook_Override
End

PlayerTemplate FactionWild
     PurchaseScienceCommandSetMP = WildSpellStoreCommandSet_Override
     SpellBookMp = WildSpellBook_Override
End

PlayerTemplate FactionAngmar
     PurchaseScienceCommandSetMP = AngmarSpellStoreCommandSet_Override
     SpellBookMp = AngmarSpellBook_Override
End
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; REd
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>



Object MordorBalrog
 
	RemoveModule ModuleTag_LifetimeUpdate
 ReplaceModule ModuleTag_02
  Body = ActiveBody ModuleTag_Overide
    MaxHealth = 42000                 
    MaxHealthDamaged = 11000
  End
 End
End

Object AngmarShadeWolf
RemoveModule ModuleTag_LifetimeUpdate
End



Object RohanOathbreakerHorde
RemoveModule ModuleTag_LifetimeUpdate
End





;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>



 Weather

  HardwareFogColor = R:20 G:20 B:20

  HardwareFogEnable = Yes

  HardwareFogStart = 400

  HardwareFogEnd = 1200


;; ---------------------------------
;;              SNOW
;; ---------------------------------

SnowEnabled = Yes               ; enable/disable snow on the map.
IsSnowing = Yes		; is it snowing today?

SnowTexture = EXRainDrop.tga   ;EXSnowFlake2.tga	;EXMask.tga	;EXRainDrop.tga

SnowBoxHeight = 500             ; height from which snow falls
SnowSpacing = 22                ; snow spacing -- less means more
NumberTiles = 11

SnowAmplitude = 8		              ; amount of side-to-side movement. 
SnowFrequencyScaleX = 0.04         ; speed of side-to-side wave movement.
SnowFrequencyScaleY = 0.01         ; speed of side-to-side wave movement. 

SnowPointSize = 1               ; scale the size of snow particles.
SnowMinPointSize = 5           ; min point size
SnowMaxPointSize = 15           ; max point size

SnowPointSprites = no           ; set to "no" for point-sprite emulation.
SnowQuadSize = 2.7               ; scale the size of snow particles when using point-sprite emulation.
    

SnowSpeed = 200.0               ; speed at which snow falls

  ; Lightning stuff
  LightningEnabled = Yes           ; enable/disable lightning
  LightningFactor = 1.0 1.0       ; flash amount (0, 1) -- make drops brighter by this much
  LightningDuration = 50000          ; how long the lightning lasts
  LightningChance = 1.95          ; chance of lightning (0, 1)

End


WaterTransparency
  ReflectionPlaneZ = 100.0;
  ReflectionOn = Yes
End


;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Thunder Strikes;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

FXList FX_BoltHit1


  ParticleSystem
    Name = LightningStrike2 FollowBone:Yes
    OrientToObject = Yes
    CreateBoneOverride = None
    TargetBoneOverride = None
    UseTargetOffset = Yes
    TargetOffset = X:50.0 Y:-50.0 Z:300
    InitialDelay = 1 1 UNIFORM   ;In milliseconds
  End
  ParticleSystem
    Name = LightningStrike3 FollowBone:Yes
    OrientToObject = Yes
    CreateBoneOverride = None
    TargetBoneOverride = None
    UseTargetOffset = Yes
    InitialDelay = 1000 1000 UNIFORM   ;In milliseconds
    TargetOffset = X:0.0 Y:0.0 Z:300
  End

;  ParticleSystem
;    Name = LightningStrike2
;    Offset = X:0 Y:0 Z:00
;    InitialDelay = 1000 1000 UNIFORM   ;In milliseconds
;    OrientToObject = Yes
;  End

  ParticleSystem
    Name = SarumanLightningHit02
    Offset = X:0 Y:0 Z:00
    OrientToObject = Yes
  End
ParticleSystem
    Name = SarumanLightningHit03
    Offset = X:0 Y:0 Z:0
    OrientToObject = Yes
  End
ParticleSystem
    Name = SarumanLightningHitDistortion
    Offset = X:0 Y:0 Z:20
    OrientToObject = Yes
  End
  ParticleSystem
    Name = SarumanLightningHitShockwave
    Offset = X:0 Y:0 Z:0
    OrientToObject = Yes
  End
   ParticleSystem
    Name = SarumanLightningHitArc
    Offset = X:0 Y:0 Z:10
    OrientToObject = Yes
  End
    ParticleSystem
    Name = SarumanLightningHitSmoke
    Offset = X:0 Y:0 Z:10
    OrientToObject = Yes
  End
   DynamicDecal	; A decal that belongs to nobody, but updates internally to fade and tint and such
		DecalName		= EXCracks04
		Size			= 70
		Color			= R:15 G:15 B:15
		Offset			= X:0 Y:0
		OpacityStart		= 0
		OpacityFadeTimeOne	= 200
		OpacityPeak			= 205	
		OpacityPeakTime		= 220
		OpacityFadeTimeTwo	= 30000
		OpacityEnd			= 0

		StartingDelay	= 350
		Lifetime		= 34000
	End
  
End



Weapon ThunderWeapon	
	RadiusDamageAffects		= ENEMIES ALLIES NEUTRALS NOT_SIMILAR	
	FireFX                = FX_BoltHit1  ;FX_GandalfLightningCharge1
	// A basic Nugget that just does damage
	DamageNugget                
		Damage        = 50000
		Radius        = 90	
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed		= 1000.0 ; must match the ShockWaveSpeed below
	End

	//Start a fire - Removed at the request of Wes "Ensign Crusher" Eckhart
	FireLogicNugget 
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	50
		Damage		=	SPELL_SUNFLARE_FIRE_DAMAGE
	End
	//Design knob
	FireLogicNugget
		LogicType		=	INCREASE_FUEL
		Radius			=	30
		Damage			=	SPELL_SUNFLARE_FIRE_FUEL
		MinMaxBurnRate	=	SPELL_SUNFLARE_FIRE_MINMAX_BURNRATE
		MinDecay		=	1
		MaxResistance	=	0
	End
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ThunderStrikes;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;

Object CINE_Rainbow

  AddModule
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_DIELIKETHIS
    StartsActive = Yes
    DeathWeapon = ThunderWeapon
  End
  End

    ; *** ART Parameters ***
;  ReplaceModule ModuleTag_01
  AddModule
  Draw = W3DScriptedModelDraw ModuleTag_011
    DefaultModelConditionState
      Model = Rainbow
      ParticleSysBone ROOTTRANSFORM FX_BoltHit1 FollowBone:yes
    End
  End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:ORainbow
  EditorSorting = SYSTEM
  Browser = CINEMATICS SYSTEM

  ; *** ENGINEERING Parameters ***
  KindOf = SELECTABLE IMMOBILE
  Shadow = NONE
;  ReplaceModule ModuleTag_03
  AddModule
  Body = ActiveBody ModuleTag_031
    MaxHealth = 1.0
  End
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 13.6
  GeometryMinorRadius = 12.0
  GeometryHeight = 12.0
  GeometryIsSmall = No
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;Fog / Mist;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
; ALWAYS_RENDER all Fxs


FXParticleSystem AtmosphericHaze1
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = EXCloud02.tga
    Lifetime = 500 500
    Size = 75 75
    BurstDelay = 1 1
    BurstCount = 3 3
  End
  Color = DefaultColor
    Color1 = R:255 G:255 B:255 0
  End
  Alpha = DefaultAlpha
    Alpha2 = 0.2 0.2 50
    Alpha3 = 0 0 100
  End
  Update = DefaultUpdate
    SizeRateDamping = 1.01 1.01
    AngleZ = 0 7
    AngularRateZ = -0.01 0.01
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
    DriftVelocity = X:0.16 Y:0.16 Z:0.24
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = CylinderEmissionVolume
    Radius = 540
    Length = 24
  End
  Draw = DefaultDraw
  End
End

Object CINE_AtmosphericHaze

;  ReplaceModule ModuleTag_01
  AddModule
  Draw = W3DScriptedModelDraw ModuleTag_011
    DefaultModelConditionState
      Model = None
      ParticleSysBone = None AtmosphericHaze1
    End
  End
  End
End

;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;


