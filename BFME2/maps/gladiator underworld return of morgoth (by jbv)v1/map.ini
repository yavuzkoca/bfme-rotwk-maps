;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
; WRITTEN BY JBV3737
;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
; bfme2.heavenagmes.com rules thanks guys for posting my maps!
;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
; this ini.file is for "Gladiator Underworld, War For Hell (By JBV)" and/or any map i want to make.
; please dont just copy this ini.file and put it on your map, and say you wrote it.
; go to bfme2.heavengames.com and ask me in comments if you can use it, and/or parts of it.
; if you respect me i will respect you and your map(s).
;
; you can use this ini.file IF you give me credit for making it.( making a message in the map, "ini.file made by jbv3737")
;Still i do not want anyone Staining my name. no dumass map, please make maps that a very worth while.
; I would think anyone that can read an ini.file, or even get into here is fully able to make there own version,
; I made this ini.file in order,( most order is elrond and or gimli.
; if you are just learning i would advise you look very closely to what i did with them.
; 
;I Will be in EA games soon i hope to god.......  8>)
;Not offical but i am dedicated to geting into EA games, and or any other game, or program company!
;
; Disclaimer: I am not at fault if this ini.file changes, or hurts your system or hardware, software
;Or causes out of synch
;Use, Read, And play At your own risk with my ini.files.
;
;
;Just a tip to All the Noobs trying ot make there own ini.files,
;The >        ;      < letter means do not read this for the ini.file,
;if you just have letter in the middle of nowhere it will crash the game because it does not understand wtf you want and what it is.
; >   End  < ends a block, a place where it is reading data, End means stop there and go on to a new block, Next block, Item and Or Data.
;
;
;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
;IDEAS IDEAS IDEAS And more NOTES!
;Gimli Earth Quake As a Wave, Research the earth quake powers, and make a new one for gimli, DONE FIXED
;Make units fly staight up.*   DONE FIXED
;
;Give Elrond a new wave replace his leadership with it, DONE FIXED
;Remove Farsight and give him new abillity He Needs A Blade Master. figer out how to make blade master give more health. like "Hero mode armor just like the sword,  DONE FIXED
;The Modifier list can change it i think, it does for gandalf!!!!! Figer it out. DONE FIXED
;
;Make elrond a Flood Waveabillity "Beserkidiot made the idea." DONE FIXED
;
;Elrond will have 3 places for new abillities, the battle stance, leadership, and farsight all must be replaced DONE FIXED
;
;Research Gimli's and balrogs leap, maybe we can use this abillity for the morgoth. : )
;
;Thank you Beserkidiot for the great ideas, still ideas are ideas, i still need to make them and convert em, and move em lol,
;Thanks for the brainstorming with me, i will give you credits for the ones you said and the ones i liked
;
;	
;Beserkidiot's Ideas for new abillitys
;Elronds Flood Wave, A wave that goes from elrond and pushes all enemies away as well kills them. DONE FIXED just moved Arwen's flood into elrond. : ) still pritty cool even if it is ;normal.
;Haldirs, fire arrow makes a fire storm where ever it lands on who ever. makie it target eneimys or maybe make it go to a place like legolases ring of power XXXXXX
;Give haldir a magic arrow type. DONE FIXED
;Gandalfs, Sun schortch/ sunrays that burn everything, make it like a wave., small but powerfull, lower level maybe level 3-7  DONE FIXED
;
;(My Idea)
; Prehaps make balrog fly away in fear when ever gadnalf uses his new sun rays XXXX
; not what i explected before, balrog would be lured to it because its more fire then sun rays.
;
;
;
;
;
; NOTES NOTES NOTES! To Self READ ALL OF THIS AND MAKE SURE EVERTHING IS DONE BEFORE PLAYING IT!
; NOTES NOTES NOTES! To Self READ ALL OF THIS AND MAKE SURE EVERTHING IS DONE BEFORE PLAYING IT!
; NOTES NOTES NOTES! To Self READ ALL OF THIS AND MAKE SURE EVERTHING IS DONE BEFORE PLAYING IT!
; NOTES NOTES NOTES! To Self READ ALL OF THIS AND MAKE SURE EVERTHING IS DONE BEFORE PLAYING IT!
; NOTES NOTES NOTES! To Self READ ALL OF THIS AND MAKE SURE EVERTHING IS DONE BEFORE PLAYING IT!
;
; NOTES TO SELF!
;
; MAKE ALL THESE TASKS DONE AND FIXED.
;
; WRITE DOWN EVER IDEA AND NOTES YOU CAN THINK UP!
;
;WHEN IN DONE VERSION ( for heros not the map!!!) GO THROW EACH HERO AND TEST EVERYTHING ON EACH HERO,
;
;MAKE SURE ALL TIMERS ARE CORRECT TIMING, NO TIMERS THAT ARE 5 SECONDS LONG WHNE THEY SHOULD BE 300 SECONDS LONG.
;TAKE OUT THE FKIN TEST MODE OF THE GAME WHEN YOU ARE DONE ALL ABILLITYS 
;
;GLADIATOR UNDERWORLD WAS FULL OF GLITCHIES PURELY BECAUSE YOU WANTED TO MOVE ON TO MAKING THE MAP,
;NOT THIS TIME MAKE THE HEROS 100000000000% DONE NO GLITCHES NO NOTHING, 
;
;PRIMARY OBJECTIVE IS TO MAKE THE HEROS PERFECT!
;SECONDARY IS MAKING THE MAP PERFECT!
;
;Make the 6 heros blade master all magic, this will kill Army of the dead, make sure there normal swords are not magic DONE FIXED
;
;Make Gimlis Animations For his earth quake power and axe wind. DONE FIXED 
;Make Gimlis other powers, animations DONE FIXED!
;
;Make Gimlis axes less damage to heros like sauron and morgoth XXX gimli needs to be better, hes will be weakest if i do that, his axes are fine.
;
; Fix aragorn dead knife, to weak, same damage as famamirs arrows.  DONE FIXED way better.
;
;Make sure all the evil bad and enemy heros, and beasts etc are not just killed right away from aragorns, army of the dead. XXX why not??? the other hero powers own them too?
;Use the DamageScalar down 1 page to add new units top the 1% damage taken* for army of the dead sword. XXX
;THIS MAY NOT WORK BECAUSE ITS THE CRUSHER WEAPON THAT MAKES THE ARMY OF THE DEAD SO DEADLY, XXX
;TEST IT AND IF TRUE,AND IT DOES OWN EVERYTHING, FIND ARMY DEAD CRUSHER WEAPON. AND DO THE DamageScalar on the crusher weapon etc! XXX
;
; MAKE BEASTS LIKE DRAGON BETTER ARMOR VS ARROWS AND MAGIC> basicly any arrows or axe wind kills dragons one hit. DONE FIXED
;
;
;
; Make sure the 3 new heros Dont have any glitchese unlike gandalf did, last gladaitor underworld. DONE FIXED
; Fix Gandalfs glitches, if u cant, take off his horse, and make him a new abillity. DONE FIXED
;
; Fix the word of power glitch where u have to clikc on word of power then click on the ground, DONE FIXED!
; Make it noramal click once and it goes.  DONE! FIXED! ^^^^
;
; Remake All Old Abilities, don't have "Fast That Which is same abillity just a little faster."  XXXXXXXXXXXXXXXXXXXXX Elronds Restoration, and Whirlwind powers are too good to ;be changed. REST ARE CHANGED!
;
; Make Aragorns Elendil Into another power or, make it better, prehaps into a word of power?, or a word of power that does hardly any dmg, but makes all enemies fall to there knees?
;Or maybe just makes all enemies Blast back, look for the sword FX near the end, change it to a powerfull wave, then make enenmies blast back. 
;with very low damage, maybe 30 around the map, and 100+ near him. XXXXXXXXXXXXXXXXXXXXXXXXXX JUST IMPORVED ELENDIL OVER 1000 AREA
;
;Make Gandalfs Istari light Much Bigger, give it new name and shorter timer, make it into a usefull power., also change it to burn enemies not blast them back 2 feet. DONE FIXED
; prehaps blast em back 20-40 feet and burn them onfire. : ) DONE FIXED ISTARTI LIGHT DONE!
;
;MAKE SURE ALL HEROS HAVE SAME TREAT LEVEL! TO EVEN GAME, USE   DONE FIXED all the heros are defaultly 100
; HALDIR_THREAT_LEVEL TO FIND THE GOOD HEROS TREAT LEVELS, ALL 6 HEROS TREAT LEVEL SHOULD BE 100, IF NOT CHANGE IT! DONE FIXED
; 
; History of balrog. DONE FIXED MORGOTH JUST NEEDS NEW ABILLITYS!
;Demon of Fire serving under Morgoth, the Dark Lord. After the fall of Morgoth some Balrogs escaped
;the fury of the Valar and hid themselves in the deep places of the world. The Fellowship encountered a Balrog in Moria,
;and after a long battle, Gandalf defeated this Balrog. A Balrog is a Maia. 
;
;Morgoth will be the Evil god hero, make him like a nazgul. black with new powers. use faramir as a model, he is easy to make into black, if not use someone that is evil. DONE FIXED USE GANDALF AS MODEL
;Story, Morgoth was damned soul in the underworld, and now is coming back to middle earth realm. XXX
;make him a black fire sword, and a black arrow bow, XXXX
;Set up is name to be Morgoth. DONE FIXED
;Mis his voice to be very evil, mix of sauron, nazgul, and some more evil things, I wish i could make my own aduio damn it. DONE FIXED.
;
;bring back old heros from grassland of gore, on bfme1. DONE FIXED
;I need saruman, and lurtz, fire wave* and lurts cripple wind. DONE FIXED
;
;Make battle of the gladiartors areana, use temple of the gods idea for this, give players a worker or a unit, to go over a area, to buy a hero for anmout of score, XXX Made Hero Mode, Costum heros
;Set a score to which someone wins at. make it a race game, the first to get to lets say 100000 score wins, and the other lose. XXX Made Hero Mode, Costum heros
;
;Decide making a third mode for battle fo the gladiator, a player vs player mode, 3v3 etc. XXX Im tired i want to spread it!
;This will mean make intro not player heros, but civil heros. XXX ^^^
;
;Keep heros even, make this the last task, make the heros fight eacher see which one always wins. DONE FIXED
;or make a default hero, base all other heros vs him, level them upto them, you may need a buddy to help you with this. XXX
;
;
;Haldir, Gimli And Elrond All Need A Wave Abillity just like the other 3, and death waves DONE FIXED
;Give Haldir A Wave : Ring of Fire, DONE FIXED
;Make Haldir's Death Wave, Ring Of Fire, DONE FIXED
;
;Make Gimli A New Wave, Earth Quake DONE FIXED
;Make Gimli's Death Wave, Earth Quake  DONE FIXED
;
;Make Elrond A New Wave, DONE FIXED
;Make Elrond Death Wave,  DONE FIXED
;
;
; History of balrog.
;Demon of Fire serving under Morgoth, the Dark Lord. After the fall of Morgoth some Balrogs escaped
;the fury of the Valar and hid themselves in the deep places of the world. The Fellowship encountered a Balrog in Moria,
;and after a long battle, Gandalf defeated this Balrog. A Balrog is a Maia. 
;

;NOT SURE IF THIS IS TRUE TO J.R.TOKEN BUT WHO GIVES A F*** STILL GONNA BE THE COOLEST MAP LMAO.!
;Morgoth will be the Evil god hero, make him like a nazgul. black with new powers. use faramir as a model, he is easy to make into black, if not use someone that is evil.
;Story, Morgoth was damned soul in the underworld, and now is coming back to middle earth realm.
;make him a black fire sword, and a black arrow bow,
;Set up is name to be Morgoth.
;Mis his voice to be very evil, mix of sauron, nazgul, and some more evil things, I wish i could make my own aduio damn it.
;
;Names for the 2 balrog generals XXX
;Maia    A smaller Balrog, less health, hes weaker, XXX
;Gothmog A balrgos general, very good health and armor give him new abillity maybe ring of fire type. XXX bfme2.heavengames.com has bad glossery, morgoth is that F***ed up orc general in the movie, he is also on world builder!
;the two balrogs have no names but, BALROG! DONE FIXED
;
;

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

; Rename these then put then on ever new hero, rename then and rename there XP-S modifier list,
;
; Normal 100+ health every health level up, lets change that to 200 each level up,
;
; normal attack level up is 10 attack on then all and 20 for 9*,which is rank 10,
; lets change that to 30+ attack each level
;
; remember that each number is one below the real level ranking up. such as 3 is rank 4.
; if this is gona mess u up then change names to not this, make HeroLevelUpDamage1 to be 2 and at level 2
; 9 converted into 10, for rank 10.
;
;
;CORRECTION:::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::::!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!! 
;I HAVE DECIDED TO NOT CHANGE THE HEROS HEALTHS LEVEL UPS
;OR THE ATTACKS DAMAGES, THIS WOULD MAKE DIEING A VERY BAD AND
;UNENJOYABLE MAP FOR NEW PLAYERS, THERE WOULD BE A FEW THAT WOULD
;MAKE IT TO LEVEL 10 AND STAY ALIVE, AND ALL THE LEVEL 1s WOULD DIE AGAIN AND AGAIN.	
;
;
;ModifierList NewHeroLevelUpDamage1
;	Category = LEVEL
;	Modifier = DAMAGE_ADD 100				
;	Modifier = HEALTH 300	 			
;	Duration = 0
;End
;
;ModifierList NewHeroLevelUpDamage2
;	Category = LEVEL
;	Modifier = DAMAGE_ADD HERO_LVL3_DAM_ADD				
;	Modifier = HEALTH HERO_LVL3_HP_ADD	 			
;	Duration = 0
;End
;
;ModifierList NewHeroLevelUpDamage3
;	Category = LEVEL
;	Modifier = DAMAGE_ADD HERO_LVL4_DAM_ADD				
;	Modifier = HEALTH HERO_LVL4_HP_ADD	 			
;	Duration = 0
;End
;
;ModifierList NewHeroLevelUpDamage4
;	Category = LEVEL
;	Modifier = DAMAGE_ADD HERO_LVL5_DAM_ADD				
;	Modifier = HEALTH HERO_LVL5_HP_ADD	 			
;	Duration = 0
;End
;
;ModifierList NewHeroLevelUpDamage5
;	Category = LEVEL
;	Modifier = DAMAGE_ADD HERO_LVL6_DAM_ADD				
;	Modifier = HEALTH HERO_LVL6_HP_ADD	 			
;	Duration = 0
;End
;
;ModifierList NewHeroLevelUpDamage6
;	Category = LEVEL
;	Modifier = DAMAGE_ADD HERO_LVL7_DAM_ADD				
;	Modifier = HEALTH HERO_LVL7_HP_ADD	 			
;	Duration = 0
;End
;
;ModifierList NewHeroLevelUpDamage7
;	Category = LEVEL
;	Modifier = DAMAGE_ADD HERO_LVL8_DAM_ADD				
;	Modifier = HEALTH HERO_LVL8_HP_ADD	 			
;	Duration = 0
;End
;
;ModifierList NewHeroLevelUpDamage8
;	Category = LEVEL
;	Modifier = DAMAGE_ADD HERO_LVL9_DAM_ADD				
;	Modifier = HEALTH HERO_LVL9_HP_ADD	 			
;	Duration = 0
;End
;
;ModifierList NewHeroLevelUpDamage9
;	Category = LEVEL
;	Modifier = DAMAGE_ADD HERO_LVL10_DAM_ADD				
;	Modifier = HEALTH HERO_LVL10_HP_ADD	 			
;	Duration = 0
;End
;
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Object WildShelob

	ShockwaveResistance = 100  ;SHOCKWAVE_RESISTANCE_IMMUNE ; this should make the normal shelobs stay on the ground better.
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>


;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Beast EndLessTimers, dragon armor
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Object Wyrm

	ReplaceModule ModuleTag_LifetimeUpdate
	Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate1
		MinLifetime		= 6000000
		MaxLifetime		= 6000000
		DeathType		= FADED
	End
	End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Armor NewSummonedDragonArmor
  Armor = DEFAULT		25%     ;this sets the level for all nonspecified damage types
  Armor = CRUSH			1%     ;horseman damage
  Armor = SLASH			25%     ;soldier damage
  Armor = URUK			25%     ;soldier damage
  Armor = PIERCE		20%     ;archer damage - has to be low because he is such an easy target
  Armor = SIEGE			10%     ;siege damage
  Armor = STRUCTURAL		10%	  ;Structural damage (Ent rocks)
  Armor = HERO			25%     ;hero damage
  Armor = MAGIC			25%     ;magic damage
  Armor = HERO_RANGED		20%  ;200%     ;Hero bow damage
  Armor = FLAME			1%  ;150%     ;fire damage
  Armor = LOGICAL_FIRE		0%
  Armor = SPECIALIST    	25%     ;
End



Object SummonedDragon
	ReplaceModule ModuleTag_LifetimeUpdate
	Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate1
		MinLifetime		= 6000000
		MaxLifetime		= 6000000
		DeathType		= FADED
	End
	End

	ArmorSet
		Conditions      = None
		Armor           = NewSummonedDragonArmor
		DamageFX        = FellBeastDamageFX
	End
End

ChildObject SummonedDragonJH1 SummonedDragon

	ReplaceModule ModuleTag_LifetimeUpdate
	Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate1
		MinLifetime		= 60000000
		MaxLifetime		= 60000000
		DeathType		= FADED
	End
	End

	ArmorSet
		Conditions      = None
		Armor           = NewSummonedDragonArmor
		DamageFX        = FellBeastDamageFX
	End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Object WatcherHead

	ReplaceModule ModuleTag_LifetimeUpdate
	Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate1
		MinLifetime		= 1000000
		MaxLifetime		= 1000000
		DeathType		= FADED
	End
	End
End

Object WatcherHittingArm	

	ReplaceModule ModuleTag_LifetimeUpdate
	Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate1
		MinLifetime		= 1000000
		MaxLifetime		= 1000000
		DeathType		= FADED
	End	
	End
End

Object WatcherCaldera

	ReplaceModule ModuleTag_LifetimeUpdate
	Behavior = LifetimeUpdate ModuleTag_LifetimeUpdate1
		MinLifetime		= 1000000
		MaxLifetime		= 1000000
		DeathType		= FADED
	End	
	End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<SHELOB>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<THE BIG ASS SPIDER>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Armor NewShelobArmor
  Armor = DEFAULT		20%     ;this sets the level for all nonspecified damage types
  Armor = CRUSH			15%     ;horseman damage
  Armor = SLASH			20%     ;soldier damage
  Armor = URUK			20%     ;soldier damage
  Armor = PIERCE		10%     ;archer damage - has to be low because he is such an easy target
  Armor = SIEGE			30%     ;siege damage
  Armor = STRUCTURAL		30%	  ;Structural damage (Ent rocks)
  Armor = HERO			25%     ;hero damage
  Armor = MAGIC			20%     ;magic damage
  Armor = HERO_RANGED		15%  ;200%     ;Hero bow damage
  Armor = FLAME			15%  ;150%     ;fire damage
  Armor = LOGICAL_FIRE		15%
  Armor = SPECIALIST    	25%     ;
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Weapon NewShelobMandibles     ; BALANCE Shelob Weapon 
  LeechRangeWeapon      = Yes
  AttackRange           = 45.0
  MeleeWeapon           = Yes
  RadiusDamageAffects = ENEMIES NOT_SIMILAR
  DelayBetweenShots     = 1666           ; time between shots, msec
  PreAttackDelay        = 900            ; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FireFX                = FX_GondorSwordHit
  FiringDuration        = 766    ; Duration of the mace swing 
  RequireFollowThru		= Yes
  
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 500
    Radius        = 50
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    DamageArc	  = 120
  End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= .75
		ShockWaveAmount   = 40.0
		ShockWaveRadius   = 50.0
		ShockWaveTaperOff = 0.75
	End  
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;The Big Ass Spider Costumes Etc
;Boy i had fun doing this spider lmao i like this costume the best though, second would be WtchkngFllBst costume lol.
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Object MordorShelob


	AddModule
	Behavior = GrantUpgradeCreate ModuleTag_1
		UpgradeToGrant = Upgrade_GandalfWhite  ;
	End 
	End
;	AddModule
;	Behavior = SubObjectsUpgrade Costume_2
;		TriggeredBy		= Upgrade_GandalfWhite ;
;		UpgradeTexture	= MUShelobH.tga 0 MUWtchKngFllBst.tga
;				RecolorHouse	= No
;	End
;	End
	AddModule
	Behavior = SubObjectsUpgrade Costume_2
		TriggeredBy		= Upgrade_GandalfWhite ;
		UpgradeTexture	= MUShelobH.tga 0 DrogothArmor.tga  ;MUMntTroll.tga
				RecolorHouse	= No
	End
	End
;	AddModule
;	Behavior = SubObjectsUpgrade Costume_3
;		TriggeredBy		= Upgrade_GandalfWhite  ;Upgrade_AragornBladeMaster  ;Upgrade_AragornCostume_01
;		UpgradeTexture	= gugandalf.tga 0 MUWtchKngFllBst.tga
;				RecolorHouse	= No
;	End
;	End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    NewShelobMandibles
		AutoChooseSources = PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

	ArmorSet
		Conditions      = None
		Armor           = NewShelobArmor
		DamageFX        = NormalDamageFX
	End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

	ShockwaveResistance = SHOCKWAVE_RESISTANCE_ALWAYS

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

	LocomotorSet
		Locomotor     = ShelobWallScalingLocomotor
		Condition     = SET_NORMAL
		Speed         = 80
	End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

	ReplaceModule ModuleTag_RespawnBody
	Body = RespawnBody ModuleTag_RespawnBody1
		MaxHealth         = 15000                ;BALANCE Shelob Health
		PermanentlyKilledByFilter	= NONE		;Who kills me permanently?
	End
	End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; this makes her big in size,(units wont go under her to attack her.)
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

	Geometry			= CYLINDER
	GeometryMajorRadius = 80.0
	GeometryHeight		= 80.0
	GeometryIsSmall		= No
	Shadow				= SHADOW_VOLUME ;SHADOW_DECAL	; SHADOW_VOLUME has trouble with his wings.  Possibly because of the transparent bits
	ShadowSizeX			= 100
	ShadowSizeY			= 80
	ShadowTexture		= ShadowI

End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; 
;The New Sword hit-object FX,, when ever a hero hits an object it damages the object and makes a FX, like making him go on fire etc.
;Some of the unused ones are remade for you can not do your own, its not in the data.file, darn ea games, lol you should be able to DO ANYTHING HERE!
;
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

;Fire Fx for haldir, gandalf, and anything else that uses fire, and/or  a fire sword
FXParticleSystem NewFire
  System
    Priority = VERY_LOW_OR_ABOVE
    ParticleName = EXFireScroll3.tga
    Lifetime = 30 30
    SystemLifetime = 10
    SortLevel = 1
    Size = 4 13
    BurstCount = 1 1
    IsEmitAboveGroundOnly = Yes
  End
  Color = DefaultColor
    Color2 = R:98 G:69 B:51 3
    Color3 = R:90 G:56 B:30 10
    Color4 = R:0 G:0 B:0 28
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.15
    SizeRateDamping = 0.99 0.99
    AngularRateZ = -0.05 0.05
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.8 0.85
    DriftVelocity = X:0 Y:0 Z:1
  End
  EmissionVelocity = OrthoEmissionVelocity
    X = -0.4 -0.4
  End
  EmissionVolume = CylinderEmissionVolume
    IsHollow = Yes
  End
  Draw = DefaultDraw
  End
  Wind = DefaultWind
    WindMotion = PingPong
    WindStrength = 0.1
    WindAngleChangeMin = 0.149924
    WindAngleChangeMax = 0.449946
    WindPingPongStartAngleMax = 0.785398
    WindPingPongEndAngleMin = 5.49779
    WindPingPongEndAngleMax = 6.28319
  End
End

; You see that blueish magic hit FX, i change it to white, good for magic arrows, gandalfs ring of light, and elrond

FXParticleSystem NewSauronHitFlare
  System
    Priority = VERY_LOW_OR_ABOVE
    ParticleName = EXLightRays.tga
    Lifetime = 20 20
    SystemLifetime = 1
    SortLevel = 1
    Size = 5 5
    BurstCount = 20 20
  End
  Color = DefaultColor
    Color1 = R:255 G:255 B:255 0
    Color2 = R:0 G:0 B:0 20
  End
  Update = DefaultUpdate
    SizeRate = 15 20
    SizeRateDamping = 0.6 0.65
    AngleZ = -7 0
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
  End
  EmissionVelocity = OrthoEmissionVelocity
    X = -0.4 0.4
    Y = -0.4 0.4
  End
  EmissionVolume = LineEmissionVolume
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem MorgothHit
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = EXFireScroll3.tga  ;EXFireScroll2.tga
    Lifetime = 20 20
    SystemLifetime = 1
    SortLevel = 1
    Size = 5 5
    BurstCount = 3 5
  End
  Color = DefaultColor
    Color2 = R:20 G:20 B:20 5
    Color3 = R:20 G:20 B:20 15
    Color4 = R:0 G:0 B:0 25
;    Color2 = R:185 G:106 B:40 5
;    Color3 = R:200 G:95 B:38 15
;    Color4 = R:200 G:90 B:32 25
  End
  Alpha = DefaultAlpha
    Alpha2 = -1.5 -1.7 5
    Alpha3 = -1.2 -1.5 15
    Alpha4 = -1.2 -1.5 25
  End
  Update = DefaultUpdate
    SizeRate = 3 5
    SizeRateDamping = 1 1
    AngleZ = 0 7
    AngularRateZ = -0.1 0.1
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = -0.01
    VelocityDamping = 1 1
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = SphereEmissionVolume
    Radius = 5
  End
  Draw = DefaultDraw
  End
End

FXList FX_MorgothHit
  ParticleSystem
    Name = MorgothHit
    Offset = X:0.0 Y:0.0 Z:15.0
  End
End

FXList FX_NewMagicHit
  ParticleSystem
    Name = NewSauronHitFlare
    Offset = X:0.0 Y:0.0 Z:15.0
  End
End

FXList FX_Fire
  ParticleSystem
    Name = NewFire
    Offset = X:0.0 Y:0.0 Z:10.0
  End
End

;Some of this is new to the FX not used much or not used, so i change them lol.
;

DamageFX NormalDamageFX
  ThrottleTime = DEFAULT 60


  AmountForMajorFX  = DEFAULT  0.0
  MajorFX           = DEFAULT  FX_NONE

  AmountForMajorFX  = GOOD_ARROW_PIERCE 0.0
  MajorFX           = GOOD_ARROW_PIERCE FX_GoodArrowHit

  AmountForMajorFX  = EVIL_ARROW_PIERCE 0.0
  MajorFX           = EVIL_ARROW_PIERCE FX_EvilArrowHit

  AmountForMajorFX  = SWORD_SLASH  0.0
  MajorFX           = SWORD_SLASH  FX_NONE
  
  AmountForMajorFX	= WITCH_KING_MORGUL_BLADE  0.0
  MajorFX			= WITCH_KING_MORGUL_BLADE  FX_MorgothHit  ;FX_WitchKingPoison
  
  AmountForMajorFX	= REFLECTED  0.0
  MajorFX			= REFLECTED  FX_WitchKingCursed
  
  AmountForMajorFX  = MAGIC  0.0
  MajorFX           = MAGIC  FX_MagicHit

  AmountForMajorFX  = BALROG_SWORD  0.0
  MajorFX           = BALROG_SWORD  FX_BalrogWeaponHit

  AmountForMajorFX  = BALROG_WHIP  0.0
  MajorFX           = BALROG_WHIP   FX_BalrogWhipHit
  
  AmountForMajorFX  = ELECTRIC  0.0
  MajorFX           = ELECTRIC   FX_ElectricityHit

  AmountForMajorFX  = BOLT  0.0 ; New White Magic FX ;------------------------------------------- CHANGED<<<<<<<<<<<<<<<<<
  MajorFX           = BOLT  FX_NewMagicHit ; New White Magic FX

  AmountForMajorFX  = TORNADO 0.0
  MajorFX           = TORNADO   FX_TornadoAttack
  
  AmountForMajorFX  = GIMLI_LEAP 0.0
  MajorFX           = GIMLI_LEAP   FX_GimliLeapNoVoice
  
  AmountForMajorFX	= FLOOD_HORSE 1.0
  MajorFX			= FLOOD_HORSE FX_FloodHorseCrush
  
  AmountForMajorFX  = POISON  0.0
  MajorFX           = POISON  FX_PoisonDOT
  
  AmountForMajorFX  = FIRE3 0.0 ;New Fire FX ;----------------------------------------------------CHANGED<<<<<<<<<<<<<<<<<<<<<<<<<<<<
  MajorFX           = FIRE3   FX_Fire ;FX_PoisonHit ;New fire FX ;

End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Evil Heros
;These are small evil heros basicly they are just a little better, and/or have a new abillity,
; i put these together in almost no time at all so they arnt in order or anything, not much to get lost in anyways lol.
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Saruman
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem BlackHoleWave
  System
    Priority = ALWAYS_RENDER
    Shader = W3D_EMISSIVE
    Type = DRAWABLE
    ParticleName = exwatersphere.w3d
    Lifetime = 2500 2500
    SystemLifetime = 25
    StartSizeRate = 0.2 0.2
    BurstCount = 1 1
  End
  Color = DefaultColor
    Color1 = R:250 G:150 B:70 0
    Color2 = R:0 G:0 B:0 39
  End
  Alpha = DefaultAlpha
    Alpha1 = 0.3 0.3 0
  End
  Update = DefaultUpdate
    SizeRate = 0.5 0.5
    SizeRateDamping = 1 1
    AngleZ = -500 500
    AngularRateZ = -0.1 0.1
    AngularDamping = 0.97 0.97
    Rotation = ROTATE_Z
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = PointEmissionVolume
  End
  Draw = RenderObjectDraw
  End
End

FXParticleSystem BlackHoleInitialCenter
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = EXSmokePuf07.tga
    PerParticleAttachedSystem = GandalfBlastDustCore
    Lifetime = 850 850
    SystemLifetime = 90
    Size = 15 20
    BurstCount = 40 65
    InitialDelay = 5 5
  End
  Color = DefaultColor
    Color1 = R:250 G:100 B:30 0
  End
  Alpha = DefaultAlpha
    Alpha1 = 0.2 0.2 0
    Alpha2 = -2 0 100
  End
  Update = DefaultUpdate
    SizeRate = 3 15
    SizeRateDamping = 0.8 0.8
    AngleZ = 0 7
    AngularRateZ = -0.1 -0.1
    AngularDamping = 0.92 0.94
    Rotation = ROTATE_V
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.92 0.94
    DriftVelocity = X:0.032 Y:0.064 Z:0.15
  End
  EmissionVelocity = OutwardEmissionVelocity
    Speed = 20 20
  End
  EmissionVolume = CylinderEmissionVolume
    Radius = 12
  End
  Draw = DefaultDraw
  End
End

FXList FX_BlackHole
  ParticleSystem
    Name = BlackHoleWave
    Offset = X:0.0 Y:0.0 Z:5.0
  End
  ParticleSystem
    Name = BlackHoleInitialCenter
    Offset = X:0.0 Y:0.0 Z:5.0
  End
  Sound
    Name = GandalfBlastWeapon
  End
End

SpecialPower SpecialAbilityPowerOf7th
	Enum			= SPECIAL_WORD_OF_POWER
	ReloadTime		= 180000
	PublicTimer		= No
End

Weapon BlackHoleWeapon
	IdleAfterFiringDelay = 0
	AttackRange = 400
	MinimumAttackRange = 0.8
	WeaponSpeed = 301
	MinWeaponSpeed = 300
	MaxWeaponSpeed = 302
	ScaleWeaponSpeed = Yes
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK
      FireFX					= FX_BlackHole
      ClearNuggets
	DamageNugget
		Damage			= 350
		Radius			= 200.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 180.0 ; must match the ShockWaveSpeed below
	End
	MetaImpactNugget
		ShockWaveAmount   = 150.0
		ShockWaveRadius   = 140.0
		ShockWaveTaperOff	= 1.0
		ShockWaveSpeed	  = 180.0
		ShockWaveZMult    = 1.000
	End
	MetaImpactNugget
		ShockWaveAmount   = 60.0
		ShockWaveRadius   = 280.0
		ShockWaveTaperOff	= 1.0
		ShockWaveSpeed	  = 180.0
		ShockWaveZMult    = 0.9
	End
	MetaImpactNugget
		ShockWaveAmount   = 50.0
		ShockWaveRadius   = 380.0
		ShockWaveTaperOff	= 1.0
		ShockWaveSpeed	  = 180.0
		ShockWaveZMult    = 0.8
	End
End

CommandButton Command_SpecialAbilityIgnite
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityPowerOf7th
  Options                 = NONE
  TextLabel               = CONTROLBAR:SarumanFireWave
  ButtonImage             = Gandolf_radcircle
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipSarumanFireWave
  AutoAbility			  = Yes
  PresetRange			  = 120.0
  InPalantir			  = Yes
End

CommandSet NewSarumanCommandSet
	1  = Command_SpecialAbilityIsengardWizardBlast
	2  = Command_SarumanFireball
	3  = Command_SpecialAbilityDominateEnemy
	4  = Command_SpecialAbilitySpeechCraft
	5  = Command_SarumanThunderBolt
	6  = Command_SpecialAbilityIgnite
	13 = Command_AttackMove
	14 = Command_Stop
	15 = Command_ToggleStance
End

Object IsengardSaruman

	AddModule	
	Behavior = ExperienceLevelCreate ModuleTag_MPLevelBonus1
		LevelToGrant = 10
		MPOnly = Yes
	End
	End

	CommandSet = NewSarumanCommandSet

      AddModule
 	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_wordofpowerEnabler
		SpecialPowerTemplate	= SpecialAbilityPowerOf7th
		TriggeredBy				= Upgrade_SarumanFireBall
	End
      End
      AddModule
	Behavior = SpecialPowerModule ModuleTag_WordStarter       
		SpecialPowerTemplate      = SpecialAbilityPowerOf7th
		UpdateModuleStartsAttack  = Yes
		StartsPaused		  	  = Yes
		InitiateSound			= FellBeastVoiceAttack
	End
      End
      AddModule
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WordWeaponFireUpdate   
		SpecialPowerTemplate    = SpecialAbilityPowerOf7th
		WhichSpecialWeapon		= 1
		SkipContinue			= Yes
		UnpackTime              = 1000 
		PackTime                = 1		
		FreezeAfterTriggerDuration = 2500
		AwardXPForTriggering    = 0		
		StartAbilityRange		= 80.0
		SpecialWeapon			= BlackHoleWeapon
	End
      End
End

Weapon SarumanWeapon
  LeechRangeWeapon      = Yes
  AttackRange           = 10.0
  RadiusDamageAffects   = ENEMIES NOT_SIMILAR
  MeleeWeapon           = Yes
  FireFX                = FX_GandalfSwordHit
  DelayBetweenShots     = BOROMIR_DELAYBETWEENSHOTS 			; time between shots, msec
  PreAttackDelay        = BOROMIR_PREATTACKDELAY 	; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = BOROMIR_FIRINGDURATION 	; Duration of the sword swing
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 170
		DamageArc 		= 300
		Radius			= 25.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 300.0 ; must match the ShockWaveSpeed below
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.75
		ShockWaveAmount   = 40.0
		ShockWaveArc	  = 200
		ShockWaveRadius   = 30.0
		ShockWaveTaperOff = 1.25
		ShockWaveZMult    = 1.3
		ShockWaveSpeed	  = 300.0
	End
End


;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Lurtz
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

CommandButton Command_SpecialAbilityArrowStorm
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityArrowStorm
  Options                 = NEED_TARGET_POS CONTEXTMODE_COMMAND
  TextLabel               = CONTROLBAR:CrippleStorm
  ButtonImage             = HSLegolasArrowWind
  CursorName              = Bombard
  RadiusCursorType        = ARROWSTORM
  InvalidCursorName       = GenericInvalid
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipCrippleStorm
  InPalantir			  = Yes
  AutoAbility			  = No
  DisableOnModelCondition = WEAPONSET_TOGGLE_1 HERO					; disable if currently using swords
End

ExperienceLevel	LurtzLevel8
	TargetNames				= IsengardLurtz
	RequiredExperience		= LURTZ_LVL8_EXP_NEEDED 
	ExperienceAward			= LURTZ_LVL8_EXP_AWARD	
	AttributeModifiers		= HeroLevelUpDamage7
	Rank					= 8
	LevelUpFx				= FX:GandalfLevelUp1FX
	Upgrades				= Upgrade_GandalfLightningSword
	SelectionDecal
		Texture				= decal_hero_evil
		Style				= SHADOW_ALPHA_DECAL
		OpacityMin			= 50%	
		OpacityMax			= 100%
		MinRadius			= 40
		MaxRadius			= 200
		MaxSelectedUnits	= 40
	End	
End

CommandSet NewLurtzCommandSet
	1 = Command_ToggleLurtzWeapon
	2 = Command_LurtzCripple
	3 = Command_SpecialAbilityLurtzCarnage
	4 = Command_LurtzLeadership
	5 = Command_SpecialAbilityArrowStorm
	6 = Command_LurtzPillage
	13 = Command_AttackMove
	14 = Command_Stop
	15 = Command_ToggleStance
End

Object IsengardLurtz

	AddModule	
	Behavior = ExperienceLevelCreate ModuleTag_MPLevelBonus1
		LevelToGrant = 10
		MPOnly = Yes
	End
	End

	CommandSet = NewLurtzCommandSet

      AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_LightningEnabler
		SpecialPowerTemplate = SpecialAbilityArrowStorm
		TriggeredBy = Upgrade_GandalfLightningSword
	End
      End
      AddModule
	Behavior = SpecialPowerModule ModuleTag_Lightning11                      
		SpecialPowerTemplate		= SpecialAbilityArrowStorm
		UpdateModuleStartsAttack	= Yes
		StartsPaused			= Yes
	End
      End
      AddModule
	Behavior = ArrowStormUpdate ModuleTag_Lightning12                
		SpecialPowerTemplate    = SpecialAbilityArrowStorm
		StartAbilityRange       = 400.0
		UnpackingVariation		= 1
		UnpackTime              = 1000
		PreparationTime         = 1
		PersistentPrepTime      = 500
		PackTime                = 1500
		ApproachRequiresLOS     = Yes
		AwardXPForTriggering    = 0
		WeaponTemplate  = IsenguardLurtzBowStun
		TargetRadius    = 1000
		ShotsPerTarget  = 1
		ShotsPerBurst   = 2
		MaxShots        = 6
	End
      End
End

CommandButton Command_SpecialAbilityArrowStorm
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialBlackArrowStorm
  Options                 = NEED_TARGET_POS CONTEXTMODE_COMMAND
  TextLabel               = CONTROLBAR:LurtzArrowStorm
  ButtonImage             = HSLegolasArrowWind
  CursorName              = Bombard
  RadiusCursorType        = ARROWSTORM
  InvalidCursorName       = GenericInvalid
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipLurtzArrowStorm
  InPalantir			  = Yes
  AutoAbility			  = No
  DisableOnModelCondition = WEAPONSET_TOGGLE_1 HERO					; disable if currently using swords
End


Weapon LurtzWeapon
  LeechRangeWeapon      = Yes
  AttackRange           = 10.0
  RadiusDamageAffects   = ENEMIES NOT_SIMILAR
  MeleeWeapon           = Yes
  DelayBetweenShots     = LURTZ_DELAYBETWEENSHOTS 			; time between shots, msec
  PreAttackDelay        = LURTZ_PREATTACKDELAY 	; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = LURTZ_FIRINGDURATION 	; Duration of the sword swing
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 80
		DamageArc 		= 150
		Radius			= 25.0
		DeathType		= EXPLODED
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.75
		ShockWaveAmount   = 20.0
		ShockWaveArc	  = 100
		ShockWaveRadius   = 24.0
		ShockWaveTaperOff = 1.75
		ShockWaveZMult    = 2.050
	End
End

Weapon LurtzCarnageWeapon ;BALANCE Lurtz
LeechRangeWeapon      = Yes
  AttackRange           = 10.0
  RadiusDamageAffects   = ENEMIES NOT_SIMILAR
  MeleeWeapon           = Yes
  DelayBetweenShots     = LURTZ_DELAYBETWEENSHOTS 			; time between shots, msec
  PreAttackDelay        = LURTZ_PREATTACKDELAY 	; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = LURTZ_FIRINGDURATION 	; Duration of the sword swing
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 160
		DamageArc 		= 190
		Radius			= 50.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 500.0 ; must match the ShockWaveSpeed below
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.75
		ShockWaveAmount   = 40.0
		ShockWaveArc	  = 100
		ShockWaveRadius   = 45.0
		ShockWaveTaperOff = 1.75
		ShockWaveZMult    = 1.0
		ShockWaveSpeed	  = 500.0
	End
End

; i dont want to add animations this ini.file is  gib enough i dont need 30 more KBs lol
; i wish each animation has its own module. that would be cool.
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>


;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
; aragorn must live when being attacked by these, Balrog must not die from these and other heros must not die from army of the dead in 2 seconds!,
; also dont forget the new beasts and heros u will have to fight.
Weapon OathbreakerSword ;BALANCE OathbreakerSword
  RadiusDamageAffects = ENEMIES
  LeechRangeWeapon      = Yes
  AttackRange           = 5.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = OATHBREAKER_SWORD_DELAYBETWEENSHOTS  ; Bad Things happen if delay between shots is less than Preattack+Firing times.  You are ready to fire before you are done firing.
  PreAttackDelay        = OATHBREAKER_SWORD_PREATTACKDELAY             ; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FireFX                = FX_GondorSwordHit
  FiringDuration        = OATHBREAKER_SWORD_FIRINGDURATION    ; Duration of the sword swing

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 100
    DamageScalar  = 10% NONE +GondorAragorn +STRUCTURE
    DamageScalar  = 1% NONE +MordorBalrog
;    DamageScalar  = 1% NONE + AGod Hero!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
;    DamageScalar  = 1% NONE +Dragons Etc BEAST just before or after BALROG!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
    Radius        = 10.0
    DelayTime     = 0
    DamageType    = MAGIC
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
  End
End
;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
;--- <First Balrog>
;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

FXParticleSystem BalrogManeFire1
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXFire01.tga
    Lifetime = 5 5
    SortLevel = 1
    Size = 18 18
    BurstCount = 2 2
  End
  Color = DefaultColor
    Color2 = R:223 G:108 B:53 2
    Color3 = R:0 G:0 B:0 10
    ColorScale = -5 -5
  End
  Update = DefaultUpdate
    SizeRate = 0.4 0.4
    SizeRateDamping = 1 1
    AngleZ = -5 5
    AngularRateZ = -0.05 0.05
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.5 1
    DriftVelocity = X:0 Y:-1.0 Z:-0.1
  End
  EmissionVelocity = OutwardEmissionVelocity
    Speed = -0.3 -0.3
    OtherSpeed = -0.4 -0.4
  End
  EmissionVolume = BoxEmissionVolume
    HalfSize = X:0 Y:0 Z:0
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem BalrogManeEmbers1
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXEmbersLight.tga
    Lifetime = 100 100
    SortLevel = 1
    Size = 10 20
    BurstDelay = 2 5
    BurstCount = 1 1
  End
  Color = DefaultColor
    Color1 = R:255 G:135 B:80 0
    Color2 = R:0 G:0 B:0 50
    ColorScale = -5 0
  End
  Update = DefaultUpdate
    SizeRate = 6 6
    SizeRateDamping = 0.8 0.85
    AngleZ = -0.3 0.3
    AngularRateZ = -0.03 0.03
    AngularDamping = 0.99 0.99
  End
  Physics = DefaultPhysics
    Gravity = 0.008
    VelocityDamping = 0.9 0.9
    DriftVelocity = X:0 Y:0 Z:0.64
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    IsHollow = Yes
    StartPoint = X:-22 Y:0 Z:8
    EndPoint = X:25 Y:0 Z:5
  End
  Draw = DefaultDraw
  End
  Wind = DefaultWind
    WindMotion = PingPong
    WindStrength = 0.5
    WindAngleChangeMin = 0.017453
    WindAngleChangeMax = 0.034907
    WindPingPongStartAngleMax = 0.785398
    WindPingPongEndAngleMin = 5.49779
    WindPingPongEndAngleMax = 6.28319
  End
End

FXParticleSystem BalrogManeFlare1
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXLnzFlar1.tga
    Lifetime = 20 20
    SortLevel = 1
    Size = 20 20
    BurstCount = 1 2
  End
  Color = DefaultColor
    Color2 = R:255 G:119 B:45 2
    Color3 = R:0 G:0 B:0 20
    ColorScale = -15 -5
  End
  Update = DefaultUpdate
    SizeRateDamping = 1 1
    AngleZ = -5 5
    AngularRateZ = -0.05 0.05
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.9 1
    DriftVelocity = X:0 Y:0 Z:2
  End
  EmissionVelocity = OrthoEmissionVelocity
    X = -0.4 -0.4
    Y = -0.4 -0.4
  End
  EmissionVolume = BoxEmissionVolume
    HalfSize = X:12 Y:7 Z:5
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem BalrogSwordFlare1
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXLnzFlar1.tga
    Lifetime = 60 60
    SortLevel = 1
    Size = 35 45
    BurstCount = 1 2
  End
  Color = DefaultColor
    Color2 = R:180 G:108 B:49 5
    Color3 = R:0 G:0 B:0 30
    ColorScale = -5 0
  End
  Update = DefaultUpdate
    SizeRateDamping = 1 1
    AngleZ = -5 5
    AngularRateZ = -0.05 0.05
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 2.9 1
  End
  EmissionVelocity = OrthoEmissionVelocity
    X = 0 2
    Y = 0 2
    Z = 0 2
  End
  EmissionVolume = LineEmissionVolume
    IsHollow = Yes
    EndPoint = X:0 Y:0 Z:70
  End
  Draw = DefaultDraw
  End
  Wind = DefaultWind
    WindMotion = Circular
    WindStrength = 1
    WindAngleChangeMin = 0.872665
    WindAngleChangeMax = 2.61799
  End
End

FXParticleSystem BalrogWingSmokeLite1
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = EXCloud06.tga
    Lifetime = 175 175
    SortLevel = 1
    Size = 25 40
    BurstDelay = 3 7
    BurstCount = 1 2
    IsEmitAboveGroundOnly = Yes
  End
  Color = DefaultColor
    Color1 = R:191 G:77 B:0 1
    Color2 = R:44 G:37 B:31 35
  End
  Alpha = DefaultAlpha
    Alpha2 = 0.2 0.4 50
    Alpha3 = 0 0 100
  End
  Update = DefaultUpdate
    SizeRate = 2 4
    SizeRateDamping = 0.96 0.98
    AngleZ = 0 7
    AngularRateZ = -0.03 0.03
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.95 0.9
    DriftVelocity = X:0.08 Y:0.08 Z:0.8
  End
  EmissionVelocity = OrthoEmissionVelocity
    X = 1 0.4
    Y = -0.4 0.4
    Z = -0.4 3
  End
  EmissionVolume = CylinderEmissionVolume
    IsHollow = Yes
    Radius = 8
  End
  Draw = DefaultDraw
  End
End

Object MordorBalrog
 
 ReplaceModule ModuleTag_LifetimeUpdate
  Behavior = LifetimeUpdate ModuleTag_Overider
    MinLifetime = 50000000
    MaxLifetime = 50000000
  End
 End
 
 ReplaceModule ModuleTag_02
  Body = ActiveBody ModuleTag_Overide
    MaxHealth = 6000                 
    MaxHealthDamaged = 100
  End
 End
End

Armor BalrogMoriaArmor1
  Armor = DEFAULT	  4%	; Likes to have things think they can attack him
  Armor = SIEGE		 5%	; siege weapons can hurt him
  Armor = MAGIC		9%	; Gandalf can really hurt him.
  Armor = HERO		5%	; Other heroes can hurt him too.  Watch out for heroes Mr. Balrog!
  Armor = HERO_RANGED     3%    ; Hero bow damage
End

Object MordorBalrog

	; *** ART Parameters ***
    ; SelectPortrait for Heros is portrait behind skill buttons. HP = HeroPortrait.
	SelectPortrait = HPBalrog
    
    ; ButtonImage for Heros is button image on Hero Select UI to select hero. HI = HeroIcon or HeroImage.
    ButtonImage = HIBalrog
    	ReplaceModule ModuleTag_BodyDraw
	Draw = W3DScriptedModelDraw ModuleTag_BodyDraw1
;		GlowEnabled = Yes
;		GlowEmissive = Yes
		
;		StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

		OkToChangeModelColor = Yes
	
		ExtraPublicBone = ZZZPASSENGERBON
		ExtraPublicBone = ZZZWHIPCOIL
		ExtraPublicBone = SWORD

		;-------------------------
		ModelConditionState = NONE ; Not DefaultConditionState, because that keyword copies anything in here to every other state
			Model = MUBalrog_SKN
			ParticleSysBone = SWORD BalrogSwordFlare FollowBone:yes		; Not SWORDBONE, because SWORD is the bone that gets art-hidden mid animation in WIPX
			ParticleSysBone = SWORD BalrogSwordFlare1 FollowBone:yes
			ParticleSysBone = SWORD BalrogSwordEmbers FollowBone:yes
			ParticleSysBone = MANEBONE BalrogManeFlare FollowBone:yes
			ParticleSysBone = MANEBONE BalrogManeFlare1 FollowBone:yes
			ParticleSysBone = MANEBONE BalrogManeEmbers FollowBone:yes
			ParticleSysBone = MANEBONE BalrogManeEmbers1 FollowBone:yes
			ParticleSysBone = MANEBONE BalrogManeFire FollowBone:yes
			ParticleSysBone = BAT_JAW BalrogManeFire1 FollowBone:yes
			ParticleSysBone = RTWINGBONE BalrogSwordEmbers FollowBone:yes
			ParticleSysBone = LFWINGBONE BalrogSwordEmbers FollowBone:yes
			ParticleSysBone = RTWINGBONE BalrogWingSmokeLite1 FollowBone:yes
			ParticleSysBone = LFWINGBONE BalrogWingSmokeLite1 FollowBone:yes
		End

; This is triggered by the single player only HitReaction module for the lightningsword		
        ModelConditionState = HIT_LEVEL_2
			Model = MUBalLIT_SKN
;			ParticleSysBone     = RTHANDBONE BalrogSwordFlare FollowBone:yes	; This particle system is for the "balled up whip"
			
;			ParticleSysBone = MANEBONE BalrogManeFlare FollowBone:yes
;			ParticleSysBone = MANEBONE BalrogManeEmbers FollowBone:yes
;			ParticleSysBone = RTWINGBONE BalrogWingSmokeLite FollowBone:yes
;			ParticleSysBone = LFWINGBONE BalrogWingSmokeLite FollowBone:yes
		End

		ModelConditionState = HERO
			Model = MUBalIGNT_SKN
			ParticleSysBone = MANEBONE BalrogManeFlare FollowBone:yes
			ParticleSysBone = MANEBONE BalrogManeEmbers FollowBone:yes
			ParticleSysBone = MANEBONE BalrogManeFire FollowBone:yes
;			ParticleSysBone = RTWINGBONE BalrogWingSmokeLite FollowBone:yes
;			ParticleSysBone = LFWINGBONE BalrogWingSmokeLite FollowBone:yes
			ParticleSysBone = RTWINGBONE BalrogWingEmbers FollowBone:yes
			ParticleSysBone = LFWINGBONE BalrogWingEmbers FollowBone:yes

			ParticleSysBone = SWORD BalrogSwordFlare FollowBone:yes		; Not SWORDBONE, because SWORD is the bone that gets art-hidden mid animation in WIPX
			ParticleSysBone = SWORD BalrogSwordEmbers FollowBone:yes
	                ParticleSysBone = NONE BalrogIgniteHeatWave FollowBone:no
		End

		;-----------------		
		IdleAnimationState
			StateName = State_Idle
			Animation = Breathe 
				AnimationName = MUBalrog_SKL.MUBalrog_IDLA
				AnimationMode = ONCE
				AnimationBlendTime = 10
				AnimationPriority = 20
			End
			Animation = LookAround 
				AnimationName = MUBalrog_SKL.MUBalrog_IDLB
				AnimationMode = ONCE
				AnimationBlendTime = 10
				AnimationPriority = 2
			End
			Animation = SnortLikeABull 
				AnimationName = MUBalrog_SKL.MUBalrog_IDLC
				AnimationMode = ONCE
				AnimationBlendTime = 10
				AnimationPriority = 1
			End

			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "State_JustBuilt" 
					then CurDrawableSetTransitionAnimState("TRANS_JustBuilt_To_Idle") 
				end
				if Prev == "State_AboutToHitGround" 
					then CurDrawableSetTransitionAnimState("TRANS_AboutToHitGround_To_Idle") 
				end
			EndScript
		End 
		
		AnimationState					=	DYING DEATH_1
			Animation					=	Dying 
				AnimationName			=	MUBalrog_SKL.MUBalrog_DIEA 
				AnimationMode			=	ONCE
			End
			ParticleSysBone = None BalrogFallDust FollowBone:No
		End

		AnimationState					=	DYING DEATH_2
			Animation					=	FadingOut 
				AnimationName			=	MUBalrog_SKL.MUBalrog_RORC 
				AnimationMode			=	ONCE
			End
;			ParticleSysBone = None BalrogFallDust FollowBone:No
		End


; This is triggered by the single player only HitReaction module for the lightningsword	
; It is highest instead of lowest priority, because the hit reaction Paralyzes us, where for others it is just a fancy idle.	
		AnimationState					=	HIT_LEVEL_2
			Animation					=	Owowowowowowowow
				AnimationName			=	MUBalrog_SKL.MUBalrog_HITB 
				AnimationMode			=	ONCE
			End
		End
		
		AnimationState					=	EATING
			Animation					=	DoingHorribleThingToGrabbedGuy 
				AnimationName			=	MUBalrog_SKL.MUBalrog_BRNA 
				AnimationMode			=	ONCE
				AnimationBlendTime		=	0
			End

				ParticleSysBone = ZZZPassengerBon balrogHandSqueezeFlames FollowBone:Yes
                ParticleSysBone = ZZZPassengerBon balrogHandSqueezeFlames2 FollowBone:Yes
				ParticleSysBone = ZZZPassengerBon balrogHandSqueezeFlamesFinal FollowBone:Yes
                ParticleSysBone = ZZZPassengerBon BalrogHandSqueezeFlash FollowBone:Yes
                ParticleSysBone = ZZZPassengerBon BalrogHandSmoke FollowBone:Yes
                ParticleSysBone = RING_2_L balrogHandAsh FollowBone:Yes
                ParticleSysBone = RING_2_L balrogHandAshSmall FollowBone:Yes
;    			ParticleSysBone = LFHANDBONE BalrogHandEmbers FollowBone:Yes
;               ParticleSysBone = BAT_Elbow_L BalrogArmFireL FollowBone:Yes
;               ParticleSysBone = BAT_Shoulder_L BalrogShoulderFireL FollowBone:Yes
		End

		AnimationState					=	UNPACKING PACKING_TYPE_3
			Animation					=	GrabbingToTouching
				AnimationName			=	MUBalrog_SKL.MUBalrog_GRBA 
				AnimationMode			=	ONCE
				AnimationBlendTime		=	0
			End
		End

		AnimationState					=	PACKING PACKING_TYPE_3
			Animation					=	GrabbingFollowThrough 
				AnimationName			=	MUBalrog_SKL.MUBalrog_GRBC 
				AnimationMode			=	ONCE
				AnimationBlendTime		=	0
			End	
		End

		AnimationState			= JUST_BUILT
			StateName = State_JustBuilt
			Animation
				AnimationName = MUBalrog_SKL.MUBalrog_RORA
				AnimationMode = MANUAL
				AnimationBlendTime = 0
			End
		End
		
	    TransitionState = TRANS_JustBuilt_To_Idle
			Animation = BeingSummoned
				AnimationName = MUBalrog_SKL.MUBalrog_RORA 
				AnimationMode = ONCE
			End
		End
		
		AnimationState = FIRING_OR_PREATTACK_B
			Animation = CrackThatWhip 
				AnimationName = MUBalrog_SKL.MUBalrog_WIPA
				AnimationMode = ONCE
			End
				ParticleSysBone = RTHANDBONE BalrogWhip2swordEfx FollowBone:Yes
		End

		AnimationState			= SPECIAL_POWER_1
			Animation			= RoaringFear 
				AnimationName	= MUBalrog_SKL.MUBalrog_RORB
				AnimationMode   = ONCE
			End
				ParticleSysBone = BAT_JAW BalrogScreamEffect FollowBone:Yes
				FXEvent			= Frame:20 Name:FX_BalrogScreamEfx
				ParticleSysBone = BAT_JAW balrogPixelDisplScrm FollowBone:Yes
				ParticleSysBone = BAT_JAW balrogScrmEmbers FollowBone:Yes
		End
			   
		AnimationState			= SPECIAL_WEAPON_ONE
			Animation			= BreathingFireAnimation
				AnimationName	= MUBalrog_SKL.MUBalrog_FIRA
				AnimationMode   = ONCE
			End
				;This is Balrog's fire breath efx
				ParticleSysBone = BAT_JAW balrogFireBreath FollowBone:Yes
				ParticleSysBone = BAT_JAW balrogBreathEmbers FollowBone:Yes
				ParticleSysBone = BAT_JAW balrogBreathSmoke FollowBone:Yes
				ParticleSysBone = BAT_JAW balrogBreathProxy FollowBone:Yes
			End
			   
		AnimationState			= SPECIAL_WEAPON_TWO UNPACKING
			StateName			= State_LeapStart
			Animation			= GettingReadyToLeap
				AnimationName	= MUBalrog_SKL.MUBalrog_JMP1
				AnimationMode   = ONCE
			End
		End
			   
	    AnimationState			= SPECIAL_WEAPON_TWO PACKING
			Animation			= FirstWingBeatGoingUp 
				AnimationName	= MUBalrog_SKL.MUBalrog_JMP2
				AnimationMode   = ONCE
			End
		End
			   
	    AnimationState			= ABOUT_TO_HIT						; Before ThrownProjectile, since by definition this set for nn frames while T_P is still on
			StateName			= State_AboutToHitGround
			Animation			= StartingToLandToTouchingGround 
				AnimationName	= MUBalrog_SKL.MUBalrog_LND1
				AnimationMode   = ONCE
			End
		End
			   
		AnimationState			= THROWN_PROJECTILE
			Animation			= HurtlingThroughAir 
				AnimationName	= MUBalrog_SKL.MUBalrog_FLYA
				AnimationMode   = LOOP
				AnimationBlendTime = 10
			End
		End
			   
	    TransitionState = TRANS_AboutToHitGround_To_Idle
			Animation = SplashAtEndOfJump
				AnimationName = MUBalrog_SKL.MUBalrog_LND2 
				AnimationMode = ONCE
				AnimationBlendTime = 0
			End
		End
		
		AnimationState			= TURN_RIGHT
			Animation			= TurningRight 
				AnimationName	= MUBalrog_SKL.MUBalrog_TRNA
				AnimationMode   = LOOP
				AnimationBlendTime = 10
			End
		End

		AnimationState			= TURN_LEFT
			Animation			= TurningLeft 
				AnimationName	= MUBalrog_SKL.MUBalrog_TRNB
				AnimationMode   = LOOP
				AnimationBlendTime = 10
			End
		End

		AnimationState			= MOVING
			Animation			= Running 
				AnimationName	= MUBalrog_SKL.MUBalrog_WLKA
				AnimationMode   = LOOP
				AnimationBlendTime = 10
			End
			Flags               = RANDOMSTART
			
			FXEvent	= Frame:20 Name:FX_BalrogRightFootStep
			FXEvent	= Frame:44 Name:FX_BalrogLeftFootStep
		End
      
		AnimationState			= WEAPONSET_HERO_MODE UNPACKING PACKING_TYPE_1
			Animation = StartIgniteRoar 
				AnimationName = MUBalrog_SKL.MUBalrog_IGNTA
				AnimationMode = ONCE
			End
		End
				
		AnimationState			= HERO PACKING PACKING_TYPE_1
			Animation = FinishIgniteRoar 
				AnimationName = MUBalrog_SKL.MUBalrog_IGNTB
				AnimationMode = ONCE
			End
           
            EnteringStateFX = FX_BalrogIgniteStart
		End
				
		AnimationState			= FIRING_OR_PREATTACK_A
			Animation			= Swipe
				AnimationName	= MUBalrog_SKL.MUBalrog_ATKB
				AnimationMode	= ONCE
				UseWeaponTiming	= Yes
			End
		End
		
		AnimationState			= FIRING_OR_PREATTACK_C
			Animation			= Chop
				AnimationName	= MUBalrog_SKL.MUBalrog_ATKA
				AnimationMode	= ONCE
				UseWeaponTiming	= Yes
			End
			ParticleSysBone		= SWORDBONE BalrogSword FollowBone:yes
		End
		End
	End

;--------------------------


	; ***DESIGN parameters ***
	DisplayName      = OBJECT:Balrog
	DisplayMeleeDamage = 1000

	Side = Neutral
	EditorSorting = UNIT
	ThreatLevel = 4.0
	ThingClass = CHARACTER_UNIT
	CrusherLevel   = 4  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
	CrushWeapon = BalrogCrush  

	TransportSlotCount = 1
	
	WeaponSet ;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
		Conditions = None
		Weapon = PRIMARY	MordorBalrogSwordSwipe
		Weapon = SECONDARY	MordorBalrogWhip
		Weapon = TERTIARY	MordorBalrogSwordChop
		
		AutoChooseSources = SECONDARY None
		OnlyAgainst = TERTIARY STRUCTURE BIG_MONSTER
		
	End
	
	ArmorSet
		Conditions      = None
		Armor           = BalrogMoriaArmor1
		DamageFX        = NormalDamageFX
	End

	VisionRange = VISION_BALROG					
	ShroudClearingRange = SHROUD_CLEAR_BALROG

	DisplayName = OBJECT:Balrog
	ShockwaveResistance = SHOCKWAVE_RESISTANCE_ALWAYS
	CommandSet = BalrogCommandSet
	CanPathThroughGates	= No
	IsTrainable = No
	
	DeadCollideSize = LARGE ; How big does the AOD consider this unit for damage fx & behavior.
	

	;------------------ AUDIO Parameters ----------------------

  ; *** ENGINEERING Parameters ***  

  LocomotorSet
    Locomotor     = BalrogLocomotor
    Condition     = SET_NORMAL
    Speed         = 70
  End   
End

; Balrogs Sword is Insanely coded, you can not change his weapon, I just basicly added another one that shoots farther then his normal weapon,
;If you get to close to him ( Under his feet ) It May make his weapon 2000 damage instead of 200, most cases its completely random, between 50 - 2000 damage.

Weapon MordorBalrogSwordSwipe     ; BALANCE Balrog Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = 50.0
  MeleeWeapon           = No
  DelayBetweenShots     = 1300            ; time between shots, msec
  PreAttackDelay        = 1100             ; 300 is mace swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack
  FireFX                = FX_BalrogSwordHit
  FiringDuration        = 1300    ; Duration of the mace swing 
  DamageDealtAtSelfPosition = Yes ; A melee based AoE.  Arc radiates from me, not them

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 200			
    Radius        = 140.0
    DamageType    = MAGIC
    DamageFXType  = MAGIC
    DeathType     = EXPLODED
    DamageArc      = 1
  End

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 200		
    Radius        = 140.0
    DamageType    = MAGIC
    DamageFXType  = MAGIC
    DeathType     = EXPLODED
    DamageArc      = 1
  End

  MetaImpactNugget                    ; A Nugget that throws things back with force
	;HeroResist			= .75
    ShockWaveAmount   = 140.0
    ShockWaveRadius   = 70.0
    ShockWaveTaperOff = 0.75
    ShockWaveArc      = 90
    ShockWaveZMult    = 0.600
  End
End

;End ;end of first balrog



;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
;--- <Second Balrog>
;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
; balrogs can not change costume to what i know. maybe someone will figer out how to change the costumes, i dont know how lol.
; I beleave that balrog is a model, purely model, his colors and everything, maybe he doesn't have a costume.
Armor BalrogMoriaArmor2          ;                                                         
  Armor = DEFAULT	  1%	;  nothing can realy hurt him            0 . 0
  Armor = SIEGE		 1%	;                                          O
  Armor = MAGIC		1%	; 
  Armor = HERO		1%	; 
  Armor = HERO_RANGED     1%    ; 
End

ChildObject GondorBoromir MordorBalrog

	AddModule	
	Behavior = ExperienceLevelCreate ModuleTag_MPLevelBonus1
		LevelToGrant = 10
		MPOnly = Yes
	End
	End

 ReplaceModule ModuleTag_LifetimeUpdate
  Behavior = LifetimeUpdate ModuleTag_Overider
    MinLifetime = 50000000
    MaxLifetime = 50000000
  End
 End
 
 ReplaceModule ModuleTag_02
  Body = ActiveBody ModuleTag_Overide
    MaxHealth = 5000                 
    MaxHealthDamaged = 100
  End
 End

	; ***DESIGN parameters ***
	DisplayName      = OBJECT:Balrog
	DisplayMeleeDamage = 1000

	Side = Neutral
	EditorSorting = UNIT
	ThreatLevel = 4.0
	ThingClass = CHARACTER_UNIT
	CrusherLevel   = 4  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
	CrushWeapon = BalrogCrush  

	TransportSlotCount = 1
	
	WeaponSet ;!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
		Conditions = None
		Weapon = PRIMARY	MordorBalrogSwordSwipe
		Weapon = SECONDARY	MordorBalrogWhip
		Weapon = TERTIARY	MordorBalrogSwordChop
		
		AutoChooseSources = SECONDARY None
		OnlyAgainst = TERTIARY STRUCTURE BIG_MONSTER
		
	End
	
	ArmorSet
		Conditions      = None
		Armor           = BalrogMoriaArmor2
		DamageFX        = NormalDamageFX
	End

	VisionRange = VISION_BALROG					
	ShroudClearingRange = SHROUD_CLEAR_BALROG

	DisplayName = OBJECT:Balrog
	ShockwaveResistance = SHOCKWAVE_RESISTANCE_ALWAYS
	CommandSet = BalrogCommandSet
	CanPathThroughGates	= No
	IsTrainable = No
	
	DeadCollideSize = LARGE ; How big does the AOD consider this unit for damage fx & behavior.
	

	;------------------ AUDIO Parameters ----------------------

  ; *** ENGINEERING Parameters ***  

  LocomotorSet
    Locomotor     = BalrogLocomotor
    Condition     = SET_NORMAL
    Speed         = 70
  End   


	ReplaceModule ModuleTag_BodyDraw
	Draw = W3DScriptedModelDraw ModuleTag_BodyDraw1
;		GlowEnabled = Yes
;		GlowEmissive = Yes
		
;		StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

		OkToChangeModelColor = Yes
	
		ExtraPublicBone = ZZZPASSENGERBON
		ExtraPublicBone = ZZZWHIPCOIL
		ExtraPublicBone = SWORD

		;-------------------------
		ModelConditionState = NONE ; Not DefaultConditionState, because that keyword copies anything in here to every other state
			Model = MUBalIGNT_SKN  ;MUBalrog_SKN
			ParticleSysBone = SWORD BalrogSwordFlare FollowBone:yes		; Not SWORDBONE, because SWORD is the bone that gets art-hidden mid animation in WIPX
			ParticleSysBone = SWORD BalrogSwordEmbers FollowBone:yes
			ParticleSysBone = MANEBONE BalrogManeFlare FollowBone:yes
			ParticleSysBone = MANEBONE BalrogManeEmbers FollowBone:yes
			ParticleSysBone = MANEBONE BalrogManeFire FollowBone:yes
			ParticleSysBone = RTWINGBONE BalrogWingSmokeLite FollowBone:yes
			ParticleSysBone = LFWINGBONE BalrogWingSmokeLite FollowBone:yes
		End

; This is triggered by the single player only HitReaction module for the lightningsword		
        ModelConditionState = HIT_LEVEL_2
			Model = MUBalLIT_SKN
		End

		ModelConditionState = HERO
			Model = MUBalIGNT_SKN
			ParticleSysBone = MANEBONE BalrogManeFlare FollowBone:yes
			ParticleSysBone = MANEBONE BalrogManeEmbers FollowBone:yes
			ParticleSysBone = MANEBONE BalrogManeFire FollowBone:yes
			ParticleSysBone = RTWINGBONE BalrogWingEmbers FollowBone:yes
			ParticleSysBone = LFWINGBONE BalrogWingEmbers FollowBone:yes

			ParticleSysBone = SWORD BalrogSwordFlare FollowBone:yes		; Not SWORDBONE, because SWORD is the bone that gets art-hidden mid animation in WIPX
			ParticleSysBone = SWORD BalrogSwordEmbers FollowBone:yes
	                ParticleSysBone = NONE BalrogIgniteHeatWave FollowBone:no
		End

		;-----------------		
		IdleAnimationState
			StateName = State_Idle
			Animation = Breathe 
				AnimationName = MUBalrog_SKL.MUBalrog_IDLA
				AnimationMode = ONCE
				AnimationBlendTime = 10
				AnimationPriority = 20
			End
			Animation = LookAround 
				AnimationName = MUBalrog_SKL.MUBalrog_IDLB
				AnimationMode = ONCE
				AnimationBlendTime = 10
				AnimationPriority = 2
			End
			Animation = SnortLikeABull 
				AnimationName = MUBalrog_SKL.MUBalrog_IDLC
				AnimationMode = ONCE
				AnimationBlendTime = 10
				AnimationPriority = 1
			End

			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "State_JustBuilt" 
					then CurDrawableSetTransitionAnimState("TRANS_JustBuilt_To_Idle") 
				end
				if Prev == "State_AboutToHitGround" 
					then CurDrawableSetTransitionAnimState("TRANS_AboutToHitGround_To_Idle") 
				end
			EndScript
		End 
		
		AnimationState					=	DYING DEATH_1
			Animation					=	Dying 
				AnimationName			=	MUBalrog_SKL.MUBalrog_DIEA 
				AnimationMode			=	ONCE
			End
			ParticleSysBone = None BalrogFallDust FollowBone:No
		End

		AnimationState					=	DYING DEATH_2
			Animation					=	FadingOut 
				AnimationName			=	MUBalrog_SKL.MUBalrog_RORC 
				AnimationMode			=	ONCE
			End
		End


; This is triggered by the single player only HitReaction module for the lightningsword	
; It is highest instead of lowest priority, because the hit reaction Paralyzes us, where for others it is just a fancy idle.	
		AnimationState					=	HIT_LEVEL_2
			Animation					=	Owowowowowowowow
				AnimationName			=	MUBalrog_SKL.MUBalrog_HITB 
				AnimationMode			=	ONCE
			End
		End
		
		AnimationState					=	EATING
			Animation					=	DoingHorribleThingToGrabbedGuy 
				AnimationName			=	MUBalrog_SKL.MUBalrog_BRNA 
				AnimationMode			=	ONCE
				AnimationBlendTime		=	0
			End

				ParticleSysBone = ZZZPassengerBon balrogHandSqueezeFlames FollowBone:Yes
                ParticleSysBone = ZZZPassengerBon balrogHandSqueezeFlames2 FollowBone:Yes
				ParticleSysBone = ZZZPassengerBon balrogHandSqueezeFlamesFinal FollowBone:Yes
                ParticleSysBone = ZZZPassengerBon BalrogHandSqueezeFlash FollowBone:Yes
                ParticleSysBone = ZZZPassengerBon BalrogHandSmoke FollowBone:Yes
                ParticleSysBone = RING_2_L balrogHandAsh FollowBone:Yes
                ParticleSysBone = RING_2_L balrogHandAshSmall FollowBone:Yes
		End

		AnimationState					=	UNPACKING PACKING_TYPE_3
			Animation					=	GrabbingToTouching
				AnimationName			=	MUBalrog_SKL.MUBalrog_GRBA 
				AnimationMode			=	ONCE
				AnimationBlendTime		=	0
			End
		End

		AnimationState					=	PACKING PACKING_TYPE_3
			Animation					=	GrabbingFollowThrough 
				AnimationName			=	MUBalrog_SKL.MUBalrog_GRBC 
				AnimationMode			=	ONCE
				AnimationBlendTime		=	0
			End	
		End

		AnimationState			= JUST_BUILT
			StateName = State_JustBuilt
			Animation
				AnimationName = MUBalrog_SKL.MUBalrog_RORA
				AnimationMode = MANUAL
				AnimationBlendTime = 0
			End
		End
		
	    TransitionState = TRANS_JustBuilt_To_Idle
			Animation = BeingSummoned
				AnimationName = MUBalrog_SKL.MUBalrog_RORA 
				AnimationMode = ONCE
			End
		End
		
		AnimationState = FIRING_OR_PREATTACK_B
			Animation = CrackThatWhip 
				AnimationName = MUBalrog_SKL.MUBalrog_WIPA
				AnimationMode = ONCE
			End
				ParticleSysBone = RTHANDBONE BalrogWhip2swordEfx FollowBone:Yes
		End

		AnimationState			= SPECIAL_POWER_1
			Animation			= RoaringFear 
				AnimationName	= MUBalrog_SKL.MUBalrog_RORB
				AnimationMode   = ONCE
			End
				ParticleSysBone = BAT_JAW BalrogScreamEffect FollowBone:Yes
				FXEvent			= Frame:20 Name:FX_BalrogScreamEfx
				ParticleSysBone = BAT_JAW balrogPixelDisplScrm FollowBone:Yes
				ParticleSysBone = BAT_JAW balrogScrmEmbers FollowBone:Yes
		End
			   
		AnimationState			= SPECIAL_WEAPON_ONE
			Animation			= BreathingFireAnimation
				AnimationName	= MUBalrog_SKL.MUBalrog_FIRA
				AnimationMode   = ONCE
			End
				;This is Balrog's fire breath efx
				ParticleSysBone = BAT_JAW balrogFireBreath FollowBone:Yes
				ParticleSysBone = BAT_JAW balrogBreathEmbers FollowBone:Yes
				ParticleSysBone = BAT_JAW balrogBreathSmoke FollowBone:Yes
				ParticleSysBone = BAT_JAW balrogBreathProxy FollowBone:Yes
			End
			   
		AnimationState			= SPECIAL_WEAPON_TWO UNPACKING
			StateName			= State_LeapStart
			Animation			= GettingReadyToLeap
				AnimationName	= MUBalrog_SKL.MUBalrog_JMP1
				AnimationMode   = ONCE
			End
		End
			   
	    AnimationState			= SPECIAL_WEAPON_TWO PACKING
			Animation			= FirstWingBeatGoingUp 
				AnimationName	= MUBalrog_SKL.MUBalrog_JMP2
				AnimationMode   = ONCE
			End
		End
			   
	    AnimationState			= ABOUT_TO_HIT						; Before ThrownProjectile, since by definition this set for nn frames while T_P is still on
			StateName			= State_AboutToHitGround
			Animation			= StartingToLandToTouchingGround 
				AnimationName	= MUBalrog_SKL.MUBalrog_LND1
				AnimationMode   = ONCE
			End
		End
			   
		AnimationState			= THROWN_PROJECTILE
			Animation			= HurtlingThroughAir 
				AnimationName	= MUBalrog_SKL.MUBalrog_FLYA
				AnimationMode   = LOOP
				AnimationBlendTime = 10
			End
		End
			   
	    TransitionState = TRANS_AboutToHitGround_To_Idle
			Animation = SplashAtEndOfJump
				AnimationName = MUBalrog_SKL.MUBalrog_LND2 
				AnimationMode = ONCE
				AnimationBlendTime = 0
			End
		End
		
		AnimationState			= TURN_RIGHT
			Animation			= TurningRight 
				AnimationName	= MUBalrog_SKL.MUBalrog_TRNA
				AnimationMode   = LOOP
				AnimationBlendTime = 10
			End
		End

		AnimationState			= TURN_LEFT
			Animation			= TurningLeft 
				AnimationName	= MUBalrog_SKL.MUBalrog_TRNB
				AnimationMode   = LOOP
				AnimationBlendTime = 10
			End
		End

		AnimationState			= MOVING
			Animation			= Running 
				AnimationName	= MUBalrog_SKL.MUBalrog_WLKA
				AnimationMode   = LOOP
				AnimationBlendTime = 10
			End
			Flags               = RANDOMSTART
			
			FXEvent	= Frame:20 FireWhenSkipped Name:FX_BalrogRightFootStep
			FXEvent	= Frame:44 FireWhenSkipped Name:FX_BalrogLeftFootStep
		End
      
		AnimationState			= WEAPONSET_HERO_MODE UNPACKING PACKING_TYPE_1
			Animation = StartIgniteRoar 
				AnimationName = MUBalrog_SKL.MUBalrog_IGNTA
				AnimationMode = ONCE
			End
		End
				
		AnimationState			= HERO PACKING PACKING_TYPE_1
			Animation = FinishIgniteRoar 
				AnimationName = MUBalrog_SKL.MUBalrog_IGNTB
				AnimationMode = ONCE
			End
           
            EnteringStateFX = FX_BalrogIgniteStart
		End
				
		AnimationState			= FIRING_OR_PREATTACK_A
			Animation			= Swipe
				AnimationName	= MUBalrog_SKL.MUBalrog_ATKB
				AnimationMode	= ONCE
				UseWeaponTiming	= Yes
			End
		End
		
		AnimationState			= FIRING_OR_PREATTACK_C
			Animation			= Chop
				AnimationName	= MUBalrog_SKL.MUBalrog_ATKA
				AnimationMode	= ONCE
				UseWeaponTiming	= Yes
			End
			ParticleSysBone		= SWORDBONE BalrogSword FollowBone:yes
		End
	End
	End





End ; end of second balrog.


;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX GOOD HEROS XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX THE TRUE 6 XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX LEGOLAS XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX GANDALF XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ARAGORN XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX HALDIR XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX GIMLI XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX ELROND XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX





;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<LEGOLAS>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Legolas was named haldir, on the old underworld, i changed him back to legolas, but im to lazy to change all the abillity names,
; it does not effect game anyways.
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Magic arrow and magic wind inpacts
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; this is first thing to see when the magic arrow inpacts, its white and small
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem ArrowAirFire
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXFire01.tga
    Lifetime = 20 20
    SystemLifetime = 2
    SortLevel = 1
    Size = 4 4
    BurstCount = 1 1
  End
  Color = DefaultColor
    Color2 = R:255 G:255 B:255 8
    Color3 = R:0 G:0 B:4 0
  End
  Alpha = DefaultAlpha
    Alpha3 = 60 60 0
  End
  Update = DefaultUpdate
    SizeRate = 9 9
    SizeRateDamping = 0.9 0.9
    AngularRateZ = -0.1 0.1
    AngularDamping = 0.9 0.9
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.8 0.8
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = PointEmissionVolume
    IsHollow = Yes
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;this is white wave of magic arrow inpact
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem ArrowWaveBlastDust
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXRing01.tga
    Lifetime = 30 30
    SystemLifetime = 2
    Size = 1 1
    BurstCount = 1 1
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:255 G:255 B:255 0
    Color2 = R:0 G:0 B:0 40
    ColorScale = -5 0
  End
  Update = DefaultUpdate
    SizeRate = 5 5
    SizeRateDamping = 1 1
    AngleZ = -1 1
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.8 0.8
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = PointEmissionVolume
    IsHollow = Yes
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Heat, after the wave is gone this makes that area become hot.
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem ArrowWaveBlastHeat
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = SMUDGE.tga
    Lifetime = 150 150
    SystemLifetime = 1
    Size = 80 80
    BurstCount = 3 3
  End
  Color = DefaultColor
    Color1 = R:255 G:255 B:255 0
  End
  Alpha = DefaultAlpha
    Alpha1 = 4 3 3
  End
  Update = DefaultUpdate
    SizeRate = 5 5
    SizeRateDamping = 0.9 0.95
    AngleZ = 0.0025 0.005
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.96 0.97
  End
  EmissionVelocity = OrthoEmissionVelocity
    X = -2 2
    Z = -1 1
  End
  EmissionVolume = BoxEmissionVolume
    IsHollow = Yes
    HalfSize = X:20 Y:20 Z:0
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;white that is basicly the magic arrow and magic arrow wind
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem HaldirMagicArrowFlameTail
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXFire01.tga
    Lifetime = 10 10
    Size = 0 15
    BurstCount = 1 1
  End
  Color = DefaultColor
    Color1 = R:250 G:255 B:255 0
    Color2 = R:240 G:240 B:255 15
  End
  Alpha = DefaultAlpha
    Alpha1 = 1 1 1
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.25
    SizeRateDamping = 1 1
    AngleZ = -7 7
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:5 Y:0 Z:0
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;More Blue and longer for magic arrow
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem HaldirMagicArrowFlameTail1
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXFire01.tga
    Lifetime = 30 30
    Size = 0 5
    BurstCount = 1 1
  End
  Color = DefaultColor
    Color1 = R:130 G:130 B:255 0
    Color2 = R:130 G:130 B:255 15
  End
  Alpha = DefaultAlpha
    Alpha1 = 1 1 1
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.25
    SizeRateDamping = 1 1
    AngleZ = -7 7
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:10 Y:0 Z:0
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; white and biger follows the first one, magic arrow
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem HaldirFireBallFlameTail
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXFire01.tga
    Lifetime = 10 10
    Size = 15 35
    BurstCount = 1 1
  End
  Color = DefaultColor
    Color1 = R:255 G:255 B:255 0
    Color2 = R:255 G:255 B:255 15
  End
  Alpha = DefaultAlpha
    Alpha1 = 1 1 1
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.25
    SizeRateDamping = 1 1
    AngleZ = -7 7
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:0 Y:0 Z:0
  End
  Draw = DefaultDraw
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;This is for the World of power arrow power inpact
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXParticleSystem HaldirWorldWave1
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXRing01.tga
    Lifetime = 120 120
    SystemLifetime = 3
    Size = 8 8
    BurstCount = 1 1
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:245 G:245 B:255 0
    Color2 = R:5 G:0 B:0 40
    ColorScale = -5 0
  End
  Update = DefaultUpdate
    SizeRate = 15 15
    SizeRateDamping = 1 1
    AngleZ = -1 1
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.8 0.8
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = PointEmissionVolume
    IsHollow = Yes
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem HaldirWorldWave2
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXFire01.tga
    Lifetime = 140 140
    SystemLifetime = 5
    Size = 1 2
    BurstCount = 1 1
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:250 G:250 B:255 0
    Color2 = R:5 G:0 B:0 40
    ColorScale = -5 0
  End
  Update = DefaultUpdate
    SizeRate = 12 12
    SizeRateDamping = 1 1
    AngleZ = -1 1
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.8 0.8
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = PointEmissionVolume
    IsHollow = Yes
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem HaldirWorldWave3
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXLnzFlar2.tga
    Lifetime = 60 60
    SystemLifetime = 1
    Size = 100 100
    BurstCount = 1 1
  End
  Color = DefaultColor
    Color1 = R:255 G:255 B:255 0
    Color2 = R:0 G:0 B:0 5
  End
  Update = DefaultUpdate
    SizeRate = 1 3
    SizeRateDamping = 1 1
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = PointEmissionVolume
    IsHollow = Yes
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem HaldirWorldWave4
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXFireEmbr.tga
    Lifetime = 50 50
    SystemLifetime = 3
    Size = 1 1
    BurstCount = 1 1
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:255 G:255 B:255 0
    Color2 = R:5 G:0 B:0 40
    ColorScale = -5 0
  End
  Update = DefaultUpdate
    SizeRate = 2 2
    SizeRateDamping = 1 1
    AngleZ = -1 1
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.8 0.8
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = PointEmissionVolume
    IsHollow = Yes
  End
  Draw = DefaultDraw
  End
End


;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;the magic arrow and magic arrow wind inpact
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXList FX_HaldirMagicArrowHit

  ParticleSystem
    Name = ArrowWaveBlastDust
     OrientToObject = Yes
    InitialDelay = 2000 2000 UNIFORM   ;In milliseconds
    Offset = X:0.0 Y:0.0 Z:3.0
  End
  ParticleSystem
    Name = ArrowWaveBlastHeat
     OrientToObject = Yes
    InitialDelay = 7000 7000 UNIFORM   ;In milliseconds
    Offset = X:0.0 Y:0.0 Z:0.0
  End
  ParticleSystem
    Name = ArrowAirFire
     OrientToObject = Yes
    InitialDelay = 1 1 UNIFORM   ;In milliseconds
    Offset = X:0.0 Y:0.0 Z:0.0
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXList FX_HaldirWorldWave

  ParticleSystem
    Name = HaldirWorldWave1
     OrientToObject = Yes
    InitialDelay = 6000 6000 UNIFORM   ;In milliseconds
    Offset = X:0.0 Y:0.0 Z:3.0
  End
  ParticleSystem
    Name = HaldirWorldWave2
     OrientToObject = Yes
    InitialDelay = 6000 6000 UNIFORM   ;In milliseconds
    Offset = X:0.0 Y:0.0 Z:3.0
  End
  ParticleSystem
    Name = HaldirWorldWave3
     OrientToObject = Yes
    InitialDelay = 1000 1000 UNIFORM   ;In milliseconds
    Offset = X:0.0 Y:0.0 Z:3.0
  End
  ParticleSystem
    Name = HaldirWorldWave4
     OrientToObject = Yes
    InitialDelay = 1000 2000 UNIFORM   ;In milliseconds
    Offset = X:0.0 Y:0.0 Z:3.0
  End
  Sound 
    Name = GandalfBlastWeapon
  End
  ViewShake
    Type = CINE_EXTREME
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Legolas Timers
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

SpecialPower SpecialAbilityArrowRain
  Enum              = SPECIAL_ARROW_STORM
  ReloadTime        = 200000 ; in milliseconds
  PublicTimer       = No
  RadiusCursorRadius = 350.0
	ViewObjectDuration = 5000
	ViewObjectRange = 120
End

SpecialPower SpecialAbilityWorldWave
  Enum              = SPECIAL_ARROW_STORM
  ReloadTime        = 230000 ; in milliseconds
  PublicTimer       = No
  RadiusCursorRadius = 280.0
	ViewObjectDuration = 5000
	ViewObjectRange = 120
End

SpecialPower SpecialAbilityMagicArrowWind
  Enum              = SPECIAL_ARROW_STORM
  ReloadTime        = 180000 ; in milliseconds
  PublicTimer       = No
  RadiusCursorRadius = 275.0
	ViewObjectDuration = 5000
	ViewObjectRange = 120
End

SpecialPower SpecialAbilityWoundArrow ; magic arrow
  Enum                = SPECIAL_WOUND_ARROW
  ReloadTime          = 60000 ; in milliseconds
  PublicTimer         = No
;  RadiusCursorRadius  = 150.0
  InitiateAtLocationSound = GenericSpell
  ;PalantirMovie = PalantirAlert_RohanReinforcements
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Legolas Weapons
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Weapon LegolasBow
	AttackRange			= LEGOLAS_BOW_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= #MULTIPLY( LEGOLAS_BOW_RANGE .01 )
					
	WeaponSpeed			= 481         ; dist/sec 
	MinWeaponSpeed		= 441
	MaxWeaponSpeed		= 581      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage		= 100     ;When this weapon is used it will hit exactly 100% of the time.
	ScatterRadius		= 5.0     ;When this weapon misses it can randomly miss by as much as this distance.

	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= 400 ;LEGOLAS_DELAYBETWEENSHOTS 	; time between shots, msec
	PreAttackDelay      = 400  ;LEGOLAS_PREATTACKDELAY 		; 1467 is the prep time for archer.
	PreAttackType       = PER_POSITION ; Do the delay each time we attack a new target
	FiringDuration      = 400  ;LEGOLAS_FIRINGDURATION 	; Duration of the archer firing shot is 500ms.

    ClipSize			= 1
    AutoReloadsClip		= Yes
    AutoReloadWhenIdle	= 1	
    ClipReloadTime		= Min:500 Max:500
    ContinuousFireOne	= 0
    ContinuousFireCoast	= 500

    AntiAirborneVehicle	= Yes
    AntiAirborneMonster	= Yes
    CanFireWhileMoving	= Yes
    
	ProjectileNugget                    ; Default Arrow
		ProjectileTemplateName  = GoodFactionArrow
		WarheadTemplateName     = LegolasBowWarhead
	End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Weapon LegolasSword  ;This makes his swords fighting mode insanely powerfull
  LeechRangeWeapon      = Yes
  AttackRange           = 10.0
  RadiusDamageAffects   = ENEMIES NOT_SIMILAR
  MeleeWeapon           = Yes
  FireFX                = FX_GandalfSwordHit
  DelayBetweenShots     = 150 			; time between shots, msec
  PreAttackDelay        = 550 	; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = 200 	; Duration of the sword swing
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 150
		Radius			= 22.0
		DamageType		= MAGIC ; good it owns aod
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.75
		ShockWaveAmount   = 40.0
		ShockWaveRadius   = 22.0
		ShockWaveTaperOff = 1.75
		ShockWaveZMult    = 1.050
	End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Weapon HaldirWorldWaveWarhead
  RadiusDamageAffects = ENEMIES NOT_SIMILAR
  FireFX                = FX_HaldirWorldWave  
  ClearNuggets
  DamageNugget
    Damage        = 400
    Radius        = 280.0
    DelayTime     = 900
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = EXPLODED
    DamageSpeed		= 300.0
  End
  MetaImpactNugget
    HeroResist			= .75
    ShockWaveAmount   = 45.0
    DelayTime     = 900
    ShockWaveRadius   = 280.0
    ShockWaveTaperOff = 2.0
    ShockWaveSpeed	  = 300.0
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Weapon HaldirMagicArrowWindWarhead
  RadiusDamageAffects = ENEMIES NOT_SIMILAR
  FireFX                = FX_HaldirMagicArrowHit
  ClearNuggets
  DamageNugget
    Damage        = 150
    Radius        = 150.0
    DelayTime     = 600
    DamageType    = HERO
    DamageFXType  = SWORD_SLASH
    DeathType     = EXPLODED
    DamageSpeed		= 100.0
  End
  MetaImpactNugget
    HeroResist			= .75
    ShockWaveAmount   = 40.0
    ShockWaveRadius   = 150.0
    ShockWaveTaperOff = 2.0
    ShockWaveSpeed	  = 100.0
  End
  MetaImpactNugget
    HeroResist			= .75
    ShockWaveAmount   = 20.0
    ShockWaveRadius   = 230.0
    ShockWaveTaperOff = 1.3
    ShockWaveSpeed	  = 100.0
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Weapon HaldirMagicArrowWarhead
  RadiusDamageAffects = ENEMIES NOT_SIMILAR
  FireFX                = FX_HaldirMagicArrowHit
  ClearNuggets
  DamageNugget
    Damage        = 300
    Radius        = 75.0
    DelayTime     = 0
    DamageType    = MAGIC ; this owns AOD lol.
    DamageFXType  = BOLT ;MAGIC ; Bolt makes it white not blueish
    DeathType     = EXPLODED
    DamageSpeed		= 120.0
  End
  MetaImpactNugget
    HeroResist			= .75
    ShockWaveAmount   = 40.0
    ShockWaveRadius   = 20.0
    ShockWaveTaperOff = 2.0
    ShockWaveSpeed	  = 120.0
  End
  MetaImpactNugget
    HeroResist			= .75
    ShockWaveAmount   = 20.0
    ShockWaveRadius   = 80.0
    ShockWaveTaperOff = 1.3
    ShockWaveSpeed	  = 120.0
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

ExperienceLevel	EomerLevel1
	TargetNames						=	RohanEomer RohanEomerCavalry
	RequiredExperience					=	1	
	ExperienceAward						=	EOMER_LVL1_EXP_AWARD
	Rank							=	1
	Upgrades						=	Upgrade_EomerHorseLordLeader
	SelectionDecal
		Texture						=	decal_hero_good	
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits				=	40
	End	
End	

ExperienceLevel	EomerLevel2
	TargetNames						=	RohanEomer RohanEomerCavalry
	RequiredExperience					=	EOMER_LVL2_EXP_NEEDED 
	ExperienceAward						=	EOMER_LVL2_EXP_AWARD
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Rank							=	2
	Upgrades						= 	Upgrade_EomerOutlawLeader
	AttributeModifiers					=	HeroLevelUpDamage1 EomerPassiveOutlawLeadership

	SelectionDecal
		Texture						=	decal_hero_good	
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits				=	40
	End	
End	

ExperienceLevel	EomerLevel3
	TargetNames						=	RohanEomer
	RequiredExperience				=	EOMER_LVL3_EXP_NEEDED 
	ExperienceAward					=	EOMER_LVL3_EXP_AWARD
	AttributeModifiers				=	HeroLevelUpDamage3
	Rank							=	3
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Upgrades						=	Upgrade_LegolasKnifeFighter
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End
End

ExperienceLevel	EomerLevel4
	TargetNames						=	RohanEomer RohanEomerCavalry
	RequiredExperience					=	EOMER_LVL4_EXP_NEEDED 
	ExperienceAward						=	EOMER_LVL4_EXP_AWARD	
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Rank							=	4
	AttributeModifiers					=	HeroLevelUpDamage3 
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits				=	40
	End	
End	

ExperienceLevel	EomerLevel5
	TargetNames						=	RohanEomer
	RequiredExperience					=	EOMER_LVL5_EXP_NEEDED
	ExperienceAward						=	EOMER_LVL5_EXP_AWARD	
	LevelUpFx						=	FX:GandalfLevelUp1FX
	Rank							=	5
	AttributeModifiers					=	HeroLevelUpDamage5
	Upgrades						=	Upgrade_GondorFireArrows
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits				=	40
	End	
End	

ExperienceLevel	EomerLevel6
	TargetNames						=	RohanEomer RohanEomerCavalry
	RequiredExperience					=	EOMER_LVL6_EXP_NEEDED 
	ExperienceAward						=	EOMER_LVL6_EXP_AWARD	
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Rank							=	6
	AttributeModifiers					=	HeroLevelUpDamage5
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits				=	40
	End	
End	

ExperienceLevel	EomerLevel7
	TargetNames						=	RohanEomer
	RequiredExperience					=	EOMER_LVL7_EXP_NEEDED
	ExperienceAward						=	EOMER_LVL7_EXP_AWARD	
	LevelUpFx						=	FX:GandalfLevelUp1FX
	Rank							=	7
	AttributeModifiers					=	HeroLevelUpDamage7
	Upgrades						=	Upgrade_RohanFireArrows
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits				=	40
	End	
End	

ExperienceLevel	EomerLevel8
	TargetNames						=	RohanEomer
	RequiredExperience					=	EOMER_LVL8_EXP_NEEDED 
	ExperienceAward						=	EOMER_LVL8_EXP_AWARD	
	LevelUpFx						=	FX:GandalfLevelUp1FX
	Rank							=	8
	AttributeModifiers					=	HeroLevelUpDamage6 
	Upgrades						=	Upgrade_GandalfIstariLight Upgrade_ThranduilThornofVengeance
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits				=	40
	End	
End	

ExperienceLevel	EomerLevel9
	TargetNames						= RohanEomer
	RequiredExperience					= EOMER_LVL9_EXP_NEEDED 
	ExperienceAward						= EOMER_LVL9_EXP_AWARD	
	LevelUpFx						= FX:GandalfLevelUp1FX
	Rank							= 9
	AttributeModifiers					= HeroLevelUpDamage9
	Upgrades						=	Upgrade_LegolasArrowWind
	SelectionDecal
		Texture						= decal_hero_good
		Style						= SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					= 40
		MaxRadius					= 200
		MaxSelectedUnits 				= 40
	End	
End

ExperienceLevel	EomerLevel10
	TargetNames				= RohanEomer
	RequiredExperience	= EOMER_LVL10_EXP_NEEDED 
	ExperienceAward		  =	EOMER_LVL10_EXP_AWARD	
	AttributeModifiers	= HeroLevelUpDamage10
	Rank						= 10
	LevelUpFx				  =	FX:GandalfLevelUp1FX
      Upgrades                        =   Upgrade_GandalfLightningSword
	SelectionDecal
		Texture					= decal_hero_good
		Style					  =	SHADOW_ALPHA_DECAL
		OpacityMin			  =	50%	
		OpacityMax			  =	100%
		MinRadius				= 40
		MaxRadius				= 200
		MaxSelectedUnits	= 40
	End	
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

CommandButton Command_GondorGandalfIstariLight
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityMagicArrowWind
  Options                 = NEED_TARGET_POS CONTEXTMODE_COMMAND
  TextLabel               = CONTROLBAR:MagicArrowWind
  ButtonImage             = HSLegolasArrowWind
  CursorName              = Bombard
  RadiusCursorType        = SpeechCraftRadiusCursor
  InvalidCursorName       = GenericInvalid
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipMagicArrowWind
  InPalantir			  = Yes
  AutoAbility			  = Yes
End


CommandButton Command_SpecialAbilityWordOfPower
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityWorldWave
  Options                 = NEED_TARGET_POS CONTEXTMODE_COMMAND
  TextLabel               = CONTROLBAR:WorldWave
  ButtonImage             = HSLegolasArrowWind
  CursorName              = Bombard
  RadiusCursorType        = LEAP
  InvalidCursorName       = GenericInvalid
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipWorldWave
  InPalantir			  = Yes
  AutoAbility			  = No
End

CommandButton Command_SpecialAbilityArrowStorm
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityArrowRain
  Options                 = NEED_TARGET_POS CONTEXTMODE_COMMAND
  TextLabel               = CONTROLBAR:ArrowFall
  ButtonImage             = HSLegolasArrowWind
  CursorName              = Bombard
  RadiusCursorType        = ARROWSTORM
  InvalidCursorName       = GenericInvalid
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipArrowFall
  InPalantir			  = Yes
  AutoAbility			  = No
  DisableOnModelCondition = WEAPONLOCK_SECONDARY					; disable if currently using swords
End

CommandButton Command_SpecialAbilityWoundArrow
  Command                 = SPECIAL_POWER
  WeaponSlot              = SECONDARY
  SpecialPower            = SpecialAbilityWoundArrow
  Options                 = NEED_TARGET_ENEMY_OBJECT
  Upgrade			  = None
  TextLabel               = CONTROLBAR:MagicArrow
  ButtonImage             = HSFaramirWoundingArrow
  CursorName              = Bombard
  InvalidCursorName       = GenericInvalid
  RadiusCursorType        = NONE
  ButtonBorderType        = ACTION
  DescriptLabel           = CONTROLBAR:ToolTipMagicArrow
  InPalantir			  = Yes
  AutoAbility			  = Yes
End

CommandButton Command_LegolasKnifeFightingMode
	Command				= SPECIAL_POWER 
	SpecialPower			= SpecialAbilityKnifeFighter
	TextLabel				= CONTROLBAR:KnifeFighter1
	ButtonImage				= HSLegolasKnifeFighter
	InvalidCursorName			= GenericInvalid
	ButtonBorderType			= ACTION 
	DescriptLabel			= CONTROLBAR:ToolTipKnifeFighter1
	InPalantir				= Yes
	AutoAbility				= Yes
	PresetRange				= 50.0	
	UnitSpecificSound		= LegolasKnifeModeMS
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

CommandSet newlegolasCommandSet
	1  = Command_LegolasHawkStrike
	2  = Command_LegolasKnifeFightingMode
	3  = Command_SpecialAbilityWoundArrow
      	4  = Command_GondorGandalfIstariLight
	5  = Command_SpecialAbilityArrowStorm
      	6  = Command_SpecialAbilityWordOfPower
	15 = Command_ToggleStance
	12 = Command_CaptureBuilding
	13 = Command_AttackMove
	14 = Command_Stop
	15 = Command_ToggleStance
End

;Object NewHaldirCommandSet
; CommandSet = NewHaldirCommandSet
;End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Object HobbitRockProjectile
  RemoveModule ModuleTag_Draw2
  ReplaceModule ModuleTag_Draw
  Draw = W3DScriptedModelDraw ModuleTag_Draw_Override
    DefaultModelConditionState
      Model = RULegolas_AROW
      ParticleSysBone ROOTTRANSFORM HaldirMagicArrowFlameTail FollowBone:yes
      ParticleSysBone ROOTTRANSFORM HaldirMagicArrowFlameTail1 FollowBone:yes
      ParticleSysBone ROOTTRANSFORM HaldirWorldWave5 FollowBone:yes
    End
  End
  End

  SoundAmbient = RainOfFireStart

  ReplaceModule ModuleTag_04
  Behavior = BezierProjectileBehavior ModuleTag_04_Override    
    FirstHeight = 80
    SecondHeight = 80
    FirstPercentIndent = 40%
    SecondPercentIndent = 100%
    FlightPathAdjustDistPerSecond = 10
    DetonateCallsKill = Yes
    CurveFlattenMinDist = 5.0
  End
  End
  AddModule
  Behavior = PhysicsBehavior ModuleTag_05dgf
    KillWhenRestingOnGround = No
    GravityMult = 0.4
  End
  End
  AddModule
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_DIELIKETHIS
    StartsActive = Yes
    DeathWeapon = HaldirWorldWaveWarhead
  End
  End
  ReplaceModule ModuleTag_06
  Behavior = FXListDie ModuleTag_06_Override
    DeathTypes = ALL
    DeathFX = FX_HaldirWorldWave
  End
  End
End

Weapon RohanEowynSmiteThrown
	AttackRange			= 300.0
	LeechRangeWeapon		= Yes
	WeaponSpeed			= 521					; dist/sec 
	MinWeaponSpeed			= 501
	MaxWeaponSpeed			= 541					; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_EowynSmiteSpearThrow
	ScaleWeaponSpeed		= Yes					; Used for lob weapons, scales speed proportional to range
	HitPercentage			= 100
	ScatterRadius			= 0.0					; When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots		= 1				; time between shots, msec
	PreAttackDelay			= 1					; 1467 is the prep time for archer.
	PreAttackType			= PER_SHOT				; Do the delay each time we attack a new target
	FiringDuration			= 1				; Duration of the archer firing shot is 500ms.

	ProjectileNugget
		ProjectileTemplateName	= RohanEomerSpearProjectile
		WarheadTemplateName	= RohanEowynSmiteWarhead
	End
End

Object RohanEomerSpearProjectile
      ReplaceModule ModuleTag_01
	Draw = W3DScriptedModelDraw ModuleTag_01_Override ;ModuleTag_Draw
		DefaultModelConditionState
			Model = NONE
			ParticleSysBone NONE HaldirMagicArrowFlameTail
			ParticleSysBone NONE HaldirMagicArrowFlameTail1
		End
	End
      End
  AddModule
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_DIELIKETHIS
    StartsActive = Yes
    DeathWeapon = HaldirMagicArrowWarhead
  End
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Armor LegolasArmor
  Armor = DEFAULT         20%   ;this sets the level for all nonspecified damage types
  Armor = SLASH            25%   ;
  Armor = PIERCE           15%   ; good at moving out of the way of arrows : )
  Armor = SPECIALIST      20%   ;
  Armor = CRUSH            10%   ;
  Armor = SIEGE           50%   ;
  Armor = FLAME            35%   ;
  Armor = MAGIC           80%   ;
  Armor = HERO            50%   ;
  Armor = HERO_RANGED     20%   ;
    Armor = STRUCTURAL	  50%	
End


ChildObject RohanEomer RohanLegolas
	KindOf = HERO PRELOAD ARCHER SELECTABLE CAN_CAST_REFLECTIONS INFANTRY PATH_THROUGH_EACH_OTHER SCORE THROWN_OBJECT ARMY_SUMMARY ATTACK_NEEDS_LINE_OF_SIGHT
;	ButtonImage = HPHaldir ; all this stuff makes him from legolas into haldir
;	SelectPortrait = HPHaldir
;	DisplayName = OBJECT:ElvenHaldir
	CommandSet = newlegolasCommandSet
;	VoiceAttack					= ElvenWarriorVoiceAttackBow
;	VoiceAttackCharge				= ElvenWarriorVoiceAttackCharge
;	VoiceAttackStructure			= ElvenWarriorVoiceAttackStructure
;	VoiceAttackMachine			= ElvenWarriorVoiceAttackStructure
;	VoiceFear 				      = ElvenWarriorVoiceRetreat
;	VoiceMove					= ElvenWarriorVoiceMove
;	VoiceMoveToCamp				= ElvenWarriorVoiceMoveCamp
;	VoiceMoveWhileAttacking			= ElvenWarriorVoiceDisengage
;	VoicePriority				= 40
;	VoiceRetreatToCastle			= ElvenWarriorVoiceRetreat
;	VoiceSelect					= ElvenWarriorVoiceSelectBattle
;	VoiceSelectBattle 			= ElvenWarriorVoiceSelectBattle
;	VoiceGuard					= ElvenWarriorVoiceMove

      ReplaceModule ModuleTag_RespawnUpdate
	Behavior = RespawnUpdate ModuleTag_RespawnUpdate_Override
		DeathAnim				= DYING
		DeathAnimationTime		= 6500
		RespawnAnim				= LEVELED
		RespawnAnimationTime		= 2000
		AutoRespawnAtObjectFilter	= NONE +CASTLE_KEEP
		ButtonImage				= HIEowyn
		RespawnRules =			AutoSpawn:No	Cost:600		Time:90000		Health:100%		;DEFAULT VALUES
	End
      End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;when he dies it makes this wave.
  AddModule
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_DIELIKETHIS
    StartsActive = Yes
    DeathWeapon = HaldirWorldWaveWarhead
  End
  End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>


	DisplayMeleeDamage = 150

	ArmorSet
		Conditions      = None
		Armor           = LegolasArmor  ;HeroLightArmor
		DamageFX        = NormalDamageFX
	End


	ReplaceModule ModuleTag_LegolasHealing
	Behavior = AutoHealBehavior ModuleTag_LegolasHealing1
		StartsActive = Yes
		HealingAmount = 50
		HealingDelay = 1000
		StartHealingDelay = 10000
		HealOnlyIfNotInCombat = Yes
	End
	End

	ReplaceModule ModuleTag_RespawnBody
	Body = RespawnBody ModuleTag_RespawnBody1
		CheerRadius 			= EMOTION_CHEER_RADIUS
		MaxHealth         		= 2200	;BALANCE Legola Health
		PermanentlyKilledByFilter	= NONE		;Who kills me permanently?
   		DodgePercent      		= HERO_DODGE_PERCENT
	End
	End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Word of power arrow thing, aka, ring of power*
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

      AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WorldWaveEnabler  ;this is the WorldWave
		SpecialPowerTemplate = SpecialAbilityWorldWave
		TriggeredBy = Upgrade_GandalfLightningSword
	End
      End
      AddModule
	Behavior = SpecialPowerModule ModuleTag_OneRing                      ;this is the WorldWave
		SpecialPowerTemplate		= SpecialAbilityWorldWave
		UpdateModuleStartsAttack	= Yes
		StartsPaused			= Yes
	End
      End
      AddModule
	Behavior = ArrowStormUpdate ModuleTag_WorldWave                ; this is the World Wave
		SpecialPowerTemplate    = SpecialAbilityWorldWave
		StartAbilityRange       = 600.0
		UnpackingVariation		= 1
		UnpackTime              = 1000
		PreparationTime         = 1
		PersistentPrepTime      = 1200
		PackTime                = 1500
		ApproachRequiresLOS     = No
		AwardXPForTriggering    = 0
		WeaponTemplate  = HobbitRockThrow
		TargetRadius    = 5
		ShotsPerTarget  = 0
		ShotsPerBurst   = 1
		MaxShots        = 1
  		CanShootEmptyGround = Yes
	End
      End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Magic arrow wind
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>


      AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_MagicArrowWindEnabler  ;magic arrow wind
		SpecialPowerTemplate = SpecialAbilityMagicArrowWind
		TriggeredBy = Upgrade_RohanFireArrows
	End
      End
      AddModule
	Behavior = SpecialPowerModule ModuleTag_GondorGandalfIstariLight	;magic arrow wind
		SpecialPowerTemplate		= SpecialAbilityMagicArrowWind
		UpdateModuleStartsAttack	= Yes
		StartsPaused			= Yes
	End
      End
      AddModule
	Behavior = ArrowStormUpdate ModuleTag_MagicArrowWindUpdate	; magic arrow wind
		SpecialPowerTemplate    = SpecialAbilityMagicArrowWind
		StartAbilityRange       = 320
		UnpackingVariation		= 1
		UnpackTime              = 1000
		PreparationTime         = 1
		PersistentPrepTime      = 600 ;1200
		PackTime                = 1500
		ApproachRequiresLOS     = Yes
		AwardXPForTriggering    = 0
		WeaponTemplate  = RohanEowynSmiteThrown
		TargetRadius    = 275
		ShotsPerTarget  = 1
		ShotsPerBurst   = 2
		MaxShots        = 14
  		CanShootEmptyGround = Yes
	End
      End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Magic arrow
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

      AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_MagicArrowEnabler ;wind arrow
		SpecialPowerTemplate = SpecialAbilityWoundArrow
		TriggeredBy = Upgrade_GondorFireArrows
	End
      End     
      AddModule
	Behavior = SpecialPowerModule ModuleTag_WoundArrow ;wind arrow
		SpecialPowerTemplate      = SpecialAbilityWoundArrow
		UpdateModuleStartsAttack  = Yes
		StartsPaused			= Yes
		InitiateSound			= LegolasVoiceAttack
	End
      End
      AddModule
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_MagicArrowUpdate ;wind arrow
		SpecialPowerTemplate    = SpecialAbilityWoundArrow
		SkipContinue			= Yes
		UnpackTime              = 1500
		PackTime				= 1000
		BusyForDuration			= 1000		
		AwardXPForTriggering    = 0
		StartAbilityRange = 400.0	
		ApproachRequiresLOS		= Yes		
		SpecialWeapon = RohanEowynSmiteThrown
		WhichSpecialWeapon = 1
	End
      End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Arrow of the gods
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

      ReplaceModule ModuleTag_ArrowWindEnabler ;arrows of the gods
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_ArrowWindEnabler_Override
		SpecialPowerTemplate = SpecialAbilityArrowRain
		TriggeredBy = Upgrade_LegolasArrowWind
	End
      End
      ReplaceModule ModuleTag_ArrowWindStarter ;arrows of the gods
	Behavior = SpecialPowerModule ModuleTag_ArrowWindStarter_Override                      
		SpecialPowerTemplate		= SpecialAbilityArrowRain
		UpdateModuleStartsAttack	= Yes
		StartsPaused			= Yes
		InitiateSound			= LegolasVoiceAttack
	End
      End
      ReplaceModule ModuleTag_ArrowWindUpdate ;arrows of the gods
	Behavior = ArrowStormUpdate ModuleTag_ArrowWindUpdate_Override              
		SpecialPowerTemplate    = SpecialAbilityArrowRain
		StartAbilityRange       = 300.0		
		UnpackTime              = 1000
		PreparationTime         = 200
		PersistentPrepTime      = 350
		PackTime                = 1200
		UnpackingVariation		= 1
		ParalyzeDurationWhenCompleted = 600
		ParalyzeDurationWhenAborted = 800
		ApproachRequiresLOS     = Yes
		AwardXPForTriggering    = 0
		WeaponTemplate  = LegolasBowArrowStorm
		TargetRadius    = 320
		ShotsPerTarget  = 1
		ShotsPerBurst   = 15
		MaxShots        = 150
  		CanShootEmptyGround = Yes
	End
      End
End ; end legolas

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<GANDALF>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; <Gandalf's FX>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXParticleSystem GandalfStaffFire
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXFire01.tga  ;EXSplatHaze.tga
    Lifetime = 10 10  ;20 20
    SortLevel = 1
    Size = 0 10
    BurstCount = 1 1 ;4 6
    InitialDelay = 5 5
    IsParticleUpTowardsEmitter = Yes
  End
  Color = DefaultColor
    Color2 = R:36 G:43 B:95 5
    Color3 = R:255 G:255 B:255 20
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.25
    SizeRateDamping = 1 1
    AngleZ = -7 7
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    Gravity = -0.05
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    EndPoint = X:0 Y:0 Z:0
  End
  Draw = DefaultDraw
  End
End


;  System
;    Priority = ALWAYS_RENDER
;    ParticleName = EXFire01.tga
;    Lifetime = 45 45
;    Size = 5 10
;    BurstCount = 3 3
;  End
;  Color = DefaultColor
;    Color1 = R:36 G:43 B:95 0
;    Color2 = R:0 G:0 B:0 15
;  End
;  Alpha = DefaultAlpha
;    Alpha1 = 1 1 0
;  End
;  Update = DefaultUpdate
;    SizeRate = -1 -1
;    SizeRateDamping = 1 1
;    AngleZ = -3 3
;    AngularRateZ = -0.1 -0.1
;    AngularDamping = 1 1
;  End
;  Physics = DefaultPhysics
;    Gravity = -0.05
;    VelocityDamping = 0.7 0.75
;  End
;  EmissionVelocity = OrthoEmissionVelocity
;    X = 0 0
;    Y = 0 0
;    Z = 0 0
;  End
;  EmissionVolume = LineEmissionVolume
;  End
;  Draw = DefaultDraw
;  End
;End

FXParticleSystem GandalfSwordFire
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXSplatHaze.tga
    Lifetime = 10 10
    SortLevel = 1
    Size = 0 15
    BurstCount = 4 6
    InitialDelay = 5 5
    IsParticleUpTowardsEmitter = Yes
  End
  Color = DefaultColor
    Color2 = R:185 G:106 B:40 5
    Color3 = R:40 G:106 B:185 20
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.25
    SizeRateDamping = 1 1
    AngleZ = -7 7
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    EndPoint = X:0 Y:0 Z:15
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem HolyGround
  System
    Priority = ALWAYS_RENDER
    ParticleName = exsplathaze.tga
    Lifetime = 22 22
    SystemLifetime = 80
    SortLevel = 1
    Size = 20 20
    StartSizeRate = 2 2
    BurstCount = 1 1
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:255 G:255 B:255 0
    Color2 = R:0 G:0 B:0 22
    ColorScale = -5 0
  End
  Update = DefaultUpdate
    SizeRate = 20 20
    SizeRateDamping = 0.9 0.9
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.8 0.8
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = PointEmissionVolume
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;New Istart light
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXParticleSystem NewGandalfIstariLightRays
  System
    Priority = ALWAYS_RENDER
    Shader = W3D_EMISSIVE
    Type = DRAWABLE
    ParticleName = EXLightShafts01.W3D
    Lifetime = 100 100
    SystemLifetime = 7
    SortLevel = 1
    Size = 4.5 8.2
    BurstDelay = 2 2
    BurstCount = 1 1
  End
  Color = DefaultColor
    Color1 = R:235 G:218 B:200 0
  End
  Alpha = DefaultAlpha
    Alpha1 = 0.08 0.08 0
    Alpha2 = 0 0 100
  End
  Update = RenderObjectUpdate
    StartSizeX = 0.4 0.4
    StartSizeY = 1 1
    StartSizeZ = 0.1 0.1
    SizeRateX = 0.15 0.15
    SizeRateZ = 0.05 0.05
    SizeDampingX = 0.95 0.95
    SizeDampingY = 1 1
    SizeDampingZ = 0.95 0.95
    AngleZ = 1.45 1.45
    AngularRateZ = -0.003 0.003
    AngularDamping = 0.99 0.99
    Rotation = ROTATE_Z
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = PointEmissionVolume
  End
  Draw = RenderObjectDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem GandalfLightningHitDistortion1
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = SMUDGE.tga
    Lifetime = 50 50
    SystemLifetime = 5
    BurstDelay = 20 20
    BurstCount = 1 1
  End
  Color = DefaultColor
    Color1 = R:255 G:255 B:255 0
    Color2 = R:255 G:255 B:255 0
    Color3 = R:255 G:255 B:255 0
    Color4 = R:255 G:255 B:255 0
    Color5 = R:255 G:255 B:255 0
    Color6 = R:255 G:255 B:255 0
    Color7 = R:255 G:255 B:255 0
    Color8 = R:255 G:255 B:255 0
  End
  Alpha = DefaultAlpha
    Alpha2 = 1 1 10
    Alpha3 = 0 0 20
  End
  Update = DefaultUpdate
    SizeRate = 20 20
    SizeRateDamping = 0.92 0.92
    AngleZ = 0.01 0.02
    AngularDamping = 0.8 0.85
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.96 0.97
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = PointEmissionVolume
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXList FX_HolyGround
  ParticleSystem
    Name = HolyGround
    Offset = X:0.0 Y:0.0 Z:10.0
  End
  Sound 
    Name = Gui_ScoreScreenWindows
  End
End

FXList FX_HolyGroundHit
  ParticleSystem
    Name = HolyGround
    Offset = X:0.0 Y:0.0 Z:10.0
  End
  Sound 
    Name = GandalfIstariLightStart
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXList FX_NewGandalfBeamWeapon
  Sound
    Name = GandalfBeamWeapon
  End
  ParticleSystem 
    Name = NewGandalfIstariLightRays
    Offset = X:0.0 Y:0.0 Z:20.0
    OrientToObject = Yes
    SetTargetMatrix = Yes
  End
End


;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem GandalfSunflareFireRing ;MeteorExp
  System
    Priority = ALWAYS_RENDER
    IsOneShot = Yes
    ParticleName = EXexplo03.tga
    Lifetime = 70 70
    SystemLifetime = 10
    Size = 50 80
    BurstCount = 5 5
    InitialDelay = 5 5
  End
  Color = DefaultColor
    Color2 = R:92 G:85 B:67 5
    Color3 = R:0 G:0 B:0 50
  End
  Alpha = DefaultAlpha
    Alpha2 = 0.75 1 5
    Alpha3 = -0.5 0 10
  End
  Update = DefaultUpdate
    SizeRate = 10 20
    SizeRateDamping = 0.9 0.95
    AngleZ = -7 7
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = CylinderEmissionVolume
    IsHollow = Yes
    RadiusRate = 5
    Offset = X:0 Y:0 Z:6
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem GandalfSunflareFireRing1 ;MeteorExp
  System
    Priority = ALWAYS_RENDER
    IsOneShot = Yes
    ParticleName = EXexplo03.tga
    Lifetime = 50 50
    SystemLifetime = 20
    Size = 30 50
    BurstCount = 5 5
    InitialDelay = 5 5
  End
  Color = DefaultColor
    Color2 = R:92 G:85 B:67 5
    Color3 = R:0 G:0 B:0 50
  End
  Alpha = DefaultAlpha
    Alpha2 = 0.75 1 5
    Alpha3 = -0.5 0 10
  End
  Update = DefaultUpdate
    SizeRate = 5 10
    SizeRateDamping = 0.9 0.95
    AngleZ = -7 7
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = CylinderEmissionVolume
    IsHollow = Yes
    RadiusRate = 5
    Offset = X:0 Y:0 Z:6
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXList FX_GandalfSunFlare
  ParticleSystem
    Name = GandalfSunflareFireRing1
    Offset = X:0.0 Y:0.0 Z:8.0
  End

  ParticleSystem
    Name = SunFlareGlow
    Offset = X:0.0 Y:0.0 Z:10.0
  End

  ParticleSystem
    Name = SunFlareProxy
    Offset = X:0.0 Y:0.0 Z:10.0
  End

  ParticleSystem
    Name = GandalfSunflareFireRing
    Offset = X:0.0 Y:0.0 Z:10.0
  End
  ParticleSystem
    Name = SunRays
    Offset = X:0.0 Y:0.0 Z:80.0
  End

  Sound 
    Name = SpellSunflareMS
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXList FX_HolyRing
  TintDrawable
	Color				= R:255 G:255 B:255
	PreColorTime		= 40
	PostColorTime		= 50
	SustainedColorTime	= 1400
	Frequency			= 0
	Amplitude			= 0
  End
End

ModifierList HolyRing
	Category = WEAPON
	Modifier = DAMAGE_MULT 200%
	Modifier = ARMOR 300%
	Duration = 30000
	FX		 = FX_HolyRing
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<Gandalf's Power Timers etc>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

SpecialPower SpecialAbilityLightningSword
  Enum              = SPECIAL_ARROW_STORM
  ReloadTime        = 180000 ; in milliseconds ; 60 second less, it does not take much units out, but its damage is insane, good at taking out balrogs etc
  PublicTimer       = No
  RadiusCursorRadius = 120.0
  ViewObjectDuration = 5000
  ViewObjectRange = 120
End

SpecialPower SpecialAbilityIstariLight
  Enum			= SPECIAL_WOUND_ARROW
  ReloadTime		= 120000 ; Redothis 
  PublicTimer		= No
;  RadiusCursorRadius	= 120.0
End

SpecialPower SpecialAbilityWizardBlast
	Enum			= SPECIAL_WIZARD_BLAST
	ReloadTime		= 80000   ; 20 sec longer the normal, this is much better then normal one,
	PublicTimer		= No
	;InitiateSound	= GandalfVoiceAttackWizardBlast	;this plays when he fires, not when he targets
End

SpecialPower SpecialAbilityWordOfPower
	Enum			= SPECIAL_WORD_OF_POWER
	ReloadTime		= 300000 ; 60 sec less
	PublicTimer		= No
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

SpecialPower SpecialAbilitysunwave
	Enum			= SPECIAL_WORD_OF_POWER
	ReloadTime		= 250000
	PublicTimer		= No
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; GandalfWeapons
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Weapon NewSunflareWeapon	
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR	

	//Turn the troll effectively to stone
	AttributeModifierNugget
		AttributeModifier        = SunFlareTrollToStone
		Radius					 = SPELL_SUNFLARE_EFFECT_RADIUS		
		SpecialObjectFilter      = ANY +MordorAttackTroll +MordorDrummerTroll +MordorMountainTroll +MordorCaveTroll +GoblinCaveTroll +GoblinCaveTroll_FromTrollLair +CaveTroll_Slaved
	End            	

	// A basic Nugget that just does damage
	DamageNugget                
		Damage        = 2000 ;3000;4000; seems high don't it? well its fine lol, it realy only does like 500 damage.
		Radius        = 150	
		DelayTime     = 0
		DamageType    = FLAME
		DamageFXType  = FLAME
		DeathType     = BURNED
		DamageSpeed		= 150.0 ; must match the ShockWaveSpeed below
	End

	//Start a fire - Removed at the request of Wes "Ensign Crusher" Eckhart
	FireLogicNugget 
		LogicType	=	INCREASE_BURN_RATE
		Radius		=	20
		Damage		=	SPELL_SUNFLARE_FIRE_DAMAGE
	End
	//Design knob
	FireLogicNugget
		LogicType		=	INCREASE_FUEL
		Radius			=	100
		Damage			=	SPELL_SUNFLARE_FIRE_FUEL
		MinMaxBurnRate	=	SPELL_SUNFLARE_FIRE_MINMAX_BURNRATE
		MinDecay		=	1
		MaxResistance	=	0
	End

	//Paralyze everything that's light sensitive ; this may work not to sure.
	ParalyzeNugget				
		Radius					= 1000
		Duration				= 20000
		SpecialObjectFilter     = ANY +MordorFighter +MordorArcher +MordorBannerOrc +WildBannerGoblin +WildBannerMarauder +WildBannerSpiderling +GoblinFighter +GoblinArcher +WildSpiderling +GoblinSpiderRider +WildShelob +MordorGoblinSwordsman +MordorGoblinArcher +BarrowWight ENEMIES
	End

End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Guys in the very middle will be blasted back a little big, and all the guys around will be burned.
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Weapon GandalfStaffWeapon  ; BALANCE GandalfStaffWeapon
	AttackRange			= GANDALF_PHASER_RANGE				;600
	LeechRangeWeapon	= Yes
	WeaponSpeed			= 801      ; dist/sec 
	HitPercentage		= 100		; When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots	= 4500		; time between shots, msec
	FireFX              = FX_NewGandalfBeamWeapon  ;FX_GandalfBeamWeapon
	FiringDuration      = 1
	AntiAirborneVehicle	= Yes
	AntiAirborneMonster	= Yes
	AcceptableAimDelta	= 15

;	DamageDealtAtSelfPosition = Yes

	RadiusDamageAffects = ENEMIES NOT_SIMILAR

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 4000 ;GANDALF_PHASER_DAMAGE	; MAIN INI.FILE SAYS THAT ITS DAMAGE IS 3000 DAMAGE WDF? OK I MAKE IT 4000 LOL
		DamageScalar  = 200% NONE +MordorWitchKingOnFellBeast +GondorGwaihir +Drogoth
		DamageScalar  = 180% NONE +MordorFellBeast
;		DamageArc 		= 90
		Radius        = 70.6  ; NORMAL IS 17.6 I think.
		DelayTime     = 200           ;The target is dying before the laser appears in the new laser tweak, so try to kill when the laser turns on
		DamageType    = FLAME
		DamageFXType  = FIRE3
		DeathType     = BURNED
	End
;	MetaImpactNugget                    ; A Nugget that throws things back with force
;;		HeroResist          =   0.75
;		ShockWaveAmount		= 50.0
;		ShockWaveRadius		= 17.6
;		ShockWaveTaperOff	= 0.5
;		DelayTime			= 200		;The target is dying before the laser appears in the new laser tweak, so try to kill when the laser ;turns on
;	End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>



Weapon GandalfWizardBlast ; small microwave push
	IdleAfterFiringDelay = 0
	LeechRangeWeapon	 = Yes
	AttackRange = GANDALF_FORCE_ATTaCK_RANGE
	WeaponSpeed = 401         ; dist/sec 
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000               ; time between shots, msec
	PreAttackDelay        = 100
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
	FireFX                = FX_TelekinesisAtBone
	FiringDuration        = 100
	DamageDealtAtSelfPosition = Yes ; Damage arc code is boned right now.  Does calc from source obj, not damage point.  To get proper arc, need to set this until code is fixed.
	IsAimingWeapon		= Yes
	AcceptableAimDelta	= 15
	AntiAirborneVehicle	= No
	AntiAirborneMonster	= No

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= GANDALF_FORCE_ATTaCK_DAMAGE
		DamageArc 		= 90
		Radius			= 200.0
		DamageType		= MAGIC
		DamageFXType	= ELECTRIC
		DeathType		= EXPLODED
		DamageSpeed		= 300.0 ; must match the ShockWaveSpeed below
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= .75
		ShockWaveAmount   = 125.0
		ShockWaveArc	  = 75
		ShockWaveRadius   = 110.0
		ShockWaveTaperOff = 0.75
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 300.0 
	End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; this is one powerfull blast lmao.
;Maybe after i am done all this, make a fire type blast to go alone with the old one, it make it look better.
Weapon GandalfWordOfPower ; Big Blue Ring Blast ; 
	IdleAfterFiringDelay = 0
	AttackRange = GANDALF_WORD_OF_POWER_RANGE
	MinimumAttackRange = 0.8
	WeaponSpeed = 701         ; dist/sec 
	MinWeaponSpeed = 641
	MaxWeaponSpeed = 751      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	ScaleWeaponSpeed = Yes ; Used for lob weapons, scales speed proportional to range
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 7000               ; time between shots, msec
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
	PreAttackFX           = FX_GandalfPreAttackBlast
	FireFX                = FX_GandalfBlast
	FiringDuration      = 2400
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 700 ;GANDALF_WORD_OF_POWER_DAMAGE; normal is 500
		Radius			= 350.0 ; normal is 120 lmao. this is gona be fun. gandalfs maybe the powerfullest good hero*
		DamageType		= MAGIC ; 
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 700.0 ; must match the ShockWaveSpeed below
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= .75
		ShockWaveAmount   = 100.0 ;300.0 ; 300, lmao this is the fucking bitch that was making the units flying outa the map lmao.!!!!!!
		ShockWaveRadius   = 500.0
		ShockWaveTaperOff = 1.0
		ShockWaveZMult    = 1.200
		ShockWaveSpeed	  = 700.0 
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= .75
		ShockWaveAmount   = 50.0
		ShockWaveRadius   = 1100.0
		ShockWaveTaperOff = 1.0
		ShockWaveZMult    = 1.000
		ShockWaveSpeed	  = 700.0 
	End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Weapon GandalfLightningSwordBlastWeapon  ; BALANCE GandalfStaffWeapon
	AttackRange			= 1200				;600
	WeaponSpeed			= 1801      ; dist/sec 
	HitPercentage			= 100		; When this weapon is used it will hit exactly 100% of the time.
	DelayBetweenShots		= 2000		; time between shots, msec
	PreAttackDelay      		= 400
	PreAttackType       		= PER_SHOT	; Do the delay each time we attack a new target
	FireFX              		= FX_GandalfLightningSwordBlastWeapon
	
	FiringDuration      		= 1100
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes

	RadiusDamageAffects = ENEMIES NOT_SIMILAR

	DamageNugget                        ; A basic Nugget that just does damage
		Damage        		= 500	
		Radius			= 35.0		
		DamageType    		= FLAME
		DamageFXType  		= ELECTRIC
		DeathType     		= BURNED
	End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Weapon GandalfSword
  LeechRangeWeapon      = Yes
  AttackRange           = 10.0
  RadiusDamageAffects   = ENEMIES NOT_SIMILAR
  MeleeWeapon           = Yes
  FireFX                = FX_GandalfSwordHit
  DelayBetweenShots     = 767 			; time between shots, msec
  PreAttackDelay        = 533
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = 800	; Duration of the sword swing
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 100
		DamageArc 		= 300
		Radius			= 33.0
		DamageType		= HERO
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 500.0 ; must match the ShockWaveSpeed below
	End
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 100	
		DamageArc 		= 200
		Radius			= 33.0
		DamageType    = FLAME
		DamageFXType  = FIRE3 ;FLAME
		DeathType     = BURNED
		DamageSpeed		= 500.0 ; must match the ShockWaveSpeed below
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.75
		ShockWaveAmount   = 70.0
		ShockWaveArc	  = 280
		ShockWaveRadius   = 28.0
		ShockWaveTaperOff = 1.25
		ShockWaveZMult    = 0.7
		ShockWaveSpeed	  = 500.0
	End
End

Weapon GandalfHeroSword
  LeechRangeWeapon      = Yes
  AttackRange           = 30.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = 767
  PreAttackDelay        = 533
  PreAttackType         = PER_SHOT
  FireFX                = FX_HolyGroundHit
  FiringDuration        = 800
  RadiusDamageAffects = ENEMIES NOT_SIMILAR
  ClearNuggets
  DamageNugget
    Damage        = 500
    Radius        = 66.0
    DelayTime     = 0
    DamageType    = MAGIC
    DamageFXType  = BOLT ;MAGIC
    DeathType     = EXPLODED
    DamageArc     = 600
    DamageSpeed		= 500.0 ; must match the ShockWaveSpeed below
  End
  MetaImpactNugget
    HeroResist			= .75
    ShockWaveAmount   = 120.0		
    ShockWaveRadius   = 66.0
    ShockWaveTaperOff = 0.4
    ShockWaveArc      = 600
    ShockWaveSpeed	  = 500.0
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Gandalf's Experience
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

ExperienceLevel	GandalfLevel1
	TargetNames						=	GANDALF
	RequiredExperience				=	1
	ExperienceAward					=	GANDALF_LVL1_EXP_AWARD 
	Rank							=	1
	Upgrades						=	Upgrade_GandalfBlast
;	AttributeModifiers				=	TotalResistKnockback ;resist all knockback
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200	
		MaxSelectedUnits				=	40
	End	
End	

ExperienceLevel	GandalfLevel2
	TargetNames						=	GANDALF
	RequiredExperience				=	GANDALF_LVL2_EXP_NEEDED
	ExperienceAward					=	GANDALF_LVL2_EXP_AWARD 
	AttributeModifiers				=	HeroLevelUpDamage1
	Rank							=	2
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Upgrades						=	Upgrade_GandalfLightningSword	
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200	
		MaxSelectedUnits				=	40
	End	
END	

ExperienceLevel	GandalfLevel3
	TargetNames						=	GANDALF
	RequiredExperience				=	GANDALF_LVL3_EXP_NEEDED
	ExperienceAward					=	GANDALF_LVL3_EXP_AWARD 
	 AttributeModifiers				=	HeroLevelUpDamage2
	Rank							=	3

	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200	
		MaxSelectedUnits			=	40
	End	
END	

ExperienceLevel	GandalfLevel4
	TargetNames						=	GANDALF
	RequiredExperience				=	GANDALF_LVL4_EXP_NEEDED
	ExperienceAward					=	GANDALF_LVL4_EXP_AWARD 
	AttributeModifiers				=	HeroLevelUpDamage3

	Upgrades						=	Upgrade_GandalfLeadership
	Rank							=	4
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200	
		MaxSelectedUnits			=	40
	End	
END	

ExperienceLevel	GandalfLevel5
	TargetNames						=	GANDALF
	RequiredExperience				=	GANDALF_LVL5_EXP_NEEDED
	ExperienceAward					=	GANDALF_LVL5_EXP_AWARD 
	Upgrades						=	Upgrade_Shadowfax Upgrade_GandalfWhite Upgrade_GandalfIstariLight
	AttributeModifiers				=	HeroLevelUpDamage4	
	Rank							=	5
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200	
		MaxSelectedUnits				=	40
	End	
END	

ExperienceLevel	GandalfLevel6
	TargetNames						=	GondorGandalf GondorGandalfGrey GondorGandalfWhite GondorGandalfCavalry
	RequiredExperience					=	GANDALF_LVL6_EXP_NEEDED
	ExperienceAward						=	GANDALF_LVL6_EXP_AWARD 
	Upgrades						=	Upgrade_AragornBladeMaster
	AttributeModifiers					=	HeroLevelUpDamage5	
	Rank							=	6
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200	
		MaxSelectedUnits				=	40
	End	
END	

ExperienceLevel	GandalfLevel7
	TargetNames						=	GANDALF
	RequiredExperience				=	GANDALF_LVL7_EXP_NEEDED
	ExperienceAward					=	GANDALF_LVL7_EXP_AWARD 
	AttributeModifiers				=	HeroLevelUpDamage6	
	Rank							=	7
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Upgrades						=	;Upgrade_GandalfIstariLight

	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200	
		MaxSelectedUnits			=	40
	End	
END	

ExperienceLevel	GandalfLevel8
	TargetNames						=	GANDALF
	RequiredExperience				=	GANDALF_LVL8_EXP_NEEDED
	ExperienceAward					=	GANDALF_LVL8_EXP_AWARD 
	AttributeModifiers				=	HeroLevelUpDamage7
	Rank							=	8
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Upgrades						=	Upgrade_ArwenFloodTrigger
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200	
		MaxSelectedUnits			=	40
	End	
END	

ExperienceLevel	GandalfLevel9
	TargetNames						=	GANDALF
	RequiredExperience				=	GANDALF_LVL9_EXP_NEEDED
	ExperienceAward					=	GANDALF_LVL9_EXP_AWARD 
	AttributeModifiers				=	HeroLevelUpDamage8
	Rank							=	9
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200	
		MaxSelectedUnits			=	40
	End	
END	

ExperienceLevel	GandalfLevel10
	TargetNames						=	GANDALF
	RequiredExperience				=	GANDALF_LVL10_EXP_NEEDED
	ExperienceAward					=	GANDALF_LVL10_EXP_AWARD 
	AttributeModifiers				=	HeroLevelUpDamage9
	Rank							=	10
	Upgrades						=	Upgrade_GandalfWordOfPower
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200	
		MaxSelectedUnits			=	40
	End	
END	

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Buttons
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

CommandButton Command_PurchaseSpellSunflare  ;CommandButton Command_PurchaseSpellFarsight  ;  ;CommandButton Command_GondorGandalfIstariLight  ;CommandButton Command_ArwenFlood
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilitysunwave
  Options                 = NONE
  TextLabel               = CONTROLBAR:sunwave
  ButtonImage             = Gandolf_radcircle;HSGandalfWordOfPower
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipsunwave
  AutoAbility			  = Yes
  PresetRange			  = 120.0
  InPalantir			  = Yes
;  UnitSpecificSound = AragornVoiceSummonOathbreakers
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

CommandButton Command_SpecialAbilityNarsilAttack
  Command                 = SPECIAL_POWER
  Options                 = NONE 
  SpecialPower            = SpecialAbilityAragornBladeMaster
  TextLabel               = CONTROLBAR:HolyRing
  ButtonImage             = HSAragornBladeMaster
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipHolyRing
  InPalantir			  = Yes
  AutoAbility			  = Yes
  AutoDelay				  = 30.0
  PresetRange			  = 50.0
;  UnitSpecificSound = GandalfSpellVoice
End

CommandButton Command_SpecialAbilityWizardBlast
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityWizardBlast
  Options                 = NEED_TARGET_ENEMY_OBJECT ; CONTEXTMODE_COMMAND
  TextLabel               = CONTROLBAR:WizardBlast1
  ButtonImage             = HSGandalfWizardBlast
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipWizardBlast1
  CursorName              = Bombard
  InvalidCursorName       = GenericInvalid
  AutoAbility			  = Yes
  PresetRange			  = 80.0
;  UnitSpecificSound       = 
  InPalantir			  = Yes
End

CommandButton Command_PurchaseSpellCloudBreak
	Command                 = SPECIAL_POWER
	SpecialPower            = SpecialAbilityIstariLight 
	Options                 = NEED_TARGET_ENEMY_OBJECT  ; CONTEXTMODE_COMMAND
	TextLabel               = CONTROLBAR:IstariLight1
	ButtonImage             = HSGandalfIstariLight
	CursorName              = Bombard
	InvalidCursorName       = GenericInvalid
	ButtonBorderType        = ACTION
	DescriptLabel           = CONTROLBAR:ToolTipIstariLight1
	AutoAbility			  = Yes
	InPalantir			  = Yes
End

CommandButton Command_GondorGandalfLightningSword
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityLightningSword
  Options                 = NEED_TARGET_POS CONTEXTMODE_COMMAND
  TextLabel               = CONTROLBAR:LightningSword1
  ButtonImage             = HSGandalfLightningSword
  RadiusCursorType        = LIGHTNING_SWORD
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipLightningSword1
  AutoAbility			  = No
  InPalantir			  = Yes
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; FIXED FIXED WOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOOT! GOD DAM OPTIONS!
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

CommandButton Command_SpecialAbilityWordOfPower
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityWordOfPower
  Options                 = NONE
  TextLabel               = CONTROLBAR:WordofPower
  ButtonImage             = Gandolf_radcircle;HSGandalfWordOfPower
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipWordofPower
  AutoAbility			  = Yes
  PresetRange			  = 120.0
  InPalantir			  = Yes
;   UnitSpecificSound = GaladrielTerribleFuryMS  ;AragornVoiceSummonOathbreakers
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;GandalfCommandSet
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CommandSet NewGondorGandalfCommandSet
  1  = Command_SpecialAbilityWizardBlast
  2  = Command_PurchaseSpellCloudBreak  ;Command_CreateAHero_SpecialAbilityForcePush_Level1
  3  = Command_GondorGandalfLightningSword
  4  = Command_SpecialAbilityNarsilAttack
  5  = Command_PurchaseSpellSunflare  ;Command_PurchaseSpellFarsight  ;Command_CreateAHero_LightBlast_L1   ;
  6  = Command_SpecialAbilityWordOfPower
	12 = Command_CaptureBuilding
	13 = Command_AttackMove
	14 = Command_Stop
        15 = Command_ToggleStance
End

Object GondorGandalf
 CommandSet = NewGondorGandalfCommandSet
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Object FX for powers
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Gandalf armor
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Armor GandalfArmor
  Armor = DEFAULT          25%   
  Armor = SLASH            25%   
  Armor = PIERCE           25%   
  Armor = SPECIALIST       25%   
  Armor = CRUSH             1%   
  Armor = CAVALRY	   25% 
  Armor = SIEGE            50%   
  Armor = FLAME            25%   
  Armor = MAGIC           20%   
  Armor = HERO            50%   ;
  Armor = POISON	   75% 
  Armor = STRUCTURAL	  50%
End
;
; No use took off mount. what ever.
;
;Armor GandalfArmorMounted
;  Armor = DEFAULT         40%     ;this sets the level for all nonspecified damage types
;  Armor = CRUSH           30% ;30%     ;cavalry damage
;  Armor = SLASH           40%     ;soldier damage
;  Armor = URUK            50%     ;Uruk damage
;  Armor = PIERCE         50%     ;archer damage
;  Armor = SPECIALIST	 50%     ;pikemen damage
;  Armor = HERO           50%     ;Hero damage
;  Armor = HERO_RANGED    50%     ;Hero bow damage
;  Armor = FLAME		  5%     ;fire damage
;  Armor = SIEGE		  50%
;End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Gandalf's Prop, Stuff. what he has, mods, etc. MODULES MODULES
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Object GondorGandalf

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
      AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WordEnabler2
		SpecialPowerTemplate = SpecialAbilitysunwave
		TriggeredBy = Upgrade_ArwenFloodTrigger
	End
      End
      AddModule
	Behavior = SpecialPowerModule ModuleTag_WordStarter2       
		SpecialPowerTemplate      = SpecialAbilitysunwave
		UpdateModuleStartsAttack  = Yes
		StartsPaused		  	  = Yes
           		TriggerFX                  = FX_GandalfSunFlare
	End
      End
      AddModule
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WordWeaponFireUpdate2   
		SpecialPowerTemplate    = SpecialAbilitysunwave
		WhichSpecialWeapon		= 1
		SkipContinue			= Yes
		UnpackTime              = 1400 
		PackTime                = 1		
		FreezeAfterTriggerDuration = 2500
		AwardXPForTriggering    = 0		
		StartAbilityRange		= 80.0
		SpecialWeapon			= NewSunflareWeapon
	End
      End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Word of power
	ReplaceModule ModuleTag_WordEnabler
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WordEnabler1
		SpecialPowerTemplate = SpecialAbilityWordOfPower
		TriggeredBy = Upgrade_GandalfWordOfPower
	End
	End

	ReplaceModule ModuleTag_WordStarter
	Behavior = SpecialPowerModule ModuleTag_WordStarter1     
		SpecialPowerTemplate      = SpecialAbilityWordOfPower
		UpdateModuleStartsAttack  = Yes
		StartsPaused		  	  = Yes
	End
	End

	ReplaceModule ModuleTag_WordWeaponFireUpdate
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WordWeaponFireUpdate1   
		SpecialPowerTemplate    = SpecialAbilityWordOfPower
		WhichSpecialWeapon		= 1
		SkipContinue			= Yes

		UnpackTime              = 1700 
		PackTime                = 1	
		FreezeAfterTriggerDuration = 2500 ; Hold AI for this long after we fire.
		
		AwardXPForTriggering    = 0		
		StartAbilityRange		= 80.0
		
		SpecialWeapon			= GandalfWordOfPower
	End
	End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
	ShockwaveResistance = SHOCKWAVE_RESISTANCE_ALWAYS

	ArmorSet
		Conditions      = MOUNTED
		Armor           = GandalfArmor  ;GandalfArmorMounted
		DamageFX        = NormalDamageFX
	End

	DisplayMeleeDamage = 200


	ReplaceModule ModuleTag_GandalfHealing
	Behavior = AutoHealBehavior ModuleTag_GandalfHealing1
		StartsActive = Yes
		HealingAmount = 70
		HealingDelay = 1000
		StartHealingDelay = 12000
		HealOnlyIfNotInCombat = Yes
	End
	End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
	ReplaceModule ModuleTag_RespawnBody
	Body = RespawnBody ModuleTag_RespawnBody1
		CheerRadius 			= EMOTION_CHEER_RADIUS
		MaxHealth         		= 2800	;GANDALF_THE_WHITE_HEALTH
		PermanentlyKilledByFilter	= NONE		;Who kills me permanently?
   		DodgePercent      		= HERO_DODGE_PERCENT
	End
	End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
  	ReplaceModule ModuleTag_01
	Draw = W3DScriptedModelDraw ModuleTag_011

		GlowEnabled = No;
		GlowEmissive = No;
		
		OkToChangeModelColor = No
		
		StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

		ExtraPublicBone = STAFF
		ExtraPublicBone = B_SWORDBONE
		ExtraPublicBone = PASSENGERBONE
		DependencySharedModelFlags = TURN_LEFT_HIGH_SPEED TURN_RIGHT_HIGH_SPEED MOVING ACCELERATE DECELERATE TURN_LEFT TURN_RIGHT ATTACKING BACKING_UP
		
		;;; MODEL STATES ;;;
		DefaultModelConditionState ;gandalf is grey to start out with
			Model               = GUGandalfG_SKN
			WeaponLaunchBone    = TERTIARY STAFF 
			ParticleSysBone     = STAFF GandalfStaffFire FollowBone:Yes GandalfSwordFire
			ParticleSysBone     = B_SWORDBONE GandalfSwordFire FollowBone:Yes
		End

		;;; White Only versions of Gandalf (for solo missions excluding Moria) ;;;
		ModelConditionState		= USER_2 MOUNTED
			Model               = GUGdfHrs_SKN_M
			WeaponLaunchBone    = PRIMARY PASSENGERBONE
			WeaponLaunchBone    = TERTIARY STAFF
;			ParticleSysBone     = STAFF GandalfMoriaLight FollowBone:Yes
;			ParticleSysBone     = STAFF GandalfMoriaLightCenter FollowBone:Yes
		End

		ModelConditionState		= USER_2
			Model               = GUGandalf_SKN
			WeaponLaunchBone    = TERTIARY STAFF 
;			ParticleSysBone     = STAFF GandalfMoriaLight FollowBone:Yes
;			ParticleSysBone     = STAFF GandalfMoriaLightCenter FollowBone:Yes
		End
		
		;;; Grey versions of Gandalf USER MODELS (For Moria only) -- never becomes white;;;
		ModelConditionState		= USER_1 MOUNTED
			Model               = GUGdfGHrs_SKN
			WeaponLaunchBone    = PRIMARY PASSENGERBONE
			WeaponLaunchBone    = TERTIARY STAFF
            Shadow				= SHADOW_ADDITIVE_DECAL
            ShadowSizeX			= 200;
            ShadowSizeY			= 200;
            ShadowTexture		= EXGandalfGlow;
		End

		ModelConditionState		= USER_1
			Model               = GUGandalfG_SKN
			WeaponLaunchBone    = TERTIARY STAFF 
			ParticleSysBone     = STAFF GandalfMoriaLight FollowBone:Yes
			ParticleSysBone     = STAFF GandalfMoriaLightCenter FollowBone:Yes
            Shadow				= SHADOW_ADDITIVE_DECAL
            ShadowSizeX			= 200;
            ShadowSizeY			= 200;
            ShadowTexture		= EXGandalfGlow;
		End
		
		;;; Mounted version of Gandalf White ;;;
		ModelConditionState		= MOUNTED HERO
			Model               = GUGdfHrs_SKN_M
			WeaponLaunchBone    = PRIMARY PASSENGERBONE
			WeaponLaunchBone    = TERTIARY STAFF
		End

		;;; Mounted version of Gandalf Grey ;;;
		ModelConditionState		= MOUNTED
			Model               = GUGdfGHrs_SKN
			WeaponLaunchBone    = PRIMARY PASSENGERBONE
			WeaponLaunchBone    = TERTIARY STAFF
		End
		
		;;; Gandalf the White version on foot ;;;
		ModelConditionState = HERO ;turn me white when the spell is cast
			Model               = GUGandalf_SKN
			WeaponLaunchBone    = TERTIARY STAFF 
		End

		ModelConditionState = WORLD_BUILDER
			Model = None
		End		

		IdleAnimationState
			StateName = Idle
			Animation = Foot_IDLB ; Bored Idle
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLB
				AnimationMode       = ONCE
				AnimationPriority   = 20
			End
			Animation = Foot_IDLC ; Bored Fidget
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLC
				AnimationMode       = ONCE
				AnimationPriority   = 2
			End
			Animation = Foot_IDLD ; Bored Fidget
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLD
				AnimationMode       = ONCE
				AnimationPriority   = 1
			End
			Animation = Foot_IDLE ; Bored Fidget
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLE
				AnimationMode       = ONCE
				AnimationPriority   = 2
			End
			Animation = Foot_IDLF ; Bored Fidget
				AnimationName       = GUGandalfG_SKL.GUGandalfF_IDLF
				AnimationMode       = ONCE
				AnimationPriority   = 1
			End
			
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
				CurDrawableHideSubObject("STAFF_LIGHT")			
			EndScript			
						
		End

		; --- stunned anims  Which must go before deaths in case we are dying in the air.  Plus, DyingSplatted must of course be before Dying
		AnimationState				=	MOUNTED STUNNED_FLAILING 
			Animation				=	JustDie
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_FLYB
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
		End
		
		AnimationState				=	MOUNTED DYING SPLATTED
			Animation				=	Land
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_LNDA
				AnimationMode		=	ONCE
			End
		End
		
		AnimationState				=	MOUNTED DYING	
			Animation				=	JustDie
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_DIEA
				AnimationMode		=	ONCE
			End
		End
		
		AnimationState				=	MOUNTED STUNNED_STANDING_UP
			Animation				=	StandUp
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_GTPA
				AnimationMode		=	ONCE
			End
		End

		AnimationState				=	MOUNTED STUNNED
			Animation				=	Land
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_LNDA
				AnimationMode		=	ONCE
			End
		End
		
		

		

		

		AnimationState      = STUNNED_FLAILING 
			Animation = StunnedFlail
				AnimationName         = GUGandalfG_SKL.GUGandalfG_FLYA
				AnimationMode     = LOOP
			End
		End
		
		AnimationState      = DYING SPLATTED
			Animation = Stunned
				AnimationName         = GUGandalfG_SKL.GUGandalfG_LNDA
				AnimationMode     = ONCE
			End
;      ;ParticleSysBone   = None GandalfIllumination FollowBone:yes FXTrigger:NONE Persist:KILL PersistID:100
		End
		
		AnimationState        = DYING AFLAME
			Animation = DieAflame
				AnimationName           = GUGandalfG_SKL.GUGandalfG_MFDA
				AnimationMode       = LOOP
			End
		End
		
		AnimationState        = DYING
			Animation = Die
				AnimationName           = GUGandalfG_SKL.GUGandalfG_DIEB
				AnimationMode       = ONCE
			End
;      ;ParticleSysBone     = None GandalfIllumination FollowBone:yes FXTrigger:NONE Persist:KILL PersistID:100
		End

		AnimationState        = STUNNED_STANDING_UP
			Animation           = GUGandalfG_GTPA
				AnimationName     = GUGandalfG_SKL.GUGandalfG_GTPA
				AnimationMode     = ONCE
			End
		End
		
		AnimationState      = STUNNED
			Animation = Stunned
				AnimationName         = GUGandalfG_SKL.GUGandalfG_LNDA
				AnimationMode     = ONCE
			End
;      ;ParticleSysBone   = None GandalfIllumination FollowBone:yes FXTrigger:NONE Persist:KILL PersistID:100
		End

		
		
		
		
		

		AnimationState        =  PASSENGER EATING
			StateName = BeingEaten
			Animation
				AnimationName           = GUGandalfG_SKL.GUGandalfG_EATA
				AnimationMode       = ONCE
				AnimationBlendTime	=	4
			End
		End
	
		AnimationState        =  PASSENGER
		StateName = BeingEaten
			Animation
				AnimationName           = GUGandalfG_SKL.GUGandalfG_FLLA
				AnimationMode       = LOOP
				AnimationBlendTime	=	4
			End
		End
	
		;;; WORD OF POWER ANIMS MOUNTED ;;;
		AnimationState        =  SPECIAL_WEAPON_ONE MOUNTED
			StateName = Attacking
			Animation
				AnimationName		= GUGdfHrs_SKL.GUGdfHrs_SPLA
				AnimationMode       = ONCE
				AnimationBlendTime	=	4
			End
			FXEvent			= Frame:5 Name:FX_GandalfPreAttackBlast			
		End
	
		;;; WORD OF POWER ANIMS ON FOOT ;;;
		AnimationState        =  SPECIAL_WEAPON_ONE
			StateName = Attacking
			Animation
				AnimationName           = GUGandalfG_SKL.GUGandalfG_SPCK
				AnimationMode       = ONCE
			End
			FXEvent			= Frame:5 Name:FX_GandalfPreAttackBlast
		End

		;;; WIZARD BLAST ANIMS MOUNTED ;;;
		AnimationState        =  SPECIAL_WEAPON_TWO MOUNTED
			StateName = Attacking
			Animation
				AnimationName		= GUGdfHrs_SKL.GUGdfHrs_SPLD
				AnimationMode       = ONCE
			End
		End
	
		;;; WIZARD BLAST ANIMS ON FOOT ;;;
		AnimationState        =  SPECIAL_WEAPON_TWO
			StateName = Attacking
			Animation
				AnimationName       = GUGandalfG_SKL.GUGandalfG_SPCL
				AnimationMode       = ONCE
			End
		End
		
		;;; LIGHTNING CHARGE ANIMS MOUNTED ;;;
		AnimationState        =  MOUNTED PACKING_TYPE_1 UNPACKING
			StateName = Attacking
			Animation = LightningSwordStart
				AnimationName           = GUGdfHrs_SKL.GUGdfHrs_SPE1
				AnimationMode       = ONCE
			End
			FXEvent			= Frame:14 Name:FX_GandalfLightningCharge
;			FXEvent			= Frame:70 Name:FX_GandalfLightningFizzle
			FXEvent			= Frame:14 Name:FX_GandalfLightningSword  FrameStop:70
		End
	
		AnimationState        =  MOUNTED PACKING_TYPE_1 PREPARING
			StateName = Attacking
			Animation = LightningSwordLoop
				AnimationName           = GUGdfHrs_SKL.GUGdfHrs_SPE2
				AnimationMode       = LOOP
			End
		End

		AnimationState        =  MOUNTED PACKING_TYPE_1 PACKING
			StateName = Attacking
			Animation = LightningSwordPutAway
				AnimationName           = GUGdfHrs_SKL.GUGdfHrs_SPE3
				AnimationMode       = ONCE
			End
		End

		;;; LIGHTNING CHARGE ANIMS ON FOOT ;;;
		AnimationState        =  PACKING_TYPE_1 UNPACKING
			StateName = Attacking
			Animation = LightningSwordStart
				AnimationName           = GUGandalfG_SKL.GUGandalfG_SPE3
				AnimationMode       = ONCE
			End
			FXEvent			= Frame:14 Name:FX_GandalfLightningCharge
;			FXEvent			= Frame:70 Name:FX_GandalfLightningFizzle
			FXEvent			= Frame:14 Name:FX_GandalfLightningSword  FrameStop:70
		End
	
		AnimationState        =  PACKING_TYPE_1 PREPARING
			StateName = Attacking
			Animation = LightningSwordLoop
				AnimationName           = GUGandalfG_SKL.GUGandalfG_SPE2
				AnimationMode       = LOOP
			End
		End

		AnimationState        =  PACKING_TYPE_1 PACKING
			StateName = Attacking
			Animation = LightningSwordPutAway
				AnimationName           = GUGandalfG_SKL.GUGandalfG_SPE1
				AnimationMode       = ONCE
			End
		End

		;;; ISTARI LIGHT STAFF WEAPON MOUNTED ;;;
		AnimationState        =  MOUNTED SPECIAL_WEAPON_THREE ; FIRING_OR_PREATTACK_C
			StateName = Attacking
			Animation = StaffLaser
				AnimationName           = GUGdfHrs_SKL.GUGdfHrs_SPLG
				AnimationMode       = ONCE
			End
			FXEvent			= Frame:30 Name:FX_GandalfStaffFlare
		End

		;;; ISTARI LIGHT STAFF WEAPON ON FOOT ;;;
		AnimationState        =  SPECIAL_WEAPON_THREE ; FIRING_OR_PREATTACK_C
			StateName = Attacking
			Animation = StaffLaser
				AnimationName           = GUGandalfG_SKL.GUGandalfG_SPCH ; isitari's light?
				AnimationMode       = ONCE
			End
			FXEvent			= Frame:30 Name:FX_GandalfStaffFlare
		End
		
		;;; Summoning Shadow Fax ;;;
		AnimationState        =  UNPACKING
			StateName = Attacking
			Animation
				AnimationName		= GUGdfHrs_SKL.GUGdfHrs_SPCJ
				AnimationMode       = ONCE
			End
		End
		
		;;; Moving Standard Attack Anims ;;;
		AnimationState				=	MOUNTED FIRING_OR_PREATTACK_A MOVING
			Animation				=	MountedRunAndFire
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_ATRA
				AnimationMode		=	LOOP
				Distance			=	60
			End
		End
		
		AnimationState				=	MOUNTED BETWEEN_FIRING_SHOTS_A MOVING
			Animation				=	TrotBetweenShotsMoving
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_WLKA
				AnimationMode		=	LOOP
				Distance			=	30
			End
		End
		
		;;; Standard Attack Anims ;;;
		AnimationState				=	MOUNTED FIRING_OR_PREATTACK_A
			Animation				=	MountedSlash
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_ATKA
				AnimationMode		=	ONCE
				UseWeaponTiming		= Yes
			End
			Animation				=	MountedStab
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_ATKB
				AnimationMode		=	ONCE
				UseWeaponTiming		= Yes
			End
		End
		
		
		
		
		AnimationState        = MOVING FIRING_OR_PREATTACK_A
			ShareAnimation		= Yes
			Animation           = RunAndFire
				AnimationName       = GUGandalfG_SKL.GUGandalfG_ATRA
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART  
		End
		

		AnimationState        =  FIRING_OR_PREATTACK_A
			Animation = StaffSwing
				AnimationName           = GUGandalfG_SKL.GUGandalfG_ATKA
				AnimationMode       = ONCE
				UseWeaponTiming		= Yes
			End
			Animation = SwordSwing
			  AnimationName           = GUGandalfG_SKL.GUGandalfG_ATKB	
			  AnimationMode       = ONCE
			  UseWeaponTiming		= Yes
			End
			Animation = SpinningSwordStaff
			  AnimationName           = GUGandalfG_SKL.GUGandalfG_ATKC	
			  AnimationMode       = ONCE
			  UseWeaponTiming		= Yes
			End			
		End


		;;; Moving Anims ;;;
		
		AnimationState				=	MOUNTED TURN_RIGHT_HIGH_SPEED
			Animation				=	TurnRight
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_TNR1
				AnimationMode		=	LOOP
			End
;			;ParticleSysBone			=	None CalvaryDustTrails
		End
		
		AnimationState				=	MOUNTED TURN_LEFT_HIGH_SPEED 
			Animation				=	TurnRight
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_TNL1
				AnimationMode		=	LOOP
			End
;			;ParticleSysBone			=	None CalvaryDustTrails
		End
		
		AnimationState				=	MOUNTED TURN_LEFT 
			Animation				=	TurnLeft
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_TRNL
				AnimationMode		=	LOOP
			End
;			;ParticleSysBone			=	None CalvaryDustTrails
		End

		AnimationState				=	MOUNTED TURN_RIGHT 
			Animation				=	TurnRight
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_TRNR
				AnimationMode		=	LOOP
			End
;			;ParticleSysBone			=	None CalvaryDustTrails
		End

		AnimationState				=	MOUNTED MOVING ACCELERATE
			Animation				=	Accelerate
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_ACCL
				AnimationMode		=	LOOP
			End
			;ParticleSysBone			=	None CalvaryDustTrails
		End

		AnimationState				=	MOUNTED MOVING DECELERATE
			Animation				=	Decelerate
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_DECL
				AnimationMode		=	ONCE
			End
			;ParticleSysBone			=	None CalvaryDustTrails
		End

		AnimationState				=	MOUNTED MOVING WALKING
			Animation				=	Walk
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_WLKA
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
			;ParticleSysBone			=	None InfantryDustTrails  
		End
		
		AnimationState				=	MOUNTED MOVING BACKING_UP
			Animation				=	BackingUp
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_BAKA
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
			;ParticleSysBone			=	None InfantryDustTrails  
		End


		AnimationState				=	MOUNTED MOVING
			Animation				=	RunA
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_RUNA
				AnimationMode		=	LOOP
			End
 			Flags					=	RANDOMSTART
			;ParticleSysBone			=	None CalvaryDustTrails  
		End
		
		
		
		AnimationState        = MOVING WANDER
			Animation = Wandering
				AnimationName           = GUGandalfG_SKL.GUGandalfG_WLKA ;32
				AnimationMode       = LOOP
			End
		End
	
		AnimationState        = MOVING
			Animation = Moving
				AnimationName           = GUGandalfG_SKL.GUGandalfG_RUNB ;20
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART
		End
		
		
		AnimationState        = MOUNTED LEVELED	USER_1; This state clears itself in 3 of your Earth seconds
			Animation = Yippee
				AnimationName           = GUGdfHrs_SKL.GUGdfHrs_LVLA
				AnimationMode       = ONCE
			End
			BeginScript
				CurDrawableShowSubObject("STAFF_LIGHT")			
			EndScript						
		End

		AnimationState        = MOUNTED LEVELED	; This state clears itself in 3 of your Earth seconds
			Animation = Yippee
				AnimationName           = GUGdfHrs_SKL.GUGdfHrs_LVLA
				AnimationMode       = ONCE
			End
		End
		
		; READY IDLE
		AnimationState        = EMOTION_ALERT
			Animation           = ALERT_1
				AnimationName     = GUGandalfG_SKL.GUGandalfG_IDLA
				AnimationMode     = ONCE
			End
			Flags               = RESTART_ANIM_WHEN_COMPLETE ; acts like an idle animation & keeps running the animations.
		End

		AnimationState        = LEVELED	USER_1; This state clears itself in 3 of your Earth seconds
			Animation = Yippee
				AnimationName           = GUGandalfG_SKL.GUGandalfG_LVLA
				AnimationMode       = ONCE
			End
			BeginScript
				CurDrawableShowSubObject("STAFF_LIGHT")			
			EndScript						
		End

		AnimationState        = LEVELED	; This state clears itself in 3 of your Earth seconds
			Animation = Yippee
				AnimationName           = GUGandalfG_SKL.GUGandalfG_LVLA
				AnimationMode       = ONCE
			End
		End
		
		AnimationState				=	MOUNTED SELECTED USER_1
			SimilarRestart			=   Yes			
			StateName				=	AtAttentionIdle
			Animation				=	ATNB
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_ATNB
				AnimationMode		=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
				if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
			EndScript
		End

		AnimationState				=	MOUNTED SELECTED
			SimilarRestart			=   Yes			
			StateName				=	AtAttentionIdle
			Animation				=	ATNB
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_ATNB
				AnimationMode		=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
				if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_MountedSelect") end
				CurDrawableHideSubObject("STAFF_LIGHT")							
			EndScript
		End

		TransitionState				=	TRANS_MountedSelect
			Animation				=	ATNA
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_ATNA
				AnimationMode		=	ONCE
			End
		End
		
		TransitionState					=	TRANS_Idle_to_Selected
			Animation					=	ATNA
				AnimationName			=	GUGandalfG_SKL.GUGandalfG_ATNA
				AnimationMode			=	ONCE
			End
		End
		
		TransitionState					=	TRANS_Selected_To_Idle
			Animation					=	ATNE ;ATNC
				AnimationName			=	GUGandalfG_SKL.GUGandalfG_ATNE ;C
				AnimationMode			=	ONCE
			End
		End

		AnimationState				=	SELECTED USER_1
			StateName				=	Selected
			SimilarRestart			=   Yes			
			Animation				=	ATNB			
				AnimationName		=	GUGandalfG_SKL.GUGandalfG_ATNB
				AnimationMode		=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
			EndScript
		End

		AnimationState				=	SELECTED
			StateName				=	Selected
			SimilarRestart			=   Yes			
			Animation				=	ATNB			
				AnimationName		=	GUGandalfG_SKL.GUGandalfG_ATNB
				AnimationMode		=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
				CurDrawableHideSubObject("STAFF_LIGHT")			
			EndScript
		End
		
		AnimationState = MOUNTED HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = GUGdfHrs_SKL.GUGdfHrs_HITA
				AnimationMode = ONCE
			End
		End

		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = GUGandalfG_SKL.GUGandalfG_HITA
				AnimationMode = ONCE
			End
		End
		
		AnimationState = MOUNTED
			StateName = Idle
			Animation	=	IdleA
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_IDLA
				AnimationPriority	=	30
				AnimationMode		=	ONCE
				AnimationBlendTime	=	15
			End
			Animation				=	IdleC
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_IDLC
				AnimationMode		=	ONCE
				AnimationBlendTime	=	15
			End
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
		End
		
		AnimationState        =  USER_1
			StateName = user_1_idle
			Animation = Foot_IDLB ; Bored Idle
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLB
				AnimationMode       = ONCE
				AnimationPriority   = 2
			End
			Animation = Foot_IDLC ; Bored Fidget
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLC
				AnimationMode       = ONCE
				AnimationPriority   = 2
			End
			Animation = Foot_IDLD ; Bored Fidget
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLD
				AnimationMode       = ONCE
				AnimationPriority   = 1
			End
			Animation = Foot_IDLE ; Bored Fidget
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLE
				AnimationMode       = ONCE
				AnimationPriority   = 2
			End
			Animation = Foot_IDLF ; Bored Fidget
				AnimationName       = GUGandalfG_SKL.GUGandalfF_IDLF
				AnimationMode       = ONCE
				AnimationPriority   = 1
			End
			
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
				CurDrawableShowSubObject("STAFF_LIGHT")			
			EndScript			
		End

	End
	End
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    GandalfSword
	End

	WeaponSet
		Conditions		= WEAPONSET_HERO_MODE
		Weapon			= PRIMARY    GandalfHeroSword
	End

	ArmorSet
		Conditions      = None
		Armor           = GandalfArmor
		DamageFX        = NormalDamageFX
	End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Ring of light
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
      AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_AragornBladeMasterEnabler
		SpecialPowerTemplate = SpecialAbilityAragornBladeMaster
		TriggeredBy = Upgrade_AragornBladeMaster
	End
      End
      AddModule
  	Behavior = SpecialPowerModule ModuleTag_AragornBladeMasterStarter
		SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
		StartsPaused			= Yes
            TriggerFX                  = FX_HolyGround
	End
      End
      AddModule
	Behavior = HeroModeSpecialAbilityUpdate ModuleTag_AragornBladeMasterUpdate
		SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
		HeroAttributeModifier	= HolyRing
		HeroEffectDuration		= 30000
		UnpackTime              = 1
	End
      End


;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;when he dies it makes this wave.
  AddModule
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_DIELIKETHIS
    StartsActive = Yes
    DeathWeapon = GandalfWordOfPower
  End
  End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
End ; ends oject gandalf

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<ARAGORN>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; <ARAGORNS's FX>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; this is the black haze over aragorn when he uses his new blade master.
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem WhiteHaze2
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = EXCloud01.tga
    Lifetime = 300 300
    Size = 150 150
    BurstCount = 1 1
  End
  Color = DefaultColor
    Color1 = R:255 G:255 B:255 0
    Color2 = R:232 G:232 B:232 300
  End
  Alpha = DefaultAlpha
    Alpha2 = 0.2 0.2 15
    Alpha3 = 0 0 200
  End
  Update = DefaultUpdate
    SizeRateDamping = 1.01 1.01
    AngleZ = 1 -1
    AngularRateZ = -0.01 0.01
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
    DriftVelocity = X:0.0 Y:0.0 Z:-0.24
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = CylinderEmissionVolume
    Radius = 300
    Length = 20
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;This is blue that is beside aragorn when he uses his new blade master, its right beside within that normal red glow
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem AragornLightingSword
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXFire01.tga
    Lifetime = 25 25
    Size = 20 20
    BurstCount = 2 2
  End
  Color = DefaultColor
    Color1 = R:36 G:73 B:120 0
    Color2 = R:0 G:0 B:0 15
  End
  Alpha = DefaultAlpha
    Alpha1 = 1 1 0
  End
  Update = DefaultUpdate
    SizeRate = -1 -1
    SizeRateDamping = 1 1
    AngleZ = -3 3
    AngularRateZ = -0.1 -0.1
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.7 0.7
  End
  EmissionVelocity = OrthoEmissionVelocity
    X = -5 5
    Y = -5 5
  End
  EmissionVolume = LineEmissionVolume
  End
  Draw = DefaultDraw
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Aragorn sword Fire
FXParticleSystem AragornSwordFire
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXFire01.tga ;EXLnzFlar2.tga
    Lifetime = 5 5
    SortLevel = 1
    Size = 5 10
    BurstCount = 4 6
    InitialDelay = 5 5
    IsParticleUpTowardsEmitter = Yes
  End
  Color = DefaultColor
    Color2 = R:36 G:73 B:120 5
    Color3 = R:40 G:106 B:185 20
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.25
    SizeRateDamping = 1 1
    AngleZ = -7 7
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    EndPoint = X:0 Y:0 Z:15
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem aodwave ; the first shockwave
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXRing01.tga
    Lifetime = 120 80
    SystemLifetime = 5
    Size = 1 1
    BurstCount = 1 1
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:204 G:255 B:204 0
    Color2 = R:0 G:0 B:0 40
    ColorScale = -5 0
  End
  Update = DefaultUpdate
    SizeRate = 10 18
    SizeRateDamping = 1 1
    AngleZ = -1 1
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.8 0.8
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = PointEmissionVolume
    IsHollow = Yes
  End
  Draw = DefaultDraw
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXParticleSystem AODLightLenzflareLarge1 ; the big flash that happens right after the shockwave
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXLnzFlar2.tga
    Lifetime = 150 150
    SystemLifetime = 30
    SortLevel = 1
    BurstDelay = 10 10
    BurstCount = 1 1
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:204 G:255 B:204 0
    Color2 = R:0 G:0 B:0 130
  End
  Update = DefaultUpdate
    SizeRate = 30 30
    SizeRateDamping = 0.97 0.97
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    IsHollow  = Yes
    StartPoint = X:0 Y:0 Z:2
    EndPoint = X:0 Y:0 Z:2
  End
  Draw = DefaultDraw
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXParticleSystem AODLightShaftsLarge1 ; the light beem that apear in the big flash.
  System
    Priority = ALWAYS_RENDER
    Shader = W3D_EMISSIVE
    Type = DRAWABLE
    ParticleName = exlight01.w3d
    Lifetime = 90 90
    SystemLifetime = 30
    SortLevel = 1
    Size = 0.1 0.1
    BurstCount = 4 4
  End
  Color = DefaultColor
    Color1 = R:179 G:255 B:179 0
  End
  Alpha = DefaultAlpha
    Alpha2 = 0.2 0.2 10
    Alpha3 = 0 0 90
  End
  Update = DefaultUpdate
    SizeRate = 0.02 0.02
    SizeRateDamping = 0.99 0.99
    AngleZ = -500 500
    AngularDamping = 1 1
    Rotation = ROTATE_Z
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = CylinderEmissionVolume
    Radius = 180
  End
  Draw = RenderObjectDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;DeadKnife
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; knife FX particles
FXParticleSystem GimliThrownAxeTrail1
  System
    Priority = ALWAYS_RENDER
    Type = STREAK
    ParticleName = EXContrail.tga
    Lifetime = 12 12
    SortLevel = 1
    Size = 0.75 0.75
    BurstCount = 1 1
    InitialDelay = 3 3
  End
  Color = DefaultColor
    Color1 = R:204 G:255 B:204 0
    Color2 = R:0 G:0 B:0 10
    Color4 = R:32 G:32 B:32 0
  End
  Update = DefaultUpdate
    SizeRate = -0.1 -0.1
    SizeRateDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.93 0.94
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:7 Y:0 Z:0
    EndPoint = X:8 Y:0 Z:0
  End
  Draw = StreakDraw
  End
End

FXParticleSystem AODLight1
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXLnzFlar2.tga
    Lifetime = 40 40
    SystemLifetime = 5
    SortLevel = 1
    BurstDelay = 1 1
    BurstCount = 1 1
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:204 G:255 B:204 0
    Color2 = R:0 G:0 B:0 130
  End
  Update = DefaultUpdate
    SizeRate = 12 22
    SizeRateDamping = 0.97 0.97
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    IsHollow = Yes
    StartPoint = X:0 Y:0 Z:8
    EndPoint = X:0 Y:0 Z:1
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXList FX_AraAxeHit
  ParticleSystem
    Name = AODLight1
  End
  ParticleSystem
    Name = GandalfLightningHitDistortion
  End
  Sound
    Name = ArmyDeadKill
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;FX lists
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXList FX_aodwave
  ParticleSystem
    Name = AODLightLenzflareLarge1
    Offset = X:0.0 Y:0.0 Z:20.0
  End
  ParticleSystem
    Name = AODLightShaftsLarge1
    InitialDelay = 3000 3000 UNIFORM   ;In milliseconds
    Offset = X:0.0 Y:0.0 Z:0.0
  End
  ParticleSystem
    Name = aodwave
    InitialDelay = 700 700 UNIFORM   ;In milliseconds
    Offset = X:0.0 Y:0.0 Z:20.0
  End
  Sound
    Name = ArmyDeadExitStereo
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXList FX_GandalfLightningCharge1
  ParticleSystem
    Name = LightningStrike3 FollowBone:Yes
    OrientToObject = Yes
    CreateBoneOverride = B_SWORDBONE
    TargetBoneOverride = B_SWORDBONE
    UseTargetOffset = Yes
    TargetOffset = X:0.0 Y:0.0 Z:300
  End
  ParticleSystem
    Name = LightningStrike2 FollowBone:Yes
    OrientToObject = Yes
    CreateBoneOverride = B_SWORDBONE
    TargetBoneOverride = B_SWORDBONE
    UseTargetOffset = Yes
    TargetOffset = X:50.0 Y:50.0 Z:300
    InitialDelay = 300 300 UNIFORM   ;In milliseconds
  End
  ParticleSystem
    Name = LightningStrike FollowBone:Yes
    OrientToObject = Yes
    CreateBoneOverride = B_SWORDBONE
    TargetBoneOverride = B_SWORDBONE
    UseTargetOffset = Yes
    TargetOffset = X:-30.0 Y:-30.0 Z:20
    InitialDelay = 600 600 UNIFORM   ;In milliseconds
  End
  ParticleSystem
    Name = LightningStrike3 FollowBone:Yes
    OrientToObject = Yes
    CreateBoneOverride = B_SWORDBONE
    TargetBoneOverride = B_SWORDBONE
    UseTargetOffset = Yes
    TargetOffset = X:30.0 Y:-10.0 Z:20
    InitialDelay = 800 800 UNIFORM   ;In milliseconds
  End
  ParticleSystem
    Name = LightningStrike2 FollowBone:Yes
    OrientToObject = Yes
    CreateBoneOverride = B_SWORDBONE
    TargetBoneOverride = B_SWORDBONE
    UseTargetOffset = Yes
    TargetOffset = X:-30.0 Y:-10.0 Z:20
    InitialDelay = 2400 2400 UNIFORM   ;In milliseconds
  End
  ParticleSystem
    Name = LightningStrike FollowBone:Yes
    OrientToObject = Yes
    CreateBoneOverride = B_SWORDBONE
    TargetBoneOverride = B_SWORDBONE
    UseTargetOffset = Yes
    TargetOffset = X:30.0 Y:30.0 Z:20
    InitialDelay = 3000 3000 UNIFORM   ;In milliseconds
  End
  ParticleSystem
    Name = LightningStrike3 FollowBone:Yes
    OrientToObject = Yes
    CreateBoneOverride = B_SWORDBONE
    TargetBoneOverride = B_SWORDBONE
    UseTargetOffset = Yes
    TargetOffset = X:30 Y:-5.0 Z:20
    InitialDelay = 3800 3800 UNIFORM   ;In milliseconds
  End
  ParticleSystem
    Name = LightningStrike2 FollowBone:Yes
    OrientToObject = Yes
    CreateBoneOverride = B_SWORDBONE
    TargetBoneOverride = B_SWORDBONE
    UseTargetOffset = Yes
    TargetOffset = X:-35.0 Y:-5.0 Z:25
    InitialDelay = 4400 4400 UNIFORM   ;In milliseconds
  End
  ParticleSystem
    Name = LightningStrike FollowBone:Yes
    OrientToObject = Yes
    CreateBoneOverride = B_SWORDBONE
    TargetBoneOverride = B_SWORDBONE
    UseTargetOffset = Yes
    TargetOffset = X:30.0 Y:-5.0 Z:12
    InitialDelay = 5000 5000 UNIFORM   ;In milliseconds
  End
  ParticleSystem
    Name = LightningStrike3 FollowBone:Yes
    OrientToObject = Yes
    CreateBoneOverride = B_SWORDBONE
    TargetBoneOverride = B_SWORDBONE
    UseTargetOffset = Yes
    TargetOffset = X:0.0 Y:50.0 Z:18
    InitialDelay = 5600 5600 UNIFORM   ;In milliseconds
  End
  ParticleSystem
    Name = LightningStrike2 FollowBone:Yes
    OrientToObject = Yes
    CreateBoneOverride = B_SWORDBONE
    TargetBoneOverride = B_SWORDBONE
    UseTargetOffset = Yes
    TargetOffset = X:60.0 Y:-20.0 Z:23
    InitialDelay = 6200 6200 UNIFORM   ;In milliseconds
  End
  ParticleSystem
    Name = LightningStrike2 FollowBone:Yes
    OrientToObject = Yes
    CreateBoneOverride = B_SWORDBONE
    TargetBoneOverride = B_SWORDBONE
    UseTargetOffset = Yes
    TargetOffset = X:-10.0 Y:20.0 Z:40
    InitialDelay = 6800 6800 UNIFORM   ;In milliseconds
  End
  ParticleSystem
    Name = LightningStrike FollowBone:Yes
    OrientToObject = Yes
    CreateBoneOverride = B_SWORDBONE
    TargetBoneOverride = B_SWORDBONE
    UseTargetOffset = Yes
    TargetOffset = X:0.0 Y:0.0 Z:300
    InitialDelay = 7400 7400 UNIFORM   ;In milliseconds
  End
  ParticleSystem
    Name = LightningStrike3 FollowBone:Yes
    OrientToObject = Yes
    CreateBoneOverride = B_SWORDBONE
    TargetBoneOverride = B_SWORDBONE
    UseTargetOffset = Yes
    TargetOffset = X:0.0 Y:30.0 Z:5
    InitialDelay = 8000 8000 UNIFORM   ;In milliseconds
  End
  ParticleSystem
    Name = LightningStrike2 FollowBone:Yes
    OrientToObject = Yes
    CreateBoneOverride = B_SWORDBONE
    TargetBoneOverride = B_SWORDBONE
    UseTargetOffset = Yes
    TargetOffset = X:50.0 Y:-50.0 Z:300
    InitialDelay = 8600 8600 UNIFORM   ;In milliseconds
  End
  Sound 
    Name = ThunderStrikesStereo
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
SpecialPower SpecialAbilityaodwave
	Enum			= SPECIAL_WORD_OF_POWER
	ReloadTime		= 300000
	PublicTimer		= No
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
SpecialPower SpecialAbilityAragornBladeMaster
	Enum			= SPECIAL_HERO_MODE
	ReloadTime		= 200000
	PublicTimer		= No
End

SpecialPower SpecialAbilityAragornAthelas
	Enum			= SPECIAL_ATHELAS
	ReloadTime		= 20000
	PublicTimer		= No
	RadiusCursorRadius = 150.0
	InitiateAtLocationSound	= AragornAthelesEffect
End

SpecialPower SpecialAbilityAragornElendil
	Enum			= SPECIAL_GENERAL_TARGETLESS
	ReloadTime		= 40000
	PublicTimer		= No
	InitiateSound	= AragornElendilEffect			;GenericSpell
End

SpecialPower SpecialAbilityAraAxeWind ; Aragorns Dead Knife Throw
  Enum              = SPECIAL_WOUND_ARROW
  ReloadTime        = 60000; turn this back to 45 when ur done testing. ; 30000, Think, it has 900 attack, mamikill trolls big beasts dont stand a living hell agiast him
  PublicTimer       = No
;  RadiusCursorRadius = 80.0
  InitiateAtLocationSound = GenericSpell
;  ViewObjectDuration = 5000
;  ViewObjectRange = 120
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Weapon aodwavePower
	IdleAfterFiringDelay = 0
	AttackRange = GANDALF_WORD_OF_POWER_RANGE
	MinimumAttackRange = 0.8
	WeaponSpeed = 401
	MinWeaponSpeed = 241
	MaxWeaponSpeed = 601
	ScaleWeaponSpeed = Yes
	FireSound	= ArmyDeadKill
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000
	PreAttackDelay        = 19600
	PreAttackType         = PER_ATTACK
	FireFX                = FX_aodwave
	FiringDuration      = 1400
      ClearNuggets
	DamageNugget
		DamageScalar  = 80% NONE +HERO
		Damage			= GANDALF_WORD_OF_POWER_DAMAGE
		Radius			= 180.0
		DamageType		= MAGIC
		DamageFXType	= FLAME                                       ; SUPERNATURAL meh wont work lol
		DeathType		= EXPLODED
		DamageSpeed		= 300.0
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.75
		ShockWaveAmount   = 60.0
		ShockWaveArc	  = 200
		ShockWaveRadius   = 160.0
		ShockWaveTaperOff = 1.00
		ShockWaveSpeed	= 300.0
		ShockWaveZMult    = 1.0
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.75
		ShockWaveAmount   = 40.0
		ShockWaveArc	  = 200
		ShockWaveRadius   = 220.0
		ShockWaveTaperOff = 0.7
		ShockWaveSpeed	= 300.0
		ShockWaveZMult    = 1.0
	End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Weapon GondorAragornSword
  LeechRangeWeapon      = Yes
  AttackRange           = 10.0
  RadiusDamageAffects   = ENEMIES NOT_SIMILAR
  MeleeWeapon           = Yes
  FireFX                = FX_GandalfSwordHit
  DelayBetweenShots     = 800 			; time between shots, msec
  PreAttackDelay        = 750 	; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = 800 	; Duration of the sword swing
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 150
		DamageArc 		= 280
		Radius			= 25.0
		DamageType		= HERO
		DamageFXType	= ELECTRIC
		DeathType		= BURNED ;EXPLODED
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.75
		ShockWaveAmount   = 40.0
		ShockWaveArc	  = 200
		ShockWaveRadius   = 25.0
		ShockWaveTaperOff = 1.25
		ShockWaveZMult    = 1.0
	End
End

Weapon GondorAragornHeroSword
  LeechRangeWeapon      = Yes
  AttackRange           = 10.0
  FireSound	= GandalfLightningLoop
  FireSoundLoopTime 	= 200
  RadiusDamageAffects   = ENEMIES NOT_SIMILAR
  MeleeWeapon           = Yes
  FireFX                = FX_GandalfLightningCharge1
  DelayBetweenShots     = 400			; time between shots, msec
  PreAttackDelay        = 700 	; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = 700 	; Duration of the sword swing
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 150
		DamageArc 		= 850
		Radius			= 50.0
		DamageType		= MAGIC
		DamageFXType	= ELECTRIC
		DeathType		= BURNED ;EXPLODED
	End
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 150
		DamageArc 		= 850
		Radius			= 50.0
		DamageType    = FLAME
		DamageFXType  = FIRE3 ;FLAME
		DeathType     = BURNED
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.75
		ShockWaveAmount   = 30.0
		ShockWaveArc	  = 200
		ShockWaveRadius   = 15.0
		ShockWaveTaperOff = 1.25
		ShockWaveZMult    = 0.9
	End

End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Theres No Gondor Aragorn Experience levels in the main INI file, i must use upgrade he already has and gets.
;
ExperienceLevel	AragornLevelMP4
	TargetNames						=	ARAGORN
	RequiredExperience				=	ARAGORN_LVL4_EXP_NEEDED 
	ExperienceAward					=	ARAGORN_LVL4_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage3
	Rank							=	4
	Upgrades						=	Upgrade_GandalfLightningSword
	LevelUpFx						=	FX:GandalfLevelUp1FX
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END

ExperienceLevel	AragornLevelMP9
	TargetNames						=	ARAGORN	
	RequiredExperience					=	ARAGORN_LVL9_EXP_NEEDED
	ExperienceAward						=	ARAGORN_LVL9_EXP_AWARD 
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Rank							=	9
	AttributeModifiers					=	HeroLevelUpDamage8
	Upgrades						=	Upgrade_GandalfWordOfPower
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits				=	40
	End	
End	
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

CommandButton Command_LegolasKnifeFightingMode
  Command                 = SPECIAL_POWER
  WeaponSlot              = SECONDARY
  SpecialPower            = SpecialAbilityAraAxeWind
  Options                 = NEED_TARGET_ENEMY_OBJECT
  Upgrade			  = None
  TextLabel               = CONTROLBAR:Araknife
  ButtonImage             = HSGimliDwarvenGrudge
  CursorName              = Bombard
  InvalidCursorName       = GenericInvalid
  RadiusCursorType        = NONE
  ButtonBorderType        = ACTION
  DescriptLabel           = CONTROLBAR:ToolTipAraknife
  InPalantir			  = Yes
  AutoAbility			  = Yes
End

CommandButton Command_SpecialAbilityWordOfPower
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityaodwave
  Options                 = NONE
  TextLabel               = CONTROLBAR:aodwave
  ButtonImage             = Gandolf_radcircle;HSGandalfWordOfPower
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipaodwave
  AutoAbility			  = Yes
  PresetRange			  = 120.0
  InPalantir			  = Yes
;  UnitSpecificSound = AragornVoiceSummonOathbreakers
End

CommandButton Command_SpecialAbilityElendil
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityAragornElendil
;  Options                 = 
  TextLabel               = CONTROLBAR:Elendil1
  ButtonImage             = HSAragornElendil
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipElendil1
 ; UnitSpecificSound       = AragornVoiceElendil
  InPalantir			  = Yes
  AutoAbility			  = Yes
  PresetRange			  = 60.0  
End

CommandButton Command_SpecialAbilityAthelas
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityAragornAthelas
  TextLabel               = CONTROLBAR:Athelas1
  ButtonImage             = HSAragornAthelas
  CursorName              = Bombard
  RadiusCursorType        = AthelasRadiusCursor
  InvalidCursorName       = GenericInvalid
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipAthelas1
  InPalantir			  = Yes
  AutoAbility			  = Yes
  PresetRange			  = 100.0
  NeedDamagedTarget		  = Yes
 ; UnitSpecificSound       = AragornVoiceAthelas
End

CommandButton Command_SpecialAbilityBladeMaster
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityAragornBladeMaster
  TextLabel               = CONTROLBAR:LightingSword
  ButtonImage             = HSAragornBladeMaster
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipLightingSword
  InPalantir			  = Yes
  AutoAbility			  = Yes
  AutoDelay				  = 30.0 ; this should sync with the Aragorn's hero mode effect time
  PresetRange			  = 50.0
  UnitSpecificSound       = AragornVoiceBladeMaster
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

CommandSet NewGondorAragornCommandSet
  1 = Command_SpecialAbilityAthelas
  2 = Command_SpecialAbilityElendil
  3 = Command_SpecialAbilityBladeMaster
  4 = Command_LegolasKnifeFightingMode
  5 = Command_SpecialAbilityWordOfPower
  6 = Command_SpawnOathbreakers
	13 = Command_AttackMove
	14 = Command_Stop
        	15 = Command_ToggleStance
End

Object GondorAragorn
 CommandSet = NewGondorAragornCommandSet
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;New Aragorn Army of the dead knife, took out fire ball and replaced with this.
;Hope to god that this doesnt make it go out of snych.!
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;I leave the dead knife weapons here because i like to keep em all together.
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Weapon FaramirWoundArrow1Warhead
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects = ENEMIES NOT_SIMILAR
  HitStoredTarget = Yes	; Always hits initial target.
  FireSound	= ArmyDeadKill
  FireFX				= FX_AraAxeHit
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 4000
    DamageScalar  = 150% NONE +STRUCTURE +MordorCatapult +IsengardBallista +GondorTrebuchet +GondorTrebuchetWall 
    DamageScalar  = 500% NONE +MordorFellBeast +MordorWitchKingOnFellBeast +GondorGwaihir
    DamageScalar  = 350% NONE +MordorMountainTroll +MordorCaveTroll +MordorDrummerTroll
    Radius        = 50.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = MAGIC
    DamageFXType  = SWORD_SLASH
    DeathType     = NORMAL
    DamageSpeed		= 300.0
  End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.75
		ShockWaveAmount   = 40.0
		ShockWaveArc	  = 200
		ShockWaveRadius   = 25.0
		ShockWaveTaperOff = 1.25
		ShockWaveZMult    = 1.4
		ShockWaveSpeed	= 300.0
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.75
		ShockWaveAmount   = 50.0
		ShockWaveArc	  = 200
		ShockWaveRadius   = 50.0
		ShockWaveTaperOff = 1.25
		ShockWaveZMult    = 0.8
		ShockWaveSpeed	= 300.0
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.75
		ShockWaveAmount   = 30.0
		ShockWaveArc	  = 200
		ShockWaveRadius   = 120.0
		ShockWaveTaperOff = 1.25
		ShockWaveZMult    = 0.5
		ShockWaveSpeed	= 300.0
	End
End
;-----------------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
;;;;; Un unesed but i leave it here just in case of somthing.
;
Weapon FaramirWoundArrow1
	AttackRange				= FARAMIR_WOUNDING_ARROW_RANGE
	LeechRangeWeapon			= Yes
	WeaponSpeed				= 321				 ; dist/sec 
	MinWeaponSpeed			= 311
	MaxWeaponSpeed			= 381			; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_AraAxeHit
	ScaleWeaponSpeed			= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage			= 100		 ;When this weapon is used it will hit exactly 75% of the time.
	ScatterRadius			= 0.0		 ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots			= 15000									; time between shots, msec
	PreAttackDelay			= 1										; we want isntant
	PreAttackType			= PER_POSITION
	FiringDuration			= 1										; Duration of the archer firing shot is 500ms.
	ClipSize				= 1
	AutoReloadsClip			= Yes
	AutoReloadWhenIdle		= 1	
	ClipReloadTime			= Min:FARAMIR_BOW_RELOADTIME_MIN Max:FARAMIR_BOW_RELOADTIME_MAX
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	PreferredTargetBone		= B_LLLID ; Likes to shoot things in their left eye.
	ProjectileNugget										; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= FaramirSpecialArrow
		WarheadTemplateName	= FaramirWoundArrowWarhead
	End
End

;-------------------------------------------------^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Object FaramirSpecialArrow
	; *** ART Parameters ***
	ReplaceModule ModuleTag_Draw
	Draw = W3DScriptedModelDraw ModuleTag_Draw1
		DefaultModelConditionState		 
			Model = RULegolas_AROW
			ParticleSysBone NONE GimliThrownAxeTrail1
		End
	End
	End
  AddModule
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_DIELIKETHIS1
    StartsActive = Yes
    DeathWeapon = FaramirWoundArrow1Warhead
  End
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

ModifierList AragornElendilAntiCategory	// Just used for the duration field.
	Duration = 30000					// matches SetModelConditionTime in special power module.
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Object GondorAragorn

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Basics
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

	DisplayMeleeDamage = 150

	ReplaceModule ModuleTag_AragornHealing
	Behavior = AutoHealBehavior ModuleTag_GimliHealing
		StartsActive = Yes
		HealingAmount = 40
		HealingDelay = 1000
		StartHealingDelay = 10000
		HealOnlyIfNotInCombat = Yes
	End
	End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
	ReplaceModule ModuleTag_RespawnBody
	Body = RespawnBody ModuleTag_RespawnBody1
		CheerRadius 			= EMOTION_CHEER_RADIUS
		MaxHealth         		= 3000	;ARAGORN_HEALTH
		PermanentlyKilledByFilter	= NONE		;Who kills me permanently?
   		DodgePercent      		= HERO_DODGE_PERCENT
	End
	End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Improved Elendil
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>


	ReplaceModule ModuleTag_EnableElendil
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_EnableElendil1
	SpecialPowerTemplate		= SpecialAbilityAragornElendil  ;SpecialAbilityCreateAHeroElendil
	TriggeredBy					= Upgrade_AragornElendil  ;Upgrade_CreateAHeroElendil
	End
	End
	
	ReplaceModule ModuleTag_ElendilStarter
	Behavior = SpecialPowerModule ModuleTag_ElendilStarter1						
	SpecialPowerTemplate	 = SpecialAbilityAragornElendil  ;SpecialAbilityCreateAHeroElendil
	UpdateModuleStartsAttack = Yes
	AntiCategory			 = LEADERSHIP
	AttributeModifier		 = AragornElendilAntiCategory  ;CreateAHeroElendilAntiCategory	// Used	for	the	anti category duration only.
	AttributeModifierRange	 = 1000.0
	StartsPaused			 = Yes								// obtained	on level 2
	SetModelCondition		 = ModelConditionState:USER_3
	SetModelConditionTime	 = 10.0	// 10 secs of glow anim for sword
	End
	End

	ReplaceModule ModuleTag_ElendilUpdate
	Behavior = ModelConditionSpecialAbilityUpdate ModuleTag_ElendilUpdate1   
	SpecialPowerTemplate    = SpecialAbilityAragornElendil  ;SpecialAbilityCreateAHeroElendil
	UnpackTime              = 500							// Drawing the horn
	PreparationTime         = 1								// nothing
	PersistentPrepTime      = 500							// Blowing
	PackTime                = 2000							// Putting horn away
	AwardXPForTriggering    = 0
	GenerateTerror			= Yes
	EmotionPulseRadius		= 1000  ;100
	End
	End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Ring of the Dead, aka aragorns word of power
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
      AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WordEnabler
		SpecialPowerTemplate = SpecialAbilityaodwave
		TriggeredBy = Upgrade_AragornOathbreakers
	End
      End
      AddModule
	Behavior = SpecialPowerModule ModuleTag_WordStarter       
		SpecialPowerTemplate      = SpecialAbilityaodwave
		UpdateModuleStartsAttack  = Yes
		StartsPaused		  	  = Yes
	End
      End
      AddModule
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WordWeaponFireUpdate   
		SpecialPowerTemplate    = SpecialAbilityaodwave
		WhichSpecialWeapon		= 1
		SkipContinue			= Yes
		UnpackTime              = 1400 
		PackTime                = 1		
		FreezeAfterTriggerDuration = 2500
		AwardXPForTriggering    = 0		
		StartAbilityRange		= 80.0
		SpecialWeapon			= aodwavePower
	End
      End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Dead Knife
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

      AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_LightningEnabler ;Knife Throw
		SpecialPowerTemplate = SpecialAbilityAraAxeWind
		TriggeredBy = Upgrade_AragornElendil
	End
      End     
      AddModule
	Behavior = SpecialPowerModule ModuleTag_Lightning11 ;
		SpecialPowerTemplate      = SpecialAbilityAraAxeWind
		UpdateModuleStartsAttack  = Yes
		StartsPaused			= Yes
		InitiateSound			= AragornVoiceAttackCharge
	End
      End
      AddModule
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_Lightning12 ;
		SpecialPowerTemplate    = SpecialAbilityAraAxeWind
		SkipContinue			= Yes
		UnpackTime              = 500 
		PreparationTime         = 1   
		PersistentPrepTime      = 500 
		PackTime                = 1
		
		AwardXPForTriggering    = 0
		StartAbilityRange = 325.0 ; Note: This has to be smaller than the weapon range or it'll never succeed
		
		ApproachRequiresLOS		= Yes
		SpecialWeapon = FaramirWoundArrow
	End
      End 
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Object GondorAragorn
	; *** ART Parameters ***
      	ReplaceModule ModuleTag_DRAW
	Draw = W3DScriptedModelDraw ModuleTag_DRAW1
		OkToChangeModelColor = Yes
	StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

		DefaultModelConditionState
			Model               = GUAragorn_SKN
			ParticleSysBone = B_SWORDBONE AragornSwordFire FollowBone:Yes
		End
		
		ModelConditionState = WEAPONSET_HERO_MODE USER_3
			ParticleSysBone = BAT_RIBS BladeMaster FollowBone:Yes
			ParticleSysBone = BAT_HEAD AragornElendill FollowBone:Yes
			ParticleSysBone = B_SWORDBONE AragornLightingSword FollowBone:Yes
			ParticleSysBone = BAT_RIBS WhiteHaze2 FollowBone:Yes
		End

		ModelConditionState = WEAPONSET_HERO_MODE
			ParticleSysBone = BAT_RIBS BladeMaster FollowBone:Yes
			ParticleSysBone = B_SWORDBONE AragornLightingSword FollowBone:Yes 
			ParticleSysBone = BAT_RIBS WhiteHaze2 FollowBone:Yes
		End

		ModelConditionState = USER_3
			ParticleSysBone = BAT_HEAD AragornElendill FollowBone:Yes
		End

		TransitionState				= TRANS_boredToAttention_Elendil
			Animation				= GUAragorn_ATND
				AnimationName		= GUAragorn_SKL.GUAragorn_ATND 
				AnimationMode		= ONCE
			End
			FXEvent	= Name: FX_ElendilGlowEvent
		End
		
		TransitionState				= TRANS_attentionToBored_Elendil
			Animation				= GUAragorn_ATND
				AnimationName		= GUAragorn_SKL.GUAragorn_ATND
				AnimationMode		= ONCE_BACKWARDS
			End
			FXEvent					= Name: FX_ElendilGlowEvent
			Flags					= START_FRAME_LAST
		End

		TransitionState				= TRANS_boredToAttention
			Animation				= GUAragorn_ATND
				AnimationName		= GUAragorn_SKL.GUAragorn_ATND 
				AnimationMode		= ONCE
			End
		End
		
		TransitionState				= TRANS_attentionToBored
			Animation				= GUAragorn_ATND
				AnimationName		= GUAragorn_SKL.GUAragorn_ATND
				AnimationMode		= ONCE_BACKWARDS
			End
			Flags					= START_FRAME_LAST
		End

	; --- Idle Anims
		IdleAnimationState
			StateName				= STATE_bored
			
			Animation				= GUAragorn_IDLE		;no_fidget
				AnimationName		= GUAragorn_SKL.GUAragorn_IDLE
				AnimationMode		= ONCE
				AnimationPriority	= 12
			End
			
			Animation				= GUAragorn_IDLF		;fidget
				AnimationName		= GUAragorn_SKL.GUAragorn_IDLF
				AnimationMode		= ONCE
				AnimationPriority	= 1
			End
			
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if	Prev == "STATE_attention" or
					Prev == "STATE_running" or
					Prev == "OATH_BREAKERS" then CurDrawableSetTransitionAnimState("TRANS_attentionToBored") end
			EndScript
		End
		
		AnimationState			= THROWN_PROJECTILE
			Animation			= FLYA
				AnimationName	= GUAragorn_SKL.GUAragorn_FLYA
				AnimationMode	= LOOP
			End
		End
		
		AnimationState			= STUNNED_FLAILING
			Animation			= FLYA
				AnimationName	= GUAragorn_SKL.GUAragorn_FLYA
				AnimationMode	= LOOP
			End
		End
		
		AnimationState 			= DYING SPLATTED
			Animation 		= Splatted_On_Ground
				AnimationName	= GUAragorn_SKL.GUAragorn_LNDA
				AnimationMode	= ONCE
			End
			EnteringStateFX		= FX_SoldierHitGround
		End
		
		; --- Dying anims
		AnimationState				= DYING
			Animation				= GUAragorn_DIEA
				AnimationName		= GUAragorn_SKL.GUAragorn_DIEA
				AnimationMode		= ONCE
			End
			Animation				= GUAragorn_DIEB
				AnimationName		= GUAragorn_SKL.GUAragorn_DIEB
				AnimationMode		= ONCE
			End
		End
		
		AnimationState				= STUNNED_STANDING_UP
			Animation				= GUAragorn_GTPB
				AnimationName		= GUAragorn_SKL.GUAragorn_GTPB
				AnimationMode		= ONCE
				AnimationSpeedFactorRange = 1.5 1.5
			End
		End

		AnimationState			= STUNNED
			Animation			= LNDA
				AnimationName	= GUAragorn_SKL.GUAragorn_LNDA
				AnimationMode	= ONCE
			End
			EnteringStateFX		= FX_SoldierHitGround
		End	
	
	

	; --- Attacking Anims [Weapon_A]
	
	
	
		AnimationState        = MOVING FIRING_OR_PREATTACK_A
			ShareAnimation		= Yes
			Animation           = RunAndFire
				AnimationName       = GUAragorn_SKL.GUAragorn_ATRA
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART  
		End
		
		AnimationState				= FIRING_OR_PREATTACK_A WEAPONSET_HERO_MODE ; Blademaster Mode
			StateName				= STATE_ready
			Animation				= ATKF
				AnimationName		= GUAragorn_SKL.GUAragorn_ATKF
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
			End
			Flags					= RESTART_ANIM_WHEN_COMPLETE
			FXEvent	= Frame:25 Name: FX_BladeMasterHitOrient
			FXEvent	= Frame:45 Name: FX_BladeMasterHitOrient
		End

		AnimationState				= FIRING_OR_PREATTACK_A
			StateName				= STATE_ready
			Animation				= ATKD
				AnimationName		= GUAragorn_SKL.GUAragorn_ATKD
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
				AnimationPriority	= 3
			End
			Animation				= ATKE
				AnimationName		= GUAragorn_SKL.GUAragorn_ATKE
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
				AnimationPriority	= 2
			End
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
		End
		
		
		
		
		

	; --- Moving Anims	
		AnimationState				= MOVING
			StateName				= STATE_running
			
			Animation				= GUAragorn_RUNB
				AnimationName		= GUAragorn_SKL.GUAragorn_RUNB
				AnimationMode		= LOOP
			End
		End

		AnimationState				= LEVELED	; This state clears itself in 3 seconds
			Animation				= LevelUp
				AnimationName		= GUAragorn_SKL.GUAragorn_ATKO
				AnimationMode		= ONCE
			End
		End

		AnimationState				= SPECIAL_POWER_1							; Aragorn shouting Elendil anim
			StateName				= STATE_ready
			Animation				= GUAragorn_ATKL
				AnimationName		= GUAragorn_SKL.GUAragorn_ATKL
				AnimationMode		= ONCE
			End
			ParticleSysBone			= B_SWORDBONE ElendilFlare FollowBone:yes
			ParticleSysBone			= B_SWORDBONE ElendilSwordFlare FollowBone:yes
;			FXEvent	= Name: FX_ElendilGlowEvent
		End
		
		AnimationState				= USER_2
			StateName				= ATHELAS
			Animation				= ATKP
				AnimationName		= GUAragorn_SKL.GUAragorn_ATKP
				AnimationMode		= ONCE
			End
		End
		
		AnimationState				= USER_1
			StateName				= OATH_BREAKERS
			Animation				= ATKN
				AnimationName		= GUAragorn_SKL.GUAragorn_CHRB
				AnimationMode		= ONCE
			End
		End
		
		
		
	; --------- Click and Hit Reactions ------------

		AnimationState				= HIT_REACTION HIT_LEVEL_3
			StateName				= STATE_bored
			Animation				= Hit_Level_1_b
				AnimationName		= GUAragorn_SKL.GUAragorn_HITB
				AnimationMode		= ONCE
			End
		End
		
	;----Emotion Animations

		AnimationState				= EMOTION_CELEBRATING
			StateName				= STATE_ready
			Animation				= CHRB
				AnimationName		= GUAragorn_SKL.GUAragorn_CHRB
				AnimationMode		= ONCE
				AnimationPriority	= 1
			End
			Flags					= RESTART_ANIM_WHEN_COMPLETE				
		End
		
		AnimationState				= EMOTION_ALERT
			StateName				= STATE_ready
			Animation				= IDLA
				AnimationName		= GUAragorn_SKL.GUAragorn_IDLA
				AnimationMode		= ONCE
				AnimationPriority	= 1
			End
		End

		AnimationState				= EMOTION_MORALE_HIGH
			StateName				= STATE_ready
			Animation				= ATKN
				AnimationName		= GUAragorn_SKL.GUAragorn_ATKN
				AnimationMode		= ONCE
				AnimationPriority	= 1
			End
			Animation				= ATKP
				AnimationName		= GUAragorn_SKL.GUAragorn_ATKP
				AnimationMode		= ONCE
				AnimationPriority	= 15
			End
			Animation				= TNTC
				AnimationName		= GUAragorn_SKL.GUAragorn_TNTD
				AnimationMode		= ONCE
				AnimationPriority	= 30
			End
			Animation				= TNTD
				AnimationName		= GUAragorn_SKL.GUAragorn_TNTD
				AnimationMode		= ONCE
				AnimationPriority	= 30
			End
			Flags					= RESTART_ANIM_WHEN_COMPLETE				
		End
		
		AnimationState				= ENGAGED
			StateName				= STATE_ready
			Animation				= IDLA
				AnimationName		= GUAragorn_SKL.GUAragorn_IDLA
				AnimationMode		= ONCE
				UseWeaponTiming		= Yes
				AnimationPriority	= 1
			End
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState				= SELECTED
			StateName				= STATE_attention
			Animation				= ATNE
				AnimationName		= GUAragorn_SKL.GUAragorn_ATNE
				AnimationMode		= LOOP
				AnimationBlendTime	= 5
				AnimationMustCompleteBlend = yes
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_bored" then CurDrawableSetTransitionAnimState("TRANS_boredToAttention") end
			EndScript
		End
	End
	End




; ***DESIGN parameters ***
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;when he dies it makes this wave.
  AddModule
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_DIELIKETHIS
    StartsActive = Yes
    DeathWeapon = aodwavePower
  End
  End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
End ; ends object aragorn


;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<H  A  L  D  I  R!<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<HALDIR>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;FXS
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Haldir Sword Fire
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXParticleSystem HaldirNormalSwordFire
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXSplatHaze.tga
    Lifetime = 10 10
    SortLevel = 1
    Size = 0 10
    BurstCount = 4 6
    InitialDelay = 5 5
    IsParticleUpTowardsEmitter = Yes
  End
  Color = DefaultColor
    Color2 = R:185 G:106 B:40 5
    Color3 = R:40 G:106 B:185 20
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.25
    SizeRateDamping = 1 1
    AngleZ = -7 7
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    EndPoint = X:0 Y:0 Z:15
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem HaldirBackSwordFire
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXSplatHaze.tga
    Lifetime = 5 5
    SortLevel = 1
    Size = 0 5
    BurstCount = 2 3
    InitialDelay = 0 0
    IsParticleUpTowardsEmitter = Yes
  End
  Color = DefaultColor
    Color2 = R:185 G:106 B:40 0
    Color3 = R:220 G:116 B:85 20
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.25
    SizeRateDamping = 1 1
    AngleZ = -7 7
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    EndPoint = X:0 Y:0 Z:15
  End
  Draw = DefaultDraw
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;The Fire FX that u see whne he uses his normal weapon,
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>


FXParticleSystem HaldirSwordHitSpark
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXSpark01.tga
    Lifetime = 8 8
    SystemLifetime = 2
    Size = 1 1
    BurstCount = 5 5
  End
  Color = DefaultColor
    Color1 = R:205 G:106 B:57 0
    Color2 = R:0 G:0 B:0 7
  End
  Update = DefaultUpdate
    SizeRate = 5 5
    SizeRateDamping = 0.8 0.85
    AngleZ = -7 7
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = -0.4
    VelocityDamping = 0.8 0.85
  End
  EmissionVelocity = OrthoEmissionVelocity
    X = 0 2
    Y = 0 1
    Z = 0 4
  End
  EmissionVolume = LineEmissionVolume
    IsHollow = Yes
    StartPoint = X:-1 Y:0 Z:0
    EndPoint = X:3 Y:0 Z:0
  End
  Draw = DefaultDraw
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; HeartOfFire
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem HeartOfFireGround ; ALWAYS_RENDER
  System
    Priority = ALWAYS_RENDER
    IsOneShot = Yes
    ParticleName = EXexplo03.tga
    Lifetime = 10 10
    SystemLifetime = 10
    Size = 20 20
    BurstCount = 5 5
    InitialDelay = 10 10
  End
  Color = DefaultColor
    Color2 = R:92 G:85 B:67 5
    Color3 = R:0 G:0 B:0 50
  End
  Alpha = DefaultAlpha
    Alpha2 = 0.75 1 5
    Alpha3 = -0.5 0 10
  End
  Update = DefaultUpdate
    SizeRate = 9 10
    SizeRateDamping = 0.9 0.95
    AngleZ = -7 7
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = CylinderEmissionVolume
    IsHollow = Yes
    RadiusRate = 5
    Offset = X:0 Y:0 Z:6
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem HeartOfFireGround1 ; ALWAYS_RENDER
  System
    Priority = ALWAYS_RENDER
    IsOneShot = Yes
    Shader = ALPHA
    ParticleName = EXfireballJ.tga
    Lifetime = 10 10
    SystemLifetime = 15
    Size = 10 15
    BurstCount = 5 5
    InitialDelay = 13 13
  End
  Color = DefaultColor
    Color1 = R:219 G:219 B:255 0
    Color2 = R:255 G:255 B:255 10
    Color3 = R:0 G:0 B:0 50
  End
  Alpha = DefaultAlpha
    Alpha2 = 0.75 1 10
    Alpha3 = -0.5 0 35
  End
  Update = DefaultUpdate
    SizeRate = 7 8
    SizeRateDamping = 0.95 1
    AngleZ = -7 7
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = CylinderEmissionVolume
    IsHollow = Yes
    RadiusRate = 5
    Offset = X:0 Y:0 Z:6
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem HeartOfFireHitDistortion
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = SMUDGE.tga
    Lifetime = 50 50
    SystemLifetime = 5
    BurstDelay = 20 20
    BurstCount = 1 1
  End
  Color = DefaultColor
    Color1 = R:255 G:255 B:255 0
    Color2 = R:255 G:255 B:255 0
    Color3 = R:255 G:255 B:255 0
    Color4 = R:255 G:255 B:255 0
    Color5 = R:255 G:255 B:255 0
    Color6 = R:255 G:255 B:255 0
    Color7 = R:255 G:255 B:255 0
    Color8 = R:255 G:255 B:255 0
  End
  Alpha = DefaultAlpha
    Alpha2 = 1 1 10
    Alpha3 = 0 0 20
  End
  Update = DefaultUpdate
    SizeRate = 20 20
    SizeRateDamping = 0.92 0.92
    AngleZ = 0.01 0.02
    AngularDamping = 0.8 0.85
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.96 0.97
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = PointEmissionVolume
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXParticleSystem MeteorExp1
  System
    Priority = ALWAYS_RENDER
    IsOneShot = Yes
    ParticleName = EXexplo03.tga
    Lifetime = 50 50
    SystemLifetime = 20
    Size = 20 30
    BurstCount = 5 5
    InitialDelay = 10 10
  End
  Color = DefaultColor
    Color2 = R:92 G:85 B:67 5
    Color3 = R:0 G:0 B:0 50
  End
  Alpha = DefaultAlpha
    Alpha2 = 0.15 1 5
    Alpha3 = -0.5 0 10
  End
  Update = DefaultUpdate
    SizeRate = 5 10
    SizeRateDamping = 0.9 0.95
    AngleZ = -7 7
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = CylinderEmissionVolume
    IsHollow = Yes
    RadiusRate = 5
    Offset = X:0 Y:0 Z:6
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Haldir's Super Fire sword, aka heart of fire,
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem HaldirSwordFire
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXSplatHaze.tga
    Lifetime = 10 10
    SortLevel = 1
    Size = 5 25
    BurstCount = 5 5
    InitialDelay = 5 5
    IsParticleUpTowardsEmitter = Yes
  End
  Color = DefaultColor
    Color2 = R:185 G:106 B:40 5
    Color3 = R:200 G:116 B:55 20
    Color3 = R:255 G:126 B:65 30
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.25
    SizeRateDamping = 1 1
    AngleZ = -7 7
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    EndPoint = X:0 Y:0 Z:25
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem HaldirFire
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXSplatHaze.tga
    Lifetime = 30 30
    SortLevel = 1
    Size = 25 25
    BurstCount = 1 1
    InitialDelay = 5 5
    IsParticleUpTowardsEmitter = Yes
  End
  Color = DefaultColor
    Color2 = R:185 G:106 B:40 5
    Color3 = R:255 G:255 B:255 20
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.25
    SizeRateDamping = 1 1
    AngleZ = -7 7
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    EndPoint = X:0 Y:0 Z:5
  End
  Draw = DefaultDraw
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Ring Of Fire
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXParticleSystem RingOfFire1 ;MeteorExp
  System
    Priority = ALWAYS_RENDER
    IsOneShot = Yes
    ParticleName = EXexplo03.tga
    Lifetime = 50 50
    SystemLifetime = 75
    Size = 50 80
    BurstCount = 5 5
    InitialDelay = 5 5
  End
  Color = DefaultColor
    Color2 = R:92 G:85 B:67 5
    Color3 = R:0 G:0 B:0 50
  End
  Alpha = DefaultAlpha
    Alpha2 = 0.75 1 5
    Alpha3 = -0.5 0 10
  End
  Update = DefaultUpdate
    SizeRate = 5 10
    SizeRateDamping = 0.9 0.95
    AngleZ = -7 7
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = CylinderEmissionVolume
    IsHollow = Yes
    RadiusRate = 5
    Offset = X:0 Y:0 Z:6
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem RingOfFire2 ;MeteorExp02
  System
    Priority = ALWAYS_RENDER
    IsOneShot = Yes
    Shader = ALPHA
    ParticleName = EXfireballJ.tga
    Lifetime = 35 35
    SystemLifetime = 55
    Size = 15 30
    BurstCount = 8 8
    InitialDelay = 10 10
  End
  Color = DefaultColor
    Color1 = R:219 G:219 B:219 0
    Color2 = R:255 G:255 B:255 10
    Color3 = R:0 G:0 B:0 50
  End
  Alpha = DefaultAlpha
    Alpha2 = 0.75 1 10
    Alpha3 = -0.5 0 35
  End
  Update = DefaultUpdate
    SizeRate = 4 5
    SizeRateDamping = 0.95 1
    AngleZ = -7 7
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = CylinderEmissionVolume
    IsHollow = Yes
    RadiusRate = 5
    Offset = X:0 Y:0 Z:6
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem RingOfFire3 ;MeteorExp03
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXGimliAxeSpecial.tga
    Lifetime = 25 25
    SystemLifetime = 55
    BurstCount = 1 1
    InitialDelay = 12 12
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:183 G:130 B:81 0
    Color2 = R:0 G:0 B:0 25
  End
  Update = DefaultUpdate
    SizeRate = 20 20
    SizeRateDamping = 0.9 0.95
    AngleZ = 0 7
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
    X = -1 1
    Y = -1 1
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:0 Y:0 Z:10
    EndPoint = X:0 Y:0 Z:10
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXParticleSystem MagmaExplosion1
  System
    Priority = VERY_LOW_OR_ABOVE
    ParticleName = EXMagma01.tga
    Lifetime = 80 80
    Size = 2 4
    BurstDelay = 2 2
    BurstCount = 10 10
    IsEmitAboveGroundOnly = Yes
  End
  Color = DefaultColor
    Color1 = R:210 G:190 B:172 8
    Color2 = R:112 G:72 B:67 50
    Color3 = R:0 G:0 B:0 80
  End
  Alpha = DefaultAlpha
    Alpha2 = 1 1 4
    Alpha3 = 0 0 40
  End
  Update = DefaultUpdate
    SizeRate = 3 5
    SizeRateDamping = 0.6 0.8
    AngleZ = 0 7
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = -0.05
    VelocityDamping = 0.95 0.95
  End
  EmissionVelocity = OrthoEmissionVelocity
    X = -2 2
    Y = -2 2
    Z = 3 5
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:20 Y:20 Z:10
    EndPoint = X:-20 Y:-20 Z:10
  End
  Draw = DefaultDraw
  End
  Event = TerrainCollision
    HeightOffset = 0 0
    EventFX = FX_WaterPuddle
    OrientFXToTerrain = No
    PerParticle = Yes
    KillAfterEvent = No
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; FX list
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXList FX_HaldirSwordHit
  ParticleSystem
    Name = HaldirSwordHitSpark
    Offset = X:16.0 Y:0.0 Z:15.0
    OrientToObject = Yes
  End
  ParticleSystem
    Name = GandalfSwordHitFlash
    Offset = X:16.0 Y:0.0 Z:15.0
    OrientToObject = Yes
  End
  Sound
    Name = ImpactSword01
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXList FX_HeartOfFireGround
  ParticleSystem
    Name = HeartOfFireGround
    Offset = X:0.0 Y:0.0 Z:10.0
  End
  ParticleSystem
    Name = HeartOfFireGround1
    Offset = X:0.0 Y:0.0 Z:10.0
  End
  Sound 
    Name = DrogothFireflightMS  ;Gui_ScoreScreenWindows ; Change This When ever 
  End
End

FXList FX_HeartOfFireGroundHit
  ParticleSystem
    Name = MeteorExp1 ;HeartOfFireGround
    Offset = X:70.0 Y:0.0 Z:10.0
  End
  Sound 
    Name = FireStartEnt  ;GandalfIstariLightStart  ;
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXList FX_RingOfFire
  ParticleSystem
    Name = RingOfFire1
    Offset = X:0.0 Y:0.0 Z:10.0
  End
  ParticleSystem
    Name = RingOfFire2
    Offset = X:0.0 Y:0.0 Z:10.0
  End
  ParticleSystem
    Name = RingOfFire3
    Offset = X:0.0 Y:0.0 Z:10.0
  End
  Sound 
    Name = FireDrakeInferno  ;FireStartEnt  ;FireStorm  ;DrogothFireflightMS  ;Gui_ScoreScreenVictoryText  ;GandalfIstariLightStart  ; lol i keep these here to let me de-side.
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; haldir FX list
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXList FX_HeartOfFire
  TintDrawable
	Color				= R:255 G:100 B:40
	PreColorTime		= 40
	PostColorTime		= 50
	SustainedColorTime	= 1400
	Frequency			= 0
	Amplitude			= 0
  End
End

ModifierList HeartOfFire
	Category = WEAPON
	Modifier = DAMAGE_MULT 200%
;	Modifier = ARMOR 300%
	Duration = 25000
	FX		 = FX_HeartOfFire
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Haldir Abillity Timers
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

SpecialPower SpecialAbilityRingOfFire
	Enum			= SPECIAL_WORD_OF_POWER
	ReloadTime		= 400000
	PublicTimer		= No
End

SpecialPower SpecialAbilityHaldirArrowRain
  Enum              = SPECIAL_ARROW_STORM
  ReloadTime        = 330000 ; in milliseconds
  PublicTimer       = No
  RadiusCursorRadius = 200.0
	ViewObjectDuration = 5000
	ViewObjectRange = 120
End

SpecialPower SpecialAbilityHaldirThornVengeance
  Enum                = SPECIAL_WOUND_ARROW
  ReloadTime          = 240000 ; in milliseconds
;  RadiusCursorRadius  = 150.0
  InitiateAtLocationSound = GenericSpell
  ;PalantirMovie = PalantirAlert_RohanReinforcements
  ObjectFilter = ALL -BASE_FOUNDATION -INERT -IGNORED_IN_GUI -WALK_ON_TOP_OF_WALL -BLOCKING_GATE -WALL_UPGRADE -UNATTACKABLE -MOVE_ONLY
End


;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Haldir Weapons/Haldir Abillity weapons
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;All of these done work i have no idea why.
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Weapon ThranduilThornofVengeance
	AttackRange				= 400
	LeechRangeWeapon			= Yes
	WeaponSpeed				= 231				 ; dist/sec 
	MinWeaponSpeed			= 201
	MaxWeaponSpeed			= 281			; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX					= FX_FaramirWoundingArrow
	ScaleWeaponSpeed		= Yes ; Used for lob weapons, scales speed proportional to range
	HitStoredTarget			= Yes	; Always hits initial target.
	HitPercentage			= 100		 
	ScatterRadius			= 0.0		 ;When this weapon misses it can randomly miss by as much as this distance.
	DelayBetweenShots		= 15000									; time between shots, msec
	PreAttackDelay			= 1										; we want isntant
	PreAttackType			= PER_POSITION
	FiringDuration			= 1										; Duration of the archer firing shot is 500ms.
	ClipSize				= 1
	AutoReloadsClip			= Yes
	AutoReloadWhenIdle		= 1	
	ClipReloadTime			= Min:THRANDUIL_THORN_RELOADTIME_MIN Max:THRANDUIL_THORN_RELOADTIME_MAX
	AntiAirborneVehicle		= Yes
	AntiAirborneMonster		= Yes
	PreferredTargetBone		= B_LLLID ; Likes to shoot things in their left eye.
	
	
	ProjectileNugget										; A Nugget that creates an Object and sends it to the target with a Warhead
		ProjectileTemplateName	= ThranSpecialArrow
		WarheadTemplateName	= HaldirThornofVengeanceWarhead1  ; RohanEowynSmiteWarhead
	End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;fhcking eagames Cant make arrows make more cents?
Weapon HaldirThornofVengeanceWarhead  ;ThranduilThornofVengeanceWarhead1
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects	 = ENEMIES NOT_SIMILAR
  HitStoredTarget		 = Yes	; Always hits initial target.
  HitPercentage		     = 100	
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 50  ;500
    Radius        = 0.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = FIRE3
    DeathType     = EXPLODED
  End

  DamageNugget                      
	Damage        		= 500  ;1500	
	Radius        		= 250.0	
	DamageType    		= MAGIC
	DamageFXType  		= FIRE3  ;MAGIC
	DeathType     		= EXPLODED ;BURNED
	DelayTime			= 200  
  End
  
  MetaImpactNugget                    ; A Nugget that throws things back with force
;	HeroResist			= .25
    ShockWaveAmount   = 70.0
    ShockWaveRadius   = 15.0
    ShockWaveTaperOff = 0.5
    ShockWaveZMult    = 1.20
  End
  
End

Weapon HaldirThornofVengeanceWarhead1  ;ThranduilThornofVengeanceWarhead1
  ProjectileCollidesWith = ENEMIES
  RadiusDamageAffects	 = ENEMIES NOT_SIMILAR
  HitStoredTarget		 = Yes	; Always hits initial target.
  HitPercentage		     = 100	
  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 5000  ;500
    Radius        = 1000.0	; HitStoredTarget means we hurt the person we launched at.  And nobody else.  So a miss hurts nobody.
    DelayTime     = 0
    DamageType    = HERO
    DamageFXType  = FIRE3
    DeathType     = EXPLODED
  End

  DamageNugget                      
	Damage        		= 50  ;1500	
	Radius        		= 25.0	
	DamageType    		= MAGIC
	DamageFXType  		= FIRE3  ;MAGIC
	DeathType     		= EXPLODED ;BURNED
	DelayTime			= 200  
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Weapon RingOfFirePower
	IdleAfterFiringDelay = 0
	AttackRange = GANDALF_WORD_OF_POWER_RANGE
	MinimumAttackRange = 0.8
	WeaponSpeed = 401
	MinWeaponSpeed = 241
	MaxWeaponSpeed = 601
	ScaleWeaponSpeed = Yes
	FireSound	= ArmyDeadKill
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000
	PreAttackDelay        = 100
	PreAttackType         = PER_ATTACK
	FireFX                = FX_RingOfFire
	FiringDuration      = 1400
      ClearNuggets
	DamageNugget
		DamageScalar  = 10000% NONE +MordorMountainTroll +MordorCaveTroll +MordorDrummerTroll +MordorMumakil +MordorAttackTroll
		Damage			= 800
		Radius			= 300.0
		DamageType		= FLAME
		DamageFXType	= FLAME                                       ; SUPERNATURAL meh wont work lol
		DeathType		= BURNED
		DamageSpeed		= 120.0
	End
;	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= 0.75
;		ShockWaveAmount   = 60.0
;		ShockWaveArc	  = 200
;		ShockWaveRadius   = 160.0
;		ShockWaveTaperOff = 1.00
;		ShockWaveSpeed	= 300.0
;		ShockWaveZMult    = 1.0
;	End
;	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= 0.75
;		ShockWaveAmount   = 40.0
;		ShockWaveArc	  = 200
;		ShockWaveRadius   = 220.0
;		ShockWaveTaperOff = 0.7
;		ShockWaveSpeed	= 300.0
;		ShockWaveZMult    = 1.0
;	End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Haldir Swords
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Weapon HaldirSword  ; BALANCE Haldir Sword Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = 10.0
  RadiusDamageAffects   = ENEMIES NOT_SIMILAR
  MeleeWeapon           = Yes
  FireFX                = FX_HaldirSwordHit
  DelayBetweenShots     = 600 			; time between shots, msec
  PreAttackDelay        = 400 	; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = 600 	; Duration of the sword swing
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 70
		DamageArc 		= 300
		Radius			= 35.0
		DamageType    = FLAME
		DamageFXType  = FIRE3 ;FLAME
		DeathType		= EXPLODED
	End
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 100	
		DamageArc 		= 300
		Radius			= 35.0
		DamageType    = FLAME
		DamageFXType  = FIRE3 ;FLAME
		DeathType     = BURNED
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.75
		ShockWaveAmount   = 70.0
		ShockWaveArc	  = 300
		ShockWaveRadius   = 35.0
		ShockWaveTaperOff = 1.25
		ShockWaveZMult    = 0.5
	End
End

Weapon HaldirHeroSword  ; BALANCE Haldir Sword Weapon ; Ring Of Fire Hero mode.
  LeechRangeWeapon      = Yes
  AttackRange           = 10.0
  RadiusDamageAffects   = ENEMIES NOT_SIMILAR
  MeleeWeapon           = Yes
  FireFX                = FX_HeartOfFireGroundHit
  DelayBetweenShots     = 200 			; time between shots, msec
  PreAttackDelay        = 200 	; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = 500 	; Duration of the sword swing
;Take this one out, this is already too powerful
;	DamageNugget                        ; A basic Nugget that just does damage 
;		Damage			= 70
;		DamageArc 		= 100
;		Radius			= 100.0
;		DamageType    = FLAME
;		DamageFXType  = FLAME
;		DeathType		= BURNED
;		DamageSpeed		= 50.0
;	End
	DamageNugget                        ; A basic Nugget that just does damage
		Damage        = 400	
		DamageArc 		= 100
		Radius			= 100.0
		DamageType    = FLAME
		DamageFXType  = FIRE3 ;FLAME
		DeathType     = BURNED
		DamageSpeed		= 300.0
	End
;	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= 0.75
;		ShockWaveAmount   = 10.0
;		ShockWaveArc	  = 200
;		ShockWaveRadius   = 80.0
;		ShockWaveTaperOff = 1.25
;		ShockWaveZMult    = 5.5
;		ShockWaveSpeed  = 300.0
;	End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Haldir bow
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Weapon HaldirBow
	AttackRange			= HALDIR_BOW_RANGE
	
	RangeBonusMinHeight	= 10
	RangeBonus		= 1
	RangeBonusPerFoot	= #MULTIPLY( HALDIR_BOW_RANGE .01 )
	
					
	WeaponSpeed			= 321         ; dist/sec 
	MinWeaponSpeed		= 241
	MaxWeaponSpeed		= 481      ; dist/sec Upper limit on scaling, when attacking past nominal "max" range
	FireFX				= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed	= Yes ; Used for lob weapons, scales speed proportional to range
	HitPercentage		= 100     ;When this weapon is used it will hit exactly 100% of the time.
	ScatterRadius		= 5.0     ;When this weapon misses it can randomly miss by as much as this distance.

	AcceptableAimDelta	= 20	; prevent twitchy reaiming in horde on horde
	DelayBetweenShots	= HALDIR_DELAYBETWEENSHOTS 	; time between shots, msec
	PreAttackDelay      = 1 ;HALDIR_PREATTACKDELAY 	; 1467 is the prep time for archer.
	PreAttackType       = PER_POSITION ; Do the delay each time we attack a new target
	FiringDuration      = HALDIR_FIRINGDURATION 	; Duration of the archer firing shot is 500ms.

    ClipSize			= 1
    AutoReloadsClip		= Yes
    AutoReloadWhenIdle	= 1	
    ClipReloadTime		= Min:1000 Max:1000
    ContinuousFireOne	= 0
    ContinuousFireCoast	= 1000
    InstantLoadClipOnActivate = Yes

    AntiAirborneVehicle	= Yes
    AntiAirborneMonster	= Yes
    
	ProjectileNugget                    ; Default Arrow
		ProjectileTemplateName  = GoodFactionArrow
		WarheadTemplateName     = HaldirBowWarhead
	End
End

Weapon HaldirGoldenArrowHitWarhead
  RadiusDamageAffects = ENEMIES NOT_SIMILAR
  FireFX                = FX_RohanArcherBowWeapon  ;FX_GoldenArrowHit
  ClearNuggets
  DamageNugget
    Damage        = 600
    Radius        = 25.0
    DelayTime     = 0
    DamageType    = MAGIC
    DamageFXType  = BOLT ;MAGIC ; Bolt makes it white not blueish
    DeathType     = EXPLODED
  End
End

Weapon HaldirGoldenArrow
	AttackRange					= 200  ;HALDIR_BOW_RANGE				
	LeechRangeWeapon			= Yes
	WeaponSpeed					= 321
	MinWeaponSpeed				= 241
	MaxWeaponSpeed				= 481
	FireFX						= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed			= Yes
	HitPercentage				= 100
	ScatterRadius				= 5.0

	DelayBetweenShots			= HALDIR_DELAYBETWEENSHOTS
	PreAttackDelay				= HALDIR_PREATTACKDELAY
	PreAttackType				= PER_SHOT
	FiringDuration				= HALDIR_FIRINGDURATION

	ProjectileNugget
		ProjectileTemplateName	= HaldirGoldenArrowProjectile
		WarheadTemplateName		= HaldirGoldenArrowWarhead1  ;LegolasHawkStrikeWarhead 
	End
End

Weapon HaldirGoldenArrowWarhead1
	ProjectileCollidesWith	= ENEMIES NEUTRAL
	RadiusDamageAffects		= ENEMIES NOT_SIMILAR
	HitStoredTarget			= Yes
	DamageNugget
		Damage				= 700
		Radius				= 50.0
		DelayTime			= 0
		DamageType			= HERO_RANGED
		DamageFXType		= MAGIC
		DeathType			= NORMAL
	End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;XP
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Note you dont need all 10 xps just the ones with new abillitys.!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

ExperienceLevel	HaldirLevel1
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	1	
	ExperienceAward					=	HALDIR_LVL1_EXP_AWARD
	Rank							=	1
	SelectionDecal
		Texture						=	decal_hero_good	
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
End	

ExperienceLevel	HaldirLevel2
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	HALDIR_LVL2_EXP_NEEDED 
	ExperienceAward					=	HALDIR_LVL2_EXP_AWARD
	AttributeModifiers				=	HeroLevelUpDamage1
	Rank							=	2
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Upgrades						=	Upgrade_HaldirGoldenArrow
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End
END	

ExperienceLevel	HaldirLevel3
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	HALDIR_LVL3_EXP_NEEDED 
	ExperienceAward					=	HALDIR_LVL3_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage2
	Rank							=	3
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good	
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End
END	

ExperienceLevel	HaldirLevel4
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	HALDIR_LVL4_EXP_NEEDED 
	ExperienceAward					=	HALDIR_LVL4_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage3
	Rank							=	4
	LevelUpFx						=	FX:GandalfLevelUp1FX	
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Upgrades						=	Upgrade_HaldirGoldenArrow
	SelectionDecal
		Texture						=	decal_hero_good	
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End
END	

ExperienceLevel	HaldirLevel5
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	HALDIR_LVL5_EXP_NEEDED 
	ExperienceAward					=	HALDIR_LVL5_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage4
	Rank							=	5
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Upgrades						=	Upgrade_LegolasArrowWind ; Arrow Wind
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End
END	

ExperienceLevel	HaldirLevel6
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	HALDIR_LVL6_EXP_NEEDED 
	ExperienceAward					=	HALDIR_LVL6_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage5
	Rank							=	6
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good	
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	

ExperienceLevel	HaldirLevel7
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	HALDIR_LVL7_EXP_NEEDED 
	ExperienceAward					=	HALDIR_LVL7_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage6
	Rank							=	7
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Upgrades						=	Upgrade_LegolasArrowWind ; Arrow Wind
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	

ExperienceLevel	HaldirLevel8
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	HALDIR_LVL8_EXP_NEEDED 
	ExperienceAward					=	HALDIR_LVL8_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage7
	Rank							=	8
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Upgrades						=	Upgrade_AragornBladeMaster	 ;Heart
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	

ExperienceLevel	HaldirLevel9
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	HALDIR_LVL9_EXP_NEEDED 
	ExperienceAward					=	HALDIR_LVL9_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage8
	Rank							=	9
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Upgrades						=	Upgrade_ThranduilThornofVengeance ; Red Arrow
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	

ExperienceLevel	HaldirLevel10
	TargetNames						=	ElvenHaldir
	RequiredExperience				=	HALDIR_LVL10_EXP_NEEDED 
	ExperienceAward					=	HALDIR_LVL10_EXP_AWARD	
  	AttributeModifiers				=	HeroLevelUpDamage9
	Rank							=	10
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Upgrades						=	Upgrade_GandalfWordOfPower  ; RING OF FIRE
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Command Buttons
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

CommandButton Command_SpecialAbilityThornofVengeance                     ;Command_SpecialAbilityWoundArrow
	Command                 = SPECIAL_POWER
	WeaponSlot              = SECONDARY
	SpecialPower            = SpecialAbilityHaldirThornVengeance
	Options                 = NEED_TARGET_ENEMY_OBJECT
	TextLabel               = CONTROLBAR:HaldirThornofVengeance
	ButtonImage             = HSThranduilThornofVengeance
	CursorName              = Bombard
	InvalidCursorName       = GenericInvalid
	ButtonBorderType        = ACTION
	DescriptLabel           = CONTROLBAR:ToolTipHaldirThornofVengeance
	DisableOnModelCondition = None  ;DefaultModelConditionState  ;WEAPONSET_TOGGLE_1 	
	InPalantir			  = Yes
	AutoAbility			  = Yes
	;UnitSpecificSound      = FaramirRangerVoiceWoundingArrow
End

CommandButton Command_SpecialAbilityArrowStorm
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityHaldirArrowRain
  Options                 = NEED_TARGET_POS CONTEXTMODE_COMMAND
  TextLabel               = CONTROLBAR:HaldirArrowWind
  ButtonImage             = HSLegolasArrowWind
  CursorName              = Bombard
  RadiusCursorType        = SpeechCraftRadiusCursor
  InvalidCursorName       = GenericInvalid
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipHaldirArrowWind
  InPalantir			  = Yes
  AutoAbility			  = Yes
;  DisableOnModelCondition = DefaultModelConditionState;WEAPONSET_TOGGLE_1
End

CommandButton Command_SpellBookRainOfFire
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityRingOfFire
  Options                 = NONE
  TextLabel               = CONTROLBAR:RingOfFire
  ButtonImage             = Gandolf_radcircle;HSGandalfWordOfPower
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipRingOfFire
  AutoAbility			  = Yes
  PresetRange			  = 120.0
  InPalantir			  = Yes
  UnitSpecificSound = RingOn
End

CommandButton Command_HaldirGoldenArrow
	Command					= SPECIAL_POWER
	SpecialPower			= SpecialAbilityHaldirGoldenArrow
	Options					= NEED_TARGET_ENEMY_OBJECT NEED_TARGET_NEUTRAL_OBJECT
	TextLabel				= CONTROLBAR:HaldirGoldenArrow1
	DescriptLabel			= CONTROLBAR:ToolTipHaldirGoldenArrow1
	ButtonImage				= HSHaldirGoldenArrow
	ButtonBorderType		= ACTION
	InPalantir				= Yes
	AutoAbility				= Yes
	PresetRange				= HALDIR_BOW_RANGE
	CursorName				= Bombard
	InvalidCursorName		= GenericInvalid
End

CommandButton Command_SpecialAbilityElendil
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityHaldirElendil
;  Options                 = 
  TextLabel               = CONTROLBAR:HaldirElendil
  ButtonImage             = HSAragornElendil
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipHaldirElendil
 ; UnitSpecificSound       = AragornVoiceElendil
  InPalantir			  = Yes
  AutoAbility			  = Yes
  PresetRange			  = 60.0  
End

CommandButton Command_SpecialAbilityIgnite
  Command                 = SPECIAL_POWER
  Options                 = NONE 
  SpecialPower            = SpecialAbilityAragornBladeMaster
  TextLabel               = CONTROLBAR:HeartOfFire
  ButtonImage             = HSAragornBladeMaster
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipHeartOfFire
  InPalantir			  = Yes
  AutoAbility			  = Yes
  AutoDelay				  = 30.0
  PresetRange			  = 50.0
;  UnitSpecificSound = GandalfSpellVoice
  DisableOnModelCondition = WEAPONSET_TOGGLE_1
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Command command set
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
CommandSet NewElvenHaldirCommandSet
	1	= Command_ToggleHaldirWeapon
	2	= Command_HaldirGoldenArrow  ;
	3	= Command_SpecialAbilityArrowStorm  ;
	4	= Command_SpecialAbilityIgnite  ;
	5	= Command_SpecialAbilityThornofVengeance 
	6	= Command_SpellBookRainOfFire  ;                        
	11	= Command_ToggleStance
	12	= Command_CaptureBuilding
 	13	= Command_AttackMove
	14	= Command_Stop
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Weapon Objects/ objects
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXParticleSystem ThranArrowTrail1
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXFire01.tga
    Lifetime = 10 10
    Size = 2 5
    BurstCount = 16 8
  End
  Color = DefaultColor
    Color1 = R:220 G:30 B:30 0
    Color2 = R:255 G:220 B:220 25
  End
  Alpha = DefaultAlpha
    Alpha1 = 1 1 1
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.25
    SizeRateDamping = 1 1
    AngleZ = -7 7
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:10 Y:0 Z:0
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem ThranDeadeyeArrow1
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXspearhead.tga
    Lifetime = 15 15
    SortLevel = 1
    Size = 5 5
    BurstCount = 4 4
    IsGroundAligned = Yes
    IsParticleUpTowardsEmitter = Yes
  End
  Color = DefaultColor
    Color1 = R:80 G:20 B:10 0
    Color2 = R:0 G:0 B:0 15
  End
  Alpha = DefaultAlpha
    Alpha1 = 0.25 0.25 0
    Alpha2 = 0 0 15
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.25
    SizeRateDamping = 1 1
    AngleZ = 0 2
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:-5 Y:0 Z:0
    EndPoint = X:-5 Y:0 Z:0
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem ThranDeadeyeArrow2
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXFire01.tga
    Lifetime = 10 10
    Size = 3 3
    BurstCount = 8 8
  End
  Color = DefaultColor
    Color1 = R:50 G:40 B:40 0
    Color2 = R:20 G:10 B:10 15
  End
  Alpha = DefaultAlpha
    Alpha1 = 0.05 0.05 1
    Alpha2 = 1.05 1.05 15
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.25
    SizeRateDamping = 1 1
    AngleZ = -7 7
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:5 Y:0 Z:0
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Weapon HaldirDeadeye
	AttackRange					= THRANDUIL_BOW_RANGE_DEADEYE
	WeaponSpeed					= 281
	MinWeaponSpeed				= 251
	MaxWeaponSpeed				= 321
	FireFX						= FX_RohanArcherBowWeapon
	ScaleWeaponSpeed			= Yes
	HitPercentage				= 100
	HitStoredTarget				= Yes
	DelayBetweenShots			= 0
	PreAttackDelay				= ROHAN_ELVENWARRIOR_BOW_PREATTACKDELAY
	PreAttackType				= PER_POSITION
	FiringDuration				= 0
	;OverrideVoiceAttackSound	= ElvenWarriorVoiceAttackBow
	ClipSize					= 1
	AutoReloadsClip				= Yes
	AutoReloadWhenIdle			= 1
	ClipReloadTime				= Min:THRANDUIL_RELOADTIME_MIN Max:THRANDUIL_RELOADTIME_MAX
	ContinuousFireOne			= 0
	ContinuousFireCoast			= THRANDUIL_RELOADTIME_MAX
	AntiAirborneVehicle			= Yes
	AntiAirborneMonster			= Yes
	HitPassengerPercentage		= 20%
	CanBeDodged					= Yes

	ProjectileNugget
		ProjectileTemplateName	= GoodFactionArrowDeadeye
		WarheadTemplateName		= HaldirDeadeyeWarhead  ;ElvenThranduilBowWarheadDeadeye1   ;RohanEowynSmiteWarhead
	End

End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Weapon HaldirDeadeyeWarhead
	ProjectileCollidesWith		= ENEMIES
	RadiusDamageAffects			= ENEMIES NOT_SIMILAR
	HitStoredTarget				= Yes
	DamageNugget
		Damage					= 10
		Radius					= 0.0
		DelayTime				= 0
		DamageType				= HERO_RANGED
		DamageFXType			= GOOD_ARROW_PIERCE
		DeathType				= NORMAL
	End
	DamageNugget
		Damage					= 10
		Radius					= 5.0
		DelayTime				= 0
		DamageType				= MAGIC
		DamageFXType			= MAGIC
		DeathType				= NORMAL
	End
	MetaImpactNugget
		SpecialObjectFilter		= NONE +INFANTRY
		ShockWaveAmount			= 50.0
		ShockWaveRadius			= 5.0
		ShockWaveArc			= 90
		ShockWaveTaperOff		= 1.0
		ShockWaveSpeed			= 0.0
		ShockWaveZMult			= 1.0
		OnlyWhenJustDied		= Yes
	End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Object GoodFactionArrowDeadeye

  AddModule
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_DIELIKETHIS
    StartsActive = Yes
    DeathWeapon = HaldirDeadeyeWarhead
  End
  End

  ; *** ART Parameters ***
  ReplaceModule ModuleTag_Draw
  Draw = W3DScriptedModelDraw ModuleTag_Draw1
    DefaultModelConditionState     
      Model = NONE
      ParticleSysBone = NONE ThranDeadeyeArrow1 FOLLOWBONE:YES
      ParticleSysBone = NONE ThranDeadeyeArrow2 FOLLOWBONE:YES
    End
  End
  End

  ReplaceModule ModuleTag_Draw2
  Draw = W3DStreakDraw ModuleTag_Draw21
	Length		= 15
	Width		= 2
	NumSegments	= 1				; number of segements in the streak, increase for smoother line
	Color		= R:255 G:255 B:255
	Additive	= No					; Yes by default
	Texture		= EXArrowStreak01.tga
	WeatherTexture = SNOWY EXArrowStreak_Snow.tga
  End
  End

  ; *** AUDIO Parameters ***

  ; ***DESIGN parameters ***
  EditorSorting     = SYSTEM

  ArmorSet
    Armor = NoArmor
  End

  VisionRange = 0.0

  ; *** ENGINEERING Parameters ***
  KindOf = PROJECTILE NO_COLLIDE HIDE_IF_FOGGED
  ReplaceModule ModuleTag_02
  Body = ActiveBody ModuleTag_021
    MaxHealth       = 100.0
  End
  End

  ReplaceModule ModuleTag_03
  Behavior = DestroyDie ModuleTag_031
  ;  nothing
  End
  End
 
 ReplaceModule ModuleTag_04
 Behavior = BezierProjectileBehavior ModuleTag_041
    ; To tweak a Bezier path
  ;  DetonateCallsKill = Yes
    FirstHeight = 9  ; Height of Bezier control points above highest intervening terrain
    SecondHeight = 9
    FirstPercentIndent = 20% ; Percentage of shot distance control points are placed
    SecondPercentIndent = 90%
    FlightPathAdjustDistPerSecond = 50 ; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag. (45 is default human speed)
    GroundHitFX = FX_GondorArrowDeath
    CurveFlattenMinDist = 100.0
  End
  End

  Geometry = Sphere
  GeometryIsSmall = Yes
  GeometryMajorRadius = 0.8
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Object HaldirGoldenArrowProjectile
	
	RemoveModule ModuleTag_GoldenArrow

  AddModule
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_DIELIKETHIS
    StartsActive = Yes
    DeathWeapon = HaldirGoldenArrowHitWarhead
  End
  End
End

Object ThranSpecialArrow
; the dead module didnt work lol wdf is with these arrows. well haldir is gona be super good but very bad timers. use em wisely!
  AddModule
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_DIELIKETHIS
    StartsActive = Yes
    DeathWeapon = HaldirThornofVengeanceWarhead  ;ThranduilThornofVengeanceWarhead1
  End
  End
	; *** ART Parameters ***
	ReplaceModule ModuleTag_Draw
	Draw = W3DScriptedModelDraw ModuleTag_Draw1
		DefaultModelConditionState		 
			Model = NONE  ;RULegolas_AROW
			ParticleSysBone NONE ThranArrowTrail1 FOLLOWBONE:YES
		End

		IdleAnimationState
			Animation							= RULegolas_AROW
				AnimationName				= RULegolas_AROW.RULegolas_AROW
				AnimationMode				= LOOP
			End
		End
	End
	End

	; *** AUDIO Parameters ***

	; ***DESIGN parameters ***
	EditorSorting		 = SYSTEM

	ArmorSet
		Armor = NoArmor
	End

	VisionRange = 0.0

	; *** ENGINEERING Parameters ***
	KindOf = PROJECTILE NO_COLLIDE HIDE_IF_FOGGED

	ReplaceModule ModuleTag_02
	Body = ActiveBody ModuleTag_021
		MaxHealth			 = 100.0
	End
	End

	ReplaceModule ModuleTag_03
	Behavior = DestroyDie ModuleTag_031
	;	nothing
	End
	End
	
	ReplaceModule ModuleTag_04	
	Behavior = BezierProjectileBehavior ModuleTag_041
		; To tweak a Bezier path
	;	DetonateCallsKill = Yes
		FirstHeight = 29	; Height of Bezier control points above highest intervening terrain
		SecondHeight = 9
		FirstPercentIndent = 20% ; Percentage of shot distance control points are placed
		SecondPercentIndent = 90%
		FlightPathAdjustDistPerSecond = 50 
			; Can allow a max speed this can attempt to follow a target. Units are their velocity we can tag. (45 is default human speed)
		GroundHitFX = FX_WoundingArrowHit
		CurveFlattenMinDist = 100.0
		
	PreLandingStateTime = 250
	PreLandingEmotion = TERROR
	PreLandingEmotionRadius = 50.0		
	End
	End

; You will need to AddModule because this has been cut out from the game ini, this may come in handy for making an firestorm or somthing.
;	AddModule
;	ReplaceModule ModuleTag_06
;	Behavior = CreateObjectDie ModuleTag_06
;	DeathTypes = ALL
;	CreationList = OCL_GoodFactionShatteredArrowBits ; maybe later on chage this to somthing else.
;	End
;	End

	ReplaceModule ModuleTag_07
	Behavior = FXListDie ModuleTag_071
	 DeathTypes = ALL
	 DeathFX = FX_WoundingArrowHit
	End
	End

	Geometry = Sphere
	GeometryIsSmall = Yes
	GeometryMajorRadius = 0.8
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;HALIR OBJECT HALDIR!
;
;Haldir Was Hard, It Crashed Offen, Thats Why its Mixed up, if you change somthing again make sure u remember some of the glitches
; Commandsets Do not need Ends!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Object ElvenHaldir
	WeaponSet
		Conditions				= WEAPONSET_TOGGLE_1 CONTAINED
		Weapon					= PRIMARY    HaldirBow
		AutoChooseSources		= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions				= CONTAINED
		Weapon					= PRIMARY    HaldirBow
		AutoChooseSources		= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions				= WEAPONSET_TOGGLE_1
		Weapon					= PRIMARY    HaldirBow
		AutoChooseSources		= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

	WeaponSet
		Conditions				= None
		Weapon					= PRIMARY HaldirSword
		AutoChooseSources		= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End
	WeaponSet
		Conditions		= WEAPONSET_HERO_MODE
		Weapon			= PRIMARY    HaldirHeroSword
	End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Object ElvenHaldir
	CommandSet = NewElvenHaldirCommandSet ; Commandsets dont need Ends******************
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Object ElvenHaldir	
	DisplayMeleeDamage = 170;
;	DisplayRangedDamage = 140; im gona leave it the way it is
End
;	ShockwaveResistance = SHOCKWAVE_RESISTANCE_STRONG ; un used, atm!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
;	VisionRange					= VISION_HERO_RANGED ;no need
;	ShroudClearingRange			= SHROUD_CLEAR_RANGED_HERO ;no need
;	ThreatLevel					= HALDIR_THREAT_LEVEL ; it is 100
;End ; No Need This stuff is not in his name.
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Armor HaldirArmor
  Armor = DEFAULT         25%   ;this sets the level for all nonspecified damage types
  Armor = SLASH            25%   ;
  Armor = PIERCE           25%   ;
  Armor = SPECIALIST      25%   ;
  Armor = CRUSH            10%   ;
  Armor = SIEGE           50%   ;
  Armor = FLAME            15%   ; hes lord of fire, it shouldn't hurt him as much lol.
  Armor = MAGIC           100%   ;
  Armor = HERO            50%   ;
  Armor = HERO_RANGED     50%   ;
    Armor = STRUCTURAL	  50%	
End


Object ElvenHaldir

	ArmorSet
		Conditions				= None
		Armor					= HaldirArmor  ;HeroLightArmor
		DamageFX				= NormalDamageFX
	End

	ReplaceModule ModuleTag_LegolasHealing
	Behavior = AutoHealBehavior ModuleTag_HaldirHealing1
		StartsActive = Yes
		HealingAmount = 80 ; 
		HealingDelay = 1500 ;
		StartHealingDelay = 20000
		HealOnlyIfNotInCombat = Yes
	End
	End
	ReplaceModule ModuleTag_RespawnBody
	Body = RespawnBody ModuleTag_RespawnBody1
		CheerRadius							= EMOTION_CHEER_RADIUS
		MaxHealth							= 2200 ;HALDIR_HEALTH; give heros good health.
		PermanentlyKilledByFilter			= NONE
		DodgePercent						= HERO_DODGE_PERCENT
	End
	End


;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Haldir's ThornofVengeance
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
	AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_ThornArrowEnabler
		SpecialPowerTemplate		= SpecialAbilityHaldirThornVengeance
		TriggeredBy					= Upgrade_ThranduilThornofVengeance
	End
	End

	AddModule
	Behavior = SpecialPowerModule ModuleTag_ThornArrow
		SpecialPowerTemplate		= SpecialAbilityHaldirThornVengeance
		UpdateModuleStartsAttack	= Yes
		StartsPaused				= Yes
	End
	End	

	AddModule
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_ThornArrowUpdate
		SpecialPowerTemplate		= SpecialAbilityHaldirThornVengeance
		SkipContinue				= Yes
		UnpackTime					= 600  ;1600
		PreparationTime				= 2
		PackTime					= 850
		AwardXPForTriggering		= 0
		StartAbilityRange			= 325.0		; Note: This has to be smaller than the weapon range or it'll never succeed
		ApproachRequiresLOS			= Yes		
		SpecialWeapon				= ThranduilThornofVengeance  ;HaldirThornofVengeance
		WhichSpecialWeapon			= 1
	End
	End

End ; Ends HaldirThornVengeance
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Heart Of Fire Blade Master.
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Object ElvenHaldir
      AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_AragornBladeMasterEnabler
		SpecialPowerTemplate = SpecialAbilityAragornBladeMaster
		TriggeredBy = Upgrade_AragornBladeMaster
	End
      End
      AddModule
  	Behavior = SpecialPowerModule ModuleTag_AragornBladeMasterStarter
		SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
		StartsPaused			= Yes
            TriggerFX                  = FX_HeartOfFireGround
	End
      End
      AddModule
	Behavior = HeroModeSpecialAbilityUpdate ModuleTag_AragornBladeMasterUpdate
		SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
		HeroAttributeModifier	= HeartOfFire
		HeroEffectDuration		= 30000
		UnpackTime              = 1
	End
      End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Ring Of Fire
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

      AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_Word1Enabler
		SpecialPowerTemplate = SpecialAbilityRingOfFire
		TriggeredBy = Upgrade_GandalfWordOfPower
	End
      End
      AddModule
	Behavior = SpecialPowerModule ModuleTag_Word1Starter       
		SpecialPowerTemplate      = SpecialAbilityRingOfFire
		UpdateModuleStartsAttack  = Yes
		StartsPaused		  	  = Yes
	End
      End
      AddModule
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WordWeapon1FireUpdate   
		SpecialPowerTemplate    = SpecialAbilityRingOfFire
		WhichSpecialWeapon		= 1
		SkipContinue			= Yes
		UnpackTime              = 100 
		PackTime                = 1		
		FreezeAfterTriggerDuration = 2500
		AwardXPForTriggering    = 0		
		StartAbilityRange		= 80.0
		SpecialWeapon			= RingOfFirePower
	End
      End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;haldir arrow wind
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

      AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_MagicArrowWindEnabler  ;haldir arrow wind
		SpecialPowerTemplate = SpecialAbilityHaldirArrowRain
		TriggeredBy = Upgrade_LegolasArrowWind   
	End
      End
      AddModule
	Behavior = SpecialPowerModule ModuleTag_GondorGandalfIstariLight	;haldir arrow wind
		SpecialPowerTemplate		= SpecialAbilityHaldirArrowRain
		UpdateModuleStartsAttack	= Yes
		StartsPaused			= Yes
	End
      End
      AddModule
	Behavior = ArrowStormUpdate ModuleTag_MagicArrowWindUpdate	; haldir arrow wind
		SpecialPowerTemplate    = SpecialAbilityHaldirArrowRain
		StartAbilityRange       = 320
		UnpackingVariation		= 1
		UnpackTime              = 1250
		PreparationTime         = 1200
		PersistentPrepTime      = 1200
		PackTime                = 1200
		ApproachRequiresLOS     = Yes
		AwardXPForTriggering    = 0
		WeaponTemplate  = ElvenThranduilBowDeadeye  ;HaldirDeadeye  ;GoodFactionArrowDeadeye  ;ElvenThranduilBowDeadeye1
		TargetRadius    = 200
		ShotsPerTarget  = 1
		ShotsPerBurst   = 20
		MaxShots        = 80
  		CanShootEmptyGround = Yes
	End
      End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Tonado basic,
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; I was going to make a Fire Tonado but i decided not too, maybe next map and/or version : P
;	Behavior = UnpauseSpecialPowerUpgrade ModulTag_ElrondTornadoEnabler
;		SpecialPowerTemplate	= SpecialPowerSpawnTornado
;		TriggeredBy				= Upgrade_ElrondTornado
;	End
;	Behavior = OCLSpecialPower	ModuleTag_OCLSpawnTornado
;		SpecialPowerTemplate	= SpecialPowerSpawnTornado
;		OCL						= SUPERWEAPON_SpawnWhirlwind
;		CreateLocation			= CREATE_AT_LOCATION
;		StartsPaused			= Yes
;	End
;
;	Behavior = AIUpdateInterface ModuleTag_03
;		AutoAcquireEnemiesWhenIdle = Yes ATTACK_BUILDINGS
;		MoodAttackCheckRate        = 500
;	End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>


End ; end add modules and shit
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Haldir models etc
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Object ElvenHaldir ;

	ReplaceModule ModuleTag_DRAW
	Draw = W3DScriptedModelDraw ModuleTag_DRAW1
		
		StaticModelLODMode					= yes
		OkToChangeModelColor = Yes
		
		; Sword version
		DefaultModelConditionState					
			Model							= EUHaldir_SKN
			Skeleton						= EUHaldir_SKL
			WeaponLaunchBone				= PRIMARY ARROW
			ParticleSysBone = B_SWORDBONE HaldirNormalSwordFire FollowBone:Yes
		End

		; Bow version
		ModelConditionState					= WEAPONSET_TOGGLE_1
			Model							= EUHaldir_SKN
			Skeleton						= EUHaldir_SKL
			ParticleSysBone = B_SWORDBONE HaldirBackSwordFire FollowBone:Yes
		End

		ModelConditionState = WEAPONSET_HERO_MODE
			ParticleSysBone = B_SWORDBONE HaldirSwordFire FollowBone:Yes
		End


;--- Arrow Wind Special attack

;		AnimationState        = UNPACKING PACKING_TYPE_1
;			Animation           = ATKA1
;				AnimationName     = RULegolas_ATKA1	;ATKH1
;				AnimationMode     = ONCE
;			End
;			StateName           = STATE_Bow
;			BeginScript
;				Prev = CurDrawablePrevAnimationState()
;				if Prev == "STATE_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwitchToBow") end
;				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
;			EndScript
;		End
	
	
		AnimationState        = PREPARING PACKING_TYPE_1
			Animation           = Bow ;ATKA2
				AnimationName     = EUHaldir_ATA2 ;RULegolas_ATKA2
				AnimationMode     = LOOP
				AnimationSpeedFactorRange = 1.328 1.328
			End
			StateName           = STATE_Bow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwitchToBow") end
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End
		
		AnimationState        = PACKING PACKING_TYPE_1
			Animation           = Bow ;ATKA3
				AnimationName     = EUHaldir_ATA2 ;RULegolas_ATKA3 
				AnimationMode     = LOOP
			End
			StateName           = STATE_Bow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwitchToBow") end
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End

;^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

		AnimationState						= PASSENGER WEAPONSET_TOGGLE_1
			StateName						= STATE_Grabbed
			Animation						= Bow
				AnimationName				= EUHaldir_FLYA
				AnimationMode				= LOOP
			End
		End
		AnimationState						= PASSENGER
			StateName						= STATE_Grabbed
			Animation						= Sword
				AnimationName				= EUHaldir_FLYB
				AnimationMode				= LOOP
			End
		End


		AnimationState						= FREEFALL WEAPONSET_TOGGLE_1
			StateName						= STATE_Falling
			Animation						= Bow
				AnimationName				= EUHaldir_FLYA
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
				AnimationSpeedFactorRange	= 0.5	0.5
			End
		End
		AnimationState						= FREEFALL
			StateName						= STATE_Falling
			Animation						= Sword
				AnimationName				= EUHaldir_FLYB
				AnimationMode				= LOOP
				AnimationBlendTime			= 10
				AnimationSpeedFactorRange	= 0.24 0.24
			End
		End


		AnimationState						= STUNNED_FLAILING WEAPONSET_TOGGLE_1
			StateName						= STATE_Fly
			Animation
				AnimationName				= EUHaldir_FLYA
				AnimationMode				= LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES2
		End
		AnimationState						= STUNNED_FLAILING
			StateName						= STATE_Fly
			Animation						= Sword
				AnimationName				= EUHaldir_FLYB
				AnimationMode				= LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES2
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "Ready_Bow" or PrevState == "Moving_Bow" or PrevState == "Bored_Bow"
				then
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "WantSword"
				elseif PrevState == "STATE_Fly"
				then
					if PrevAnim == "Bow" or PrevAnim == "WantSword"
					then
						CurDrawableShowSubObject("arrow")
						CurDrawableShowSubObject("arrownock")
						return "WantSword"
					end
				end
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				return "Sword"
			EndScript
		End


		AnimationState						= DYING DEATH_1 SPLATTED WEAPONSET_TOGGLE_1
			StateName						= STATE_Dead
			Animation						= Bow
				AnimationName				= EUHaldir_LNDA
				AnimationMode				= ONCE
			End
		End
		AnimationState						= DYING DEATH_1 SPLATTED
			StateName						= STATE_Dead
			Animation						= Sword
				AnimationName				= EUHaldir_LNDB
				AnimationMode				= ONCE
			End
		End


		AnimationState						= DYING DEATH_1 WEAPONSET_TOGGLE_1
			Animation						= Bow1
				AnimationName				= EUHaldir_DIEBV5
				AnimationMode				= ONCE
			End
			Animation						= Bow2
				AnimationName				= EUHaldir_DIEBV5
				AnimationMode				= ONCE
			End
			Animation						= WantBow
				AnimationName				= EUHaldir_LNDA
				AnimationMode				= ONCE
			End
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_Fly"
				then
					CurDrawableHideSubObject("ArrowNock")
					CurDrawableHideSubObject("arrow")
					return "WantBow"
				end
				if GetClientRandomNumberReal(0,2) < 1
				then
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "Bow1"
				else
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "Bow2"
				end
			EndScript
		End
		AnimationState						= DYING DEATH_1
			Animation						= Sword1
				AnimationName				= EUHaldir_DIESv5
				AnimationMode				= ONCE
			End
			Animation						= Sword2
				AnimationName				= EUHaldir_DIESV5
				AnimationMode				= ONCE
			End
			Animation						= WantSword
				AnimationName				= EUHaldir_LNDB
				AnimationMode				= ONCE
			End
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_Fly"
				then
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "WantSword"
				end
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if GetClientRandomNumberReal(0,2) < 1
				then
					return "Sword1"
				else
					return "Sword2"
				end
			EndScript
		End


		AnimationState						= DYING DEATH_2 WEAPONSET_TOGGLE_1
			Animation						= FadeOut
				AnimationName				= EUHaldir_DIEBV5
				AnimationMode				= ONCE
			End
		End
		AnimationState						= DYING DEATH_2
			Animation						= FadeOut
				AnimationName				= EUHaldir_DIESV5
				AnimationMode				= LOOP
			End
		End


		AnimationState						= STUNNED_STANDING_UP WEAPONSET_TOGGLE_1
			StateName						= STATE_GetUp
			Animation						= Bow
				AnimationName				= EUHaldir_GTPB
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 1.42 1.42
			End
			Animation						= WantBow
				AnimationName				= EUHaldir_GTPSX1
				AnimationMode				= ONCE
			End
			Flags						= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_GetUp" or PrevState == "STATE_Land"
				then	
					if PrevAnim == "WantBow" or PrevAnim == "Sword"
					then
						CurDrawableHideSubObject("ArrowNock")
						CurDrawableHideSubObject("arrow")
						return "WantBow"
					end
				else
					CurDrawableShowSubObject("arrow")
					CurDrawableShowSubObject("arrownock")
					return "Bow"
				end
			EndScript
		End
		AnimationState						= STUNNED_STANDING_UP
			StateName						= STATE_GetUp
			Animation						= Sword
				AnimationName				= EUHaldir_GTPSX1
				AnimationMode				= ONCE
				AnimationSpeedFactorRange	= 1.2	1.2
			End
			Animation						= WantSword
				AnimationName				= EUHaldir_GTPB
				AnimationMode				= ONCE
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_GetUp" or PrevState == "STATE_Land"
				then
					if PrevAnim == "Bow" or PrevAnim == "WantSword"
					then	
						CurDrawableShowSubObject("arrow")
						CurDrawableShowSubObject("arrownock")
						return "WantSword"
					end
				end
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				return "Sword"
			EndScript
		End


		AnimationState						= STUNNED WEAPONSET_TOGGLE_1
			StateName						= STATE_Land
			Animation						= Bow
				AnimationName				= EUHaldir_LNDA
				AnimationMode				= ONCE
			End
			Animation						= WantBow
				AnimationName				= EUHaldir_LNDB
				AnimationMode				= ONCE
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES3
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_Fly"
				then
					if PrevAnim == "WantBow" or PrevAnim == "Sword"
					then
						CurDrawableHideSubObject("ArrowNock")
						CurDrawableHideSubObject("arrow")
						return "WantBow"
					end
				end
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				return "Bow"
			EndScript
		End
		AnimationState						= STUNNED
			StateName						= STATE_Land
			Animation						= Sword
				AnimationName				= EUHaldir_LNDB
				AnimationMode				= ONCE
			End
			Animation						= WantSword
				AnimationName				= EUHaldir_LNDA
				AnimationMode				= ONCE
			End
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				PrevAnim = CurDrawablePrevAnimation()
				if PrevState == "STATE_Fly"
				then
					if PrevAnim == "WantSword" or PrevAnim == "Bow"
					then
						CurDrawableShowSubObject("arrow")
						CurDrawableShowSubObject("arrownock")
						return "WantSword"
					end
				end
				Flags						= MAINTAIN_FRAME_ACROSS_STATES3
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				return "Sword"
			EndScript
		End

		AnimationState						= PARALYZED
			Animation
				AnimationName				= EUHaldir_IDLF
				AnimationMode				= LOOP
			End
		End


		AnimationState						= FIRING_OR_PREATTACK_A WEAPONSET_TOGGLE_1
			StateName						= Attacking_Bow
			Animation
				AnimationName				= EUHaldir_ATA2
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
				AnimationBlendTime			= 20
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ArrowNock")
			EndScript
		End
		AnimationState						= FIRING_OR_PREATTACK_A
			StateName						= Ready_Sword
			
			Animation						= AttackWithSwordA
				AnimationName				= EUHaldir_ATKSV2
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
			End
			Animation						= AttackWithSwordB
				AnimationName				= EUHaldir_ATKSV2
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
			End
			Animation						= AttackWithSwordD
				AnimationName				= EUHaldir_ATKSV4
				AnimationMode				= ONCE
				UseWeaponTiming				= Yes
			End
			BeginScript
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
			EndScript
		End

		AnimationState						= SPECIAL_WEAPON_ONE
			Animation
				AnimationName				= EUHaldir_SPCA
				AnimationMode				= ONCE
			End
			FrameForPristineBonePositions	= 60
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
			EndScript
		End


		AnimationState						= MOVING WEAPONSET_TOGGLE_1
			StateName						= Moving_Bow
			Animation
				AnimationName				= EUHaldir_RUNB
				AnimationMode				= LOOP
			End
			Flags = RANDOMSTART
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Moving_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Moving") end
			EndScript
		End
		AnimationState						= MOVING
			StateName						= Moving_Sword
			Animation
				AnimationName				= EUHaldir_RUNS
				AnimationMode				= LOOP
			End
			Flags = RANDOMSTART
			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Moving_Bow" then CurDrawableSetTransitionAnimState("TRANS_BowToSword_Moving") end
			EndScript
		End


		AnimationState						= PREATTACK_A WEAPONSET_TOGGLE_1
			Animation						= ReadyToDrawn
				AnimationName				= EUHaldir_ATA1
				AnimationMode				= ONCE
				AnimationBlendTime			= 0
				UseWeaponTiming				= Yes
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ArrowNock")
			EndScript
		End

		AnimationState						= FIRING_OR_RELOADING_A WEAPONSET_TOGGLE_1
			StateName						= STATE_Firing
			Animation
				AnimationName				= EUHaldir_ATA2
				AnimationMode				= ONCE
				AnimationBlendTime			= 30
				UseWeaponTiming				= Yes
				AnimationSpeedFactorRange	= 1.5 1.5
			End
			Flags							= START_FRAME_FIRST
			BeginScript
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("ArrowNock")
			EndScript
		End


		AnimationState						= MOVING BACKING_UP WEAPONSET_TOGGLE_1
			StateName						= STATE_BackingUp
			Animation						= Bow
				AnimationName				= EUHaldir_BAKB
				AnimationMode				= LOOP
			End
			Animation						= WantBow
				AnimationName				= EUHaldir_BAKS
				AnimationMode				= LOOP
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				if PrevState == "STATE_BackingUp"
				then
					if PrevAnim == "WantBow" or PrevAnim == "Sword"
					then
						return "WantBow"
					end
				end
				return "Bow"
			EndScript
		End
		AnimationState						= MOVING BACKING_UP
			StateName						= STATE_BackingUp
			Animation						= Sword
				AnimationName				= EUHaldir_BAKS
				AnimationMode				= LOOP
			End
			Animation						= WantSword
				AnimationName				= EUHaldir_BAKS
				AnimationMode				= LOOP
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES4
			BeginScript
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				if PrevState == "STATE_BackingUp"
				then
					if PrevAnim == "Bow" or PrevAnim == "WantSword"
					then
						return "WantSword"
					end
				end
				return "Sword"
			EndScript
		End


		AnimationState						= CONTINUOUS_FIRE_MEAN
			Animation						= HangFrameWhileCoasting
				AnimationName				= EUHaldir_ATA2
				AnimationMode				= MANUAL
				AnimationBlendTime			= 20
			End
			Flags							= START_FRAME_LAST
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ARROWNOCK")
				if CurDrawablePrevAnimationState() == "STATE_Firing" then CurDrawableAllowToContinue() end
			EndScript
			;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
			;;;;
			;;;;	VERY IMPORTANT ARCHER INFORMATION
			;;;;	THIS WILL STOP THE JITTERS, AND BEST
			;;;;	YET, IT'S A COMPLETE HACK! Just look above.
			;;;;	We say that if we get into this state
			;;;;	from firing, just continue to fire. DONE.
			;;;;
			;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
		End
		AnimationState						= CONTINUOUS_FIRE_SLOW
			StateName						= Ready_Bow
			Animation						= PutAwayArrow
				AnimationName				= EUHaldir_ATA3
				AnimationMode				= ONCE
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("ARROWNOCK")
			EndScript
		End


		AnimationState						= ATTACKING WEAPONSET_TOGGLE_1
			StateName						= Ready_Bow
			Animation						= IDLB
				AnimationName				= EUHaldir_IDLB
				AnimationMode				= LOOP
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bored_Bow" then CurDrawableSetTransitionAnimState("TRANS_BR_Bow") end
				if Prev == "Selected_Bow" then CurDrawableSetTransitionAnimState("TRANS_SelectedToReady_Bow") end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
				end
			EndScript
		End
		AnimationState						= ATTACKING
			StateName						= Ready_Sword
			Animation						= Alert_1
				AnimationName				= EUHaldir_IDLST1
				AnimationMode				= LOOP
			End
			BeginScript
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if Prev == "Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_BR_Sword") end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
				end
			EndScript
		End


		AnimationState						= ENGAGED WEAPONSET_TOGGLE_1
			StateName						= Ready_Bow
			Animation						= IDLB
				AnimationName				= EUHaldir_IDLB
				AnimationMode				= LOOP
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bored_Bow"		then CurDrawableSetTransitionAnimState("TRANS_BR_Bow")				end
				if Prev == "Selected_Bow"	then CurDrawableSetTransitionAnimState("TRANS_SelectedToReady_Bow")				end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")	
				end
			EndScript
		End
		AnimationState						= ENGAGED
			StateName						= Ready_Sword
			Animation						= Alert_1
				AnimationName				= EUHaldir_IDLST1
				AnimationMode				= LOOP
			End
			BeginScript
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if Prev == "Bored_Sword"		then CurDrawableSetTransitionAnimState("TRANS_BR_Sword")			end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")	
				end
			EndScript
		End


		AnimationState						= EMOTION_ALERT WEAPONSET_TOGGLE_1
			StateName						= Ready_Bow
			Animation						= IDLB
				AnimationName				= EUHaldir_IDLB
				AnimationMode				= LOOP
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Bored_Bow"		then CurDrawableSetTransitionAnimState("TRANS_BR_Bow") end
				if Prev == "Selected_Bow"	then CurDrawableSetTransitionAnimState("TRANS_SelectedToReady_Bow") end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")	
				end				
			EndScript
		End 
		AnimationState						= EMOTION_ALERT
			StateName						= Ready_Sword
			Animation						= Alert_1
				AnimationName				= EUHaldir_IDLST1
				AnimationMode				= LOOP
			End
			BeginScript
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				if Prev == "Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_BR_Sword") end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")	
				end
			EndScript
		End


		AnimationState						= EMOTION_CELEBRATING WEAPONSET_TOGGLE_1
			StateName						= STATE_Emotion_Bow
			Animation						= Bow
				AnimationName				= EUHaldir_CHRB
				AnimationMode				= ONCE
			End
			Animation						= Bow2
				AnimationName				= EUHaldir_CHRB
				AnimationMode				= ONCE
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
					end
				elseif PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_SelectedToReady_Bow")
				end
			EndScript
		End
		AnimationState						= EMOTION_CELEBRATING
			StateName						= STATE_Emotion_Sword
			Animation						= Sword
				AnimationName				= EUHaldir_CHRS
				AnimationMode				= ONCE
			End
			Animation						= Sword2
				AnimationName				= EUHaldir_CHRS
				AnimationMode				= ONCE
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				elseif PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Bored_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Sword")
				end
			EndScript
		End
		


		AnimationState						= EMOTION_TAUNTING WEAPONSET_TOGGLE_1
			StateName						= STATE_Emotion_Bow
			Animation						= Bow1
				AnimationName				= EUHaldir_TNTA
				AnimationMode				= ONCE
			End
			Animation						= Bow2
				AnimationName				= EUHaldir_TNTA
				AnimationMode				= ONCE
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
					end
				elseif PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_SelectedToReady_Bow")
				elseif PrevState == "Bored_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Bow")
				end
			EndScript
		End
		AnimationState						= EMOTION_TAUNTING
			StateName						= STATE_Emotion_Sword
			Animation						= Sword
				AnimationName				= EUHaldir_TNTB
				AnimationMode				= ONCE
			End
			Animation						= Sword2
				AnimationName				= EUHaldir_TNTB
				AnimationMode				= ONCE
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				elseif PrevState == "STATE_Emotion_Sword"
					then
						CurDrawableAllowToContinue()
				elseif PrevState == "Bored_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Sword")
				end
			EndScript
		End


		AnimationState						= EMOTION_POINTING WEAPONSET_TOGGLE_1
			StateName						= STATE_Emotion_Bow
			Animation						= Bow
				AnimationName				= EUHaldir_PNTA
				AnimationMode				= ONCE
			End
			Animation						= Bow2
				AnimationName				= EUHaldir_PNTA
				AnimationMode				= ONCE
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Ready")
					end
				elseif PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Selected_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_SelectedToReady_Bow")
				elseif PrevState == "Bored_Bow"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Bow")
				end
			EndScript
		End
		AnimationState						= EMOTION_POINTING
			StateName						= STATE_Emotion_Sword
			Animation						= Sword
				AnimationName				= EUHaldir_PNTB
				AnimationMode				= ONCE
			End
			Animation						= Sword2
				AnimationName				= EUHaldir_PNTB
				AnimationMode				= ONCE
			End
			Flags							= MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				PrevState = CurDrawablePrevAnimationState()
				CurDrawableHideSubObject("arrow")
				CurDrawableHideSubObject("arrownock")
				
				if PrevState == "STATE_Emotion_Bow"
				then
					CurDrawableAllowToContinue()
					if( CurDrawablePrevAnimFraction() > .89 )
					then
						CurDrawableSetTransitionAnimState("TRANS_BowToSword_Ready")
					end
				elseif PrevState == "STATE_Emotion_Sword"
				then
					CurDrawableAllowToContinue()
				elseif PrevState == "Bored_Sword"
				then
					CurDrawableSetTransitionAnimState("TRANS_BR_Sword")
				end
			EndScript
		End


		AnimationState 						= HIT_REACTION HIT_LEVEL_1 WEAPONSET_TOGGLE_1
			StateName						= Bored_Bow
			Animation
				AnimationName				= EUHaldir_HITA
				AnimationMode 				= ONCE
				AnimationSpeedFactorRange	= .9 .9
			End
		End
		AnimationState						= HIT_REACTION HIT_LEVEL_1
			StateName						= Bored_Sword
			Animation
				AnimationName				= EUHaldir_HITE
				AnimationMode				= ONCE
			End
		End

		AnimationState						= RAISING_FLAG WEAPONSET_TOGGLE_1
			StateName						= STATE_Emotion_Bow
			Animation						= Bow
				AnimationName				= EUHaldir_CHRB
				AnimationMode				= ONCE
			End
			Animation						= Bow2
				AnimationName				= EUHaldir_CHRB
				AnimationMode				= ONCE
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
		End

		AnimationState						= SELECTED WEAPONSET_TOGGLE_1
			StateName						= Selected_Bow
			Animation						= ATNE
				AnimationName				= EUHaldir_ATNE
				AnimationMode				= LOOP
			End
			BeginScript
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Emotion_Bow" or Prev == "STATE_Emotion_Sword" then CurDrawableAllowToContinue() end
				if Prev == "Bored_Bow" then CurDrawableSetTransitionAnimState("TRANS_BoredToSelected_Bow") end
				if Prev == "Ready_Bow" then CurDrawableSetTransitionAnimState("TRANS_RS_Bow") end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Selected")	
				end
			EndScript
		End

		AnimationState						= RAISING_FLAG
			StateName						= STATE_Emotion_Sword
			Animation						= Sword
				AnimationName				= EUHaldir_CHRS
				AnimationMode				= ONCE
			End
			Animation						= Sword2
				AnimationName				= EUHaldir_CHRS
				AnimationMode				= ONCE
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
		End
		
		AnimationState						= SELECTED
			StateName						= Selected_Sword
			Animation						= ATNA
				AnimationName				= EUHaldir_ATNS
				AnimationMode				= LOOP
			End
			BeginScript
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Emotion_Bow" or Prev == "STATE_Emotion_Sword" then CurDrawableAllowToContinue() end
				if Prev == "Bored_Sword" then CurDrawableSetTransitionAnimState("TRANS_BoredToSelected_Sword") end
				if Prev == "Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_ReadyToSelected_Sword") end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword" or PrevAnim == "EUHaldir_STHB"
				then
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Selected")
				end
			EndScript
		End


		IdleAnimationState
			StateName						= Bored_Sword
			Animation						= Idle_Sword1
				AnimationName				= EUHaldir_IDLF
				AnimationMode				= ONCE
			End
			Animation						= Idle_Sword2
				AnimationName				= EUHaldir_IDLF
				AnimationMode				= ONCE
			End
			Animation						= Idle_Sword3
				AnimationName				= EUHaldir_IDLF
				AnimationMode				= ONCE
			End
			Animation						= IdleNoFidget
				AnimationName				= EUHaldir_IDLF
				AnimationMode				= ONCE
				AnimationPriority			= 20
			End
			Animation						= IdleNoFidget2
				AnimationName				= EUHaldir_IDLF
				AnimationMode				= ONCE
				AnimationPriority			= 0
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
			BeginScript
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "TRANS_SelectedToBored_Sword" or Prev == "TRANS_RB_Sword" then return "IdleNoFidget" end
				if Prev == "Selected_Sword" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBored_Sword") end
				if Prev == "Ready_Sword" then CurDrawableSetTransitionAnimState("TRANS_RB_Sword") end
				if Prev == "Selected_Bow" or Prev == "Moving_Bow" or Prev == "Ready_Bow" or Prev == "Bored_Bow" or PrevAnim == "WantSword"
				then 
					CurDrawableSetTransitionAnimState("TRANS_BowToSword_Selected")
				end
			EndScript
		End


		AnimationState						= WEAPONSET_TOGGLE_1
			StateName						= Bored_Bow
			Animation						= IdleBowB
				AnimationName				= EUHaldir_IDLE
				AnimationMode				= ONCE
			End
			Animation						= IdleBowD
				AnimationName				= EUHaldir_IDLE
				AnimationMode				= ONCE
			End
			Animation						= IdleNoFidget
				AnimationName				= EUHaldir_IDLE
				AnimationMode				= ONCE
				AnimationPriority			= 20
			End
			Animation						= IdleNoFidget2
				AnimationName				= EUHaldir_IDLE
				AnimationMode				= ONCE
				AnimationPriority			= 10
			End
			Flags							= RESTART_ANIM_WHEN_COMPLETE
			BeginScript	
				CurDrawableShowSubObject("arrow")
				CurDrawableShowSubObject("arrownock")
				PrevAnim = CurDrawablePrevAnimation()
				Prev = CurDrawablePrevAnimationState()
				if Prev == "TRANS_SelectedToBored_Bow" or Prev == "TRANS_RB_Bow" then return "IdleNoFidget" end
				if Prev == "Selected_Bow" then CurDrawableSetTransitionAnimState("TRANS_SelectedToBored_Bow") end
				if Prev == "Ready_Bow" then CurDrawableSetTransitionAnimState("TRANS_RB_Bow") end
				if Prev == "Selected_Sword" or Prev == "Moving_Sword" or Prev == "Ready_Sword" or Prev == "Bored_Sword" or PrevAnim == "WantBow"
				then 
					CurDrawableSetTransitionAnimState("TRANS_SwordToBow_Selected")
				end
			EndScript
		End


		; Transitions

		TransitionState						= TRANS_BoredToSelected_Bow
			Animation
				AnimationName				= EUHaldir_ATNB
				AnimationMode				= ONCE
				AnimationBlendTime			= 10
			End
		End


		TransitionState						= TRANS_SelectedToReady_Bow
			Animation						= ATNE
				AnimationName				= EUHaldir_IDLB
				AnimationMode				= ONCE
				AnimationBlendTime			= 10
			End
		End


		TransitionState						= TRANS_SelectedToBored_Bow
			Animation
				AnimationName				= EUHaldir_ATNB
				AnimationMode				= ONCE_BACKWARDS
			End
			Flags							= START_FRAME_LAST
		End


		TransitionState						= TRANS_RS_Bow
			Animation						= ATNF
				AnimationName				= EUHaldir_IDLB
				AnimationMode				= ONCE_BACKWARDS
				AnimationBlendTime			= 10
			End
			Flags							= START_FRAME_LAST
		End


		TransitionState						= TRANS_BR_Bow
			Animation						= IDLB
				AnimationName				= EUHaldir_IDLST1
				AnimationMode				= ONCE
				AnimationBlendTime			= 20
			End
		End


		TransitionState						= TRANS_RB_Bow
			Animation						= IDLD
				AnimationName				= EUHaldir_IDLB
				AnimationMode				= ONCE
				AnimationBlendTime			= 20
			End
		End


		TransitionState					= TRANS_BoredToSelected_Sword
			Animation					= ATNA
				AnimationName			= EUHaldir_ATNA
				AnimationMode			= ONCE
			End
		End


		TransitionState					= TRANS_SR_Sword
			Animation					= ATNC
				AnimationName			= EUHaldir_STHA
				AnimationMode			= ONCE
			End
		End


		TransitionState					= TRANS_SelectedToBored_Sword
			Animation					= ATNA
				AnimationName			= EUHaldir_ATNA
				AnimationMode			= ONCE_BACKWARDS
			End
			Flags						= START_FRAME_LAST
		End


		TransitionState					= TRANS_ReadyToSelected_Sword
			Animation					= ATNC
				AnimationName			= EUHaldir_IDLST1
				AnimationMode			= ONCE_BACKWARDS
				AnimationBlendTime		= 20
			End
			Flags						= START_FRAME_LAST
		End


		TransitionState					= TRANS_BR_Sword
			Animation					= ATNS
				AnimationName			= EUHaldir_STHA
				AnimationMode			= ONCE
				AnimationBlendTime		= 20
			End
		End


		TransitionState					= TRANS_RB_Sword
			Animation					= IDLG
				AnimationName			= EUHaldir_STHA
				AnimationMode			= ONCE
				AnimationBlendTime		= 20
			End
		End
		


		TransitionState					= TRANS_SwordToBow_Moving
			Animation					= DrawBow
				AnimationName			= EUHaldir_STHC
				AnimationMode			= ONCE
			End
		End


		TransitionState					= TRANS_BowToSword_Moving
			Animation					= DrawSword
				AnimationName			= EUHaldir_STHD
				AnimationMode			= ONCE
			End
		End


		TransitionState					= TRANS_BowToSword_Ready
			Animation					= DrawSwords
				AnimationName			= EUHaldir_STHA
				AnimationMode			= ONCE
			End
		End


		TransitionState					= TRANS_SwordToBow_Ready
			Animation					= DrawBow
				AnimationName			= EUHaldir_STHB
				AnimationMode			= ONCE
			End
		End


		TransitionState					= TRANS_BowToSword_Selected
			Animation					= DrawSwords
				AnimationName			= EUHaldir_STHA
				AnimationMode			= ONCE
			End
		End


		TransitionState					= TRANS_SwordToBow_Selected
			Animation					= DrawBow
				AnimationName			= EUHaldir_STHB
				AnimationMode			= ONCE
			End
		End
	End
	End


;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>> 
;When Haldir Dies He Makes Ring of Fire Wave
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

  AddModule
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_DIELIKETHIS
    StartsActive = Yes
    DeathWeapon = RingOfFirePower
  End
  End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>


End ; END HALDIR

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<GIMLI>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; FXs
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXParticleSystem GSlamWave1 ; redo this FX
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = EXShockWav.tga
    Lifetime = 40 40
    SystemLifetime = 10
    SortLevel = 1
    Size = 2 2
    BurstCount = 6 12
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:53 G:40 B:21 0
    Color2 = R:65 G:49 B:33 40
    ColorScale = -5 3
  End
  Alpha = DefaultAlpha
    Alpha1 = 0.5 0.5 0
    Alpha2 = 0 0 30
  End
  Update = DefaultUpdate
    SizeRate = 7 7
    SizeRateDamping = 1 1
    AngleZ = -1 1
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.8 0.8
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = PointEmissionVolume
    IsHollow = Yes
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem GSlamWave2
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = EXsmokeplume.tga
    Lifetime = 25 35
    SystemLifetime = 7
    SortLevel = 1
    Size = 2 2
    BurstCount = 50 62
    InitialDelay = 1 1
  End
  Color = DefaultColor
    Color1 = R:160 G:142 B:82 0
    Color2 = R:164 G:132 B:108 25
    ColorScale = -50 20
  End
  Alpha = DefaultAlpha
    Alpha1 = 0.3 0.6 0
    Alpha2 = 0 0 25
  End
  Update = DefaultUpdate
    SizeRate = 5 10
    SizeRateDamping = 0.8 0.7
    AngleZ = -1 1
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = -0.5
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
    X = -4 4
    Y = -2 2
    Z = 4 9
  End
  EmissionVolume = CylinderEmissionVolume
    Radius = 120
    Length = 2
    Offset = X:0 Y:0 Z:-40
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem GloinShatterwave3
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = EXsmokeplume.tga
    Lifetime = 80 80
    SystemLifetime = 8
    Size = 1 2
    BurstCount = 20 20
  End
  Color = DefaultColor
    Color1 = R:86 G:68 B:35 0
    Color2 = R:108 G:89 B:49 8
    Color3 = R:111 G:87 B:45 40
    ColorScale = -50 20
  End
  Alpha = DefaultAlpha
    Alpha1 = 0 0.1 0
    Alpha2 = 0.2 0.3 2
    Alpha3 = 0 0 80
  End
  Update = DefaultUpdate
    SizeRate = 3 3
    SizeRateDamping = 0.95 0.97
    AngleZ = -3 3
    AngularRateZ = 0.01 0.02
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.96 0.97
    DriftVelocity = X:0 Y:0 Z:0.1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = CylinderEmissionVolume
    IsHollow = Yes
    Radius = 5
    RadiusRate = 14
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Very Big Wave Ring
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem QuakeWave1 ;
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = EXShockWav.tga
    Lifetime = 10 10
    SystemLifetime = 10
    SortLevel = 1
    Size = 2 20
    BurstCount = 6 12
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:53 G:40 B:21 0
    Color2 = R:65 G:49 B:33 40
    ColorScale = -5 3
  End
  Alpha = DefaultAlpha
    Alpha1 = 0.5 0.5 0
    Alpha2 = 0 0 30
  End
  Update = DefaultUpdate
    SizeRate = 18 15
    SizeRateDamping = 1 1
    AngleZ = -1 1
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.8 0.8
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = PointEmissionVolume
    IsHollow = Yes
  End
  Draw = DefaultDraw
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Dirt FXs New is falling from high up, ground is coming from the ground and going back down again.
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem NewDirtFalling
  System
    Priority = HIGH_OR_ABOVE
    Shader = ALPHA_TEST
    ParticleName = EXDebris01.tga
    Lifetime = 50 50
    SystemLifetime = 150
    Size = 4 4
    BurstDelay = 1 10
    BurstCount = 20 30
  End
  Color = DefaultColor
    Color1 = R:116 G:84 B:41 0
  End
  Alpha = DefaultAlpha
    Alpha1 = 1 1 0
  End
  Update = DefaultUpdate
    SizeRateDamping = 0.5 0.55
    AngleZ = -7 7
    AngularRateZ = -0.5 0.5
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = -0.2
    VelocityDamping = 0.95 0.99
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = SphereEmissionVolume
    Radius = 600
  End
  Draw = DefaultDraw
  End
End


FXParticleSystem GroundDirtFlying
  System
    Priority = HIGH_OR_ABOVE
    Shader = ALPHA_TEST
    ParticleName = EXDebris01.tga
    Lifetime = 30 30
    SystemLifetime = 50
    Size = 2 2
    BurstDelay = 1 10
    BurstCount = 50 60
  End
  Color = DefaultColor
    Color1 = R:116 G:84 B:41 0
  End
  Alpha = DefaultAlpha
    Alpha1 = 1 1 0
  End
  Update = DefaultUpdate
    SizeRateDamping = 0.5 0.55
    AngleZ = -7 7
    AngularRateZ = -0.5 0.5
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = 0.06
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = SphereEmissionVolume
    Radius = 600
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;FX LISTS
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXList FX_GSlam
  ParticleSystem
    Name = GloinBlastFinalLight
    Offset = X:0.0 Y:0.0 Z:20   ;Z:8.0
  End
  ParticleSystem
    Name = GSlamWave1
    Offset = X:0.0 Y:0.0 Z:20.0
  End
  ParticleSystem
    Name = GSlamWave2
    Offset = X:0.0 Y:0.0 Z:16.0
  End
  ParticleSystem
    Name = GSlamWave3
    Offset = X:0.0 Y:0.0 Z:15.0
  End

  Sound
    Name = GloinShatterHammer
  End
 DynamicDecal	; A decal that belongs to nobody, but updates internally to fade and tint and such
		DecalName		= EXCracks04
		Size			= 320
		Color			= R:105 G:105 B:105
		Offset			= X:00 Y:00
		OpacityStart		= 0
		OpacityFadeTimeOne	= 200
		OpacityPeak			= 220	
		OpacityPeakTime		= 250
		OpacityFadeTimeTwo	= 30000
		OpacityEnd			= 0

		StartingDelay	= 350
		Lifetime		= 34000
	End
	ViewShake 
    Type = NORMAL ; NORMAL and SUBTLE are the next choices
  End
; These make the cracks you see after he uses the weapon.<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
 DynamicDecal	; A decal that belongs to nobody, but updates internally to fade and tint and such
		DecalName		= EXCracks04
		Size			= 120
		Color			= R:55 G:55 B:55
		Offset			= X:00 Y:00
		OpacityStart		= 0
		OpacityFadeTimeOne	= 200
		OpacityPeak			= 220	
		OpacityPeakTime		= 250
		OpacityFadeTimeTwo	= 30000
		OpacityEnd			= 0

		StartingDelay	= 350
		Lifetime		= 34000
	End
	ViewShake 
    Type = NORMAL ; NORMAL and SUBTLE are the next choices
  End

 DynamicDecal	; A decal that belongs to nobody, but updates internally to fade and tint and such
		DecalName		= EXCracks04
		Size			= 50
		Color			= R:55 G:55 B:55
		Offset			= X:30 Y:04
		OpacityStart		= 0
		OpacityFadeTimeOne	= 220
		OpacityPeak			= 240	
		OpacityPeakTime		= 270
		OpacityFadeTimeTwo	= 32000
		OpacityEnd			= 0

		StartingDelay	= 350
		Lifetime		= 36000
	End
	ViewShake 
    Type = NORMAL ; NORMAL and SUBTLE are the next choices
  End

 DynamicDecal	; A decal that belongs to nobody, but updates internally to fade and tint and such
		DecalName		= EXCracks04
		Size			= 70
		Color			= R:55 G:55 B:55
		Offset			= X:-10 Y:14
		OpacityStart		= 0
		OpacityFadeTimeOne	= 200
		OpacityPeak			= 220	
		OpacityPeakTime		= 250
		OpacityFadeTimeTwo	= 30000
		OpacityEnd			= 0

		StartingDelay	= 350
		Lifetime		= 34000
	End
	ViewShake 
    Type = NORMAL ; NORMAL and SUBTLE are the next choices
  End

 DynamicDecal	; A decal that belongs to nobody, but updates internally to fade and tint and such
		DecalName		= EXCracks04
		Size			= 30
		Color			= R:55 G:55 B:55
		Offset			= X:0 Y:-24
		OpacityStart		= 0
		OpacityFadeTimeOne	= 200
		OpacityPeak			= 220	
		OpacityPeakTime		= 250
		OpacityFadeTimeTwo	= 30000
		OpacityEnd			= 0

		StartingDelay	= 350
		Lifetime		= 34000
	End
	ViewShake 
    Type = NORMAL ; NORMAL and SUBTLE are the next choices
  End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Make Camera shake when gimli uses his quake power
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
  CameraShakerVolume
    Radius = 400
    Duration_Seconds = 2.0
    Amplitude_Degrees = 0.3
  End

End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Gimli earth quake
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXList FX_GimliEarthQuake
  ParticleSystem
    Name = GloinBlastFinalLight
    Offset = X:0.0 Y:0.0 Z:20   ;Z:8.0
  End
  ParticleSystem
    Name = QuakeWave1
    Offset = X:0.0 Y:0.0 Z:20.0
  End
  ParticleSystem
    Name = GSlamWave2
    Offset = X:0.0 Y:0.0 Z:16.0
  End
  ParticleSystem
    Name = GSlamWave3
    Offset = X:0.0 Y:0.0 Z:15.0
  End

  ParticleSystem
    Name = NewDirtFalling
    Offset = X:0.0 Y:0.0 Z:105.0
  End

;  ParticleSystem
;    Name = GroundDirtFlying
;    Offset = X:0.0 Y:0.0 Z:5.0
;  End



  Sound
    Name = GloinShatterHammer
  End
 DynamicDecal	; A decal that belongs to nobody, but updates internally to fade and tint and such
		DecalName		= EXCracks04
		Size			= 620
		Color			= R:105 G:105 B:105
		Offset			= X:00 Y:00
		OpacityStart		= 0
		OpacityFadeTimeOne	= 200
		OpacityPeak			= 220	
		OpacityPeakTime		= 250
		OpacityFadeTimeTwo	= 30000
		OpacityEnd			= 0

		StartingDelay	= 350
		Lifetime		= 34000
	End
	ViewShake 
    Type = NORMAL ; NORMAL and SUBTLE are the next choices
  End
; These make the cracks you see after he uses the weapon.<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<
 DynamicDecal	; A decal that belongs to nobody, but updates internally to fade and tint and such
		DecalName		= EXCracks04
		Size			= 320
		Color			= R:55 G:55 B:55
		Offset			= X:00 Y:00
		OpacityStart		= 0
		OpacityFadeTimeOne	= 200
		OpacityPeak			= 220	
		OpacityPeakTime		= 250
		OpacityFadeTimeTwo	= 30000
		OpacityEnd			= 0

		StartingDelay	= 450
		Lifetime		= 34000
	End
	ViewShake 
    Type = NORMAL ; NORMAL and SUBTLE are the next choices
  End

 DynamicDecal	; A decal that belongs to nobody, but updates internally to fade and tint and such
		DecalName		= EXCracks04
		Size			= 120
		Color			= R:55 G:55 B:55
		Offset			= X:-130 Y:104
		OpacityStart		= 0
		OpacityFadeTimeOne	= 220
		OpacityPeak			= 240	
		OpacityPeakTime		= 270
		OpacityFadeTimeTwo	= 32000
		OpacityEnd			= 0

		StartingDelay	= 450
		Lifetime		= 36000
	End
	ViewShake 
    Type = NORMAL ; NORMAL and SUBTLE are the next choices
  End

 DynamicDecal	; A decal that belongs to nobody, but updates internally to fade and tint and such
		DecalName		= EXCracks04
		Size			= 170
		Color			= R:55 G:55 B:55
		Offset			= X:-100 Y:-40
		OpacityStart		= 0
		OpacityFadeTimeOne	= 200
		OpacityPeak			= 220	
		OpacityPeakTime		= 250
		OpacityFadeTimeTwo	= 30000
		OpacityEnd			= 0

		StartingDelay	= 450
		Lifetime		= 34000
	End
	ViewShake 
    Type = NORMAL ; NORMAL and SUBTLE are the next choices
  End

 DynamicDecal	; A decal that belongs to nobody, but updates internally to fade and tint and such
		DecalName		= EXCracks04
		Size			= 200
		Color			= R:55 G:55 B:55
		Offset			= X:100 Y:24
		OpacityStart		= 0
		OpacityFadeTimeOne	= 200
		OpacityPeak			= 220	
		OpacityPeakTime		= 250
		OpacityFadeTimeTwo	= 30000
		OpacityEnd			= 0

		StartingDelay	= 450
		Lifetime		= 34000
	End
	ViewShake 
    Type = NORMAL ; NORMAL and SUBTLE are the next choices
  End

 DynamicDecal	; A decal that belongs to nobody, but updates internally to fade and tint and such
		DecalName		= EXCracks03 
		Size			= 100
		Color			= R:55 G:55 B:55
		Offset			= X:0 Y:0
		OpacityStart		= 0
		OpacityFadeTimeOne	= 200
		OpacityPeak			= 220	
		OpacityPeakTime		= 250
		OpacityFadeTimeTwo	= 30000
		OpacityEnd			= 0

		StartingDelay	= 450
		Lifetime		= 94000
	End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Make Camera shake when gimli uses his quake power
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
  CameraShakerVolume
    Radius = 2500
    Duration_Seconds = 4.0
    Amplitude_Degrees = 0.5
  End

End


;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;GIMLI ABILLITY TIMERS
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

SpecialPower SpecialAbilityAxeWind
  Enum              = SPECIAL_ARROW_STORM
  ReloadTime        = 160000
  PublicTimer       = No
  RadiusCursorRadius = 220.0
  ViewObjectDuration = 5000
  ViewObjectRange = 120
End

SpecialPower SpecialAbilityGimliLeap
	Enum			= SPECIAL_GIMLI_LEAP
	ReloadTime		= 20000
	PublicTimer		= No
	RadiusCursorRadius	= 35.0
End

SpecialPower SpecialAbilityGimliAxe
	Enum			= SPECIAL_AT_VISIBLE_OBJECT
	ReloadTime		= 30000
	PublicTimer		= No
End

SpecialPower SpecialAbilityGSlam
	Enum					= SPECIAL_AT_VISIBLE_GROUNDED_OBJECT
	ReloadTime				= 120000
End

SpecialPower SpecialAbilityGimliQuake
	Enum			= SPECIAL_GENERAL_TARGETLESS
	ReloadTime		= 220000 ;
	RadiusCursorRadius = GLOIN_SMASH_WEAPON_RADIUS
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Other Timers
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; GIMLI ABILLITY WEAPONS
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Weapon GSlamWeapon
	RadiusDamageAffects		= ENEMIES
	LeechRangeWeapon		= Yes
	CanFireWhileMoving		= No
	AttackRange			= 90.0
	MeleeWeapon			= Yes
	WeaponSpeed           = 200 ;799999.2        ; dist/sec (huge value == effectively instant)
	PreAttackFX           = FX_GSlam
	FireFX				= FX_GSlam
	DelayBetweenShots     = 4000 ;GLOIN_DELAYBETWEENSHOTS 	; time between shots, msec
	PreAttackDelay        = 4000; GLOIN_PREATTACKDELAY 	; 433 is natural time of the stabbing animation.
	PreAttackType         = PER_ATTACK ;PER_SHOT ; Do the delay each time we attack a new target
	FiringDuration        = 4000 ;GLOIN_FIRINGDURATION 		; min 600 for anim
;	DamageDealtAtSelfPosition = Yes				; A melee based AoE.  Arc radiates from me, not them

	; Crush damage.
	DamageNugget								; A basic Nugget that just does damage
		Damage			= 800
		Radius			= 120.0
		DamageArc		= 375
		DelayTime		= 0
		DamageType		= CRUSH
		DamageFXType	= SWORD_SLASH
		DeathType		= NORMAL
		DamageSpeed		= 200.0 ; must match the ShockWaveSpeed below
	End

	; SIEGE damage. - Changing all structural to siege damage. -GB
	DamageNugget								; A basic Nugget that just does damage
		Damage			= 300
		Radius			= 120.0
		DamageArc		= 375
		DelayTime		= 0
		DamageType		= SIEGE
		DamageFXType	= SWORD_SLASH
		DeathType		= EXPLODED
		DamageSpeed		= 200.0 ; must match the ShockWaveSpeed below
	End

	; Push back
	MetaImpactNugget							; A Nugget that throws things back with force
		HeroResist			= .75
		ShockWaveAmount		= 50
		ShockWaveRadius		= 120
		ShockWaveArc		= 375				; Should generally be equal to damage arc
		ShockWaveTaperOff	= 1.0
		ShockWaveSpeed		= 0.0
		ShockWaveZMult		= 1.6
		ShockWaveSpeed	  = 200.0 
	End
	MetaImpactNugget							; A Nugget that throws things back with force
		HeroResist			= .75
		ShockWaveAmount		= 30
		ShockWaveRadius		= 240
		ShockWaveArc		= 375				; Should generally be equal to damage arc
		ShockWaveTaperOff	= 1.0
		ShockWaveSpeed		= 0.0
		ShockWaveZMult		= 0.9
		ShockWaveSpeed	  = 200.0 
	End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Weapon GimliWaveWeapon ; Big Blue Ring Blast
	IdleAfterFiringDelay = 0
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000               ; time between shots, msec
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
	PreAttackFX           = FX_GSlam ;FX_GloinShatterPre
	FireFX                = FX_GimliEarthQuake ;FX_GloinShatterhammer
	FiringDuration      = 1400
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 10 ;GANDALF_WORD_OF_POWER_DAMAGE
		Radius			= 1000 ;GLOIN_SMASH_WEAPON_RADIUS
		DamageType		= HERO
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 700.0 ; must match the ShockWaveSpeed below
	End
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 400 ;GANDALF_WORD_OF_POWER_DAMAGE
		Radius			= 280 ;GLOIN_SMASH_WEAPON_RADIUS
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
		DamageSpeed		= 800.0 ; must match the ShockWaveSpeed below
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= .75
		ShockWaveAmount   = 20.0
		ShockWaveRadius   = 2600.0
		ShockWaveTaperOff = 1.0
		ShockWaveZMult    = 1.500
		ShockWaveSpeed	  = 800.0 
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= .75
		ShockWaveAmount   = 50.0
		ShockWaveRadius   = 600.0
		ShockWaveTaperOff = 1.0
		ShockWaveZMult    = 1.200
		ShockWaveSpeed	  = 800.0 
	End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;GIMLI WEAPONS
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Weapon RohanGimliAxe
  LeechRangeWeapon      = Yes
  AttackRange           = 10.0
  RadiusDamageAffects   = ENEMIES NOT_SIMILAR
  MeleeWeapon           = Yes
  DelayBetweenShots     = GIMLI_DELAYBETWEENSHOTS			; time between shots, msec
  PreAttackDelay        = 	GIMLI_PREATTACKDELAY 	; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = GIMLI_FIRINGDURATION	; Duration of the sword swing
	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 200
		DamageArc 		= 400
		Radius			= 40.0
		DamageType		= CRUSH
		DamageFXType	= SWORD_SLASH
		DeathType		= EXPLODED
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.75
		ShockWaveAmount   = 50.0
		ShockWaveArc	  = 400
		ShockWaveRadius   = 36.0
		ShockWaveTaperOff = 1.25
		ShockWaveZMult    = 0.9
	End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Weapon RohanGimliSuperAxe  ; BALANCE Gimli Axe Weapon
  LeechRangeWeapon      = Yes
  AttackRange           = 20.0
  MeleeWeapon           = Yes
  RadiusDamageAffects = ENEMIES NOT_SIMILAR
  WeaponSpeed           = 799999.2        ; dist/sec (huge value == effectively instant)
  DelayBetweenShots     = GIMLI_DELAYBETWEENSHOTS_SUPER 	; time between shots, msec
  PreAttackDelay        = GIMLI_PREATTACKDELAY_SUPER 	; 433 is natural time of the stabbing animation.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FiringDuration        = GIMLI_FIRINGDURATION_SUPER 		; min 600 for anim
  FireFX                = FX_GondorSwordHit

  DamageNugget
    Damage			= 300
    DamageArc 		= 280
	Radius			= 60.0
    DelayTime		= 0
    DamageType		= MAGIC
    DamageFXType	= MAGIC
    DeathType		= NORMAL
    DamageSpeed		= 400.0 ; must match the ShockWaveSpeed below
  End

  	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.50
		ShockWaveAmount   = 50.0
		ShockWaveArc	  = 280
		ShockWaveRadius   = 55.0
		ShockWaveTaperOff = 1.25
		ShockWaveZMult    = 1.0
		ShockWaveSpeed	  = 400.0
	End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; GIMLI XP
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

ExperienceLevel	GloinLevel1
	TargetNames						=	DwarvenGloin
	RequiredExperience				=	1	
	ExperienceAward					=	GLOIN_LVL1_EXP_AWARD
	Rank							=	1
	Upgrades						=	
	SelectionDecal
		Texture						=	decal_hero_good	
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
End	

ExperienceLevel	GloinLevel2
	TargetNames						=	DwarvenGloin
	RequiredExperience				=	GLOIN_LVL2_EXP_NEEDED 
	ExperienceAward					=	GLOIN_LVL2_EXP_AWARD
	AttributeModifiers				=	HeroLevelUpDamage1
	Rank							=	2
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Upgrades						=	Upgrade_GimliLeapTrigger
	SelectionDecal
		Texture						=	decal_hero_good	
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	

ExperienceLevel	GloinLevel3
	TargetNames						=	DwarvenGloin
	RequiredExperience				=	GLOIN_LVL3_EXP_NEEDED 
	ExperienceAward					=	GLOIN_LVL3_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage2
	Rank							=	3
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good	
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	

ExperienceLevel	GloinLevel4
	TargetNames						=	DwarvenGloin
	RequiredExperience				=	GLOIN_LVL4_EXP_NEEDED 
	ExperienceAward					=	GLOIN_LVL4_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage3
	Rank							=	4
	Upgrades						=	Upgrade_EnableDwarvenGloinShakeFoundation
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good	
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	

ExperienceLevel	GloinLevel5
	TargetNames						=	DwarvenGloin
	RequiredExperience				=	GLOIN_LVL5_EXP_NEEDED 
	ExperienceAward					=	GLOIN_LVL5_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage4
	Rank							=	5
	Upgrades						=	Upgrade_GimliSlayerTrigger
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good	
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END		

ExperienceLevel	GloinLevel6
	TargetNames						=	DwarvenGloin
	RequiredExperience				=	GLOIN_LVL6_EXP_NEEDED 
	ExperienceAward					=	GLOIN_LVL6_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage5
	Rank							=	6
	Upgrades						=	Upgrade_LegolasArrowWind
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	

ExperienceLevel	GloinLevel7
	TargetNames						=	DwarvenGloin
	RequiredExperience				=	GLOIN_LVL7_EXP_NEEDED 
	ExperienceAward					=	GLOIN_LVL7_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage6
	Rank							=	7
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	

ExperienceLevel	GloinLevel8
	TargetNames						=	DwarvenGloin
	RequiredExperience				=	GLOIN_LVL8_EXP_NEEDED 
	ExperienceAward					=	GLOIN_LVL8_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage7
	Rank							=	8
	Upgrades						=	Upgrade_GandalfLightningSword
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	

ExperienceLevel	GloinLevel9
	TargetNames						=	DwarvenGloin
	RequiredExperience				=	GLOIN_LVL9_EXP_NEEDED 
	ExperienceAward					=	GLOIN_LVL9_EXP_AWARD	
	AttributeModifiers				=	HeroLevelUpDamage8
	Rank							=	9
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End
END	

ExperienceLevel	GloinLevel10
	TargetNames						=	DwarvenGloin
	RequiredExperience				=	GLOIN_LVL10_EXP_NEEDED 
	ExperienceAward					=	GLOIN_LVL10_EXP_AWARD	
  	AttributeModifiers				=	HeroLevelUpDamage9
	Rank							=	10
	LevelUpFx						=	FX:GandalfLevelUp1FX
	;LevelUpOCL						=	OCL_GandalfLevelUp1OCL
	Upgrades						=	Upgrade_EnableGloinSmash
	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40 ;16
		MaxRadius					=	200 ;16
		MaxSelectedUnits			=	40 ;1
	End	
END	

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Command Buttons
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

CommandButton Command_SpecialAbilityDwarvenGloinSlam
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityGSlam
  Options				  = NEED_TARGET_ENEMY_OBJECT
  TextLabel               = CONTROLBAR:GimliSlam
  CursorName			  = Bombard
  InvalidCursorName		  = GenericInvalid
  ButtonImage             = HSGloinSlam
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipGimliSlam
  AutoAbility			  = Yes
  PresetRange			  = 120.0
  InPalantir			  = Yes
End

CommandButton Command_SpecialAbilityArrowStorm
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityAxeWind
  Options                 = NEED_TARGET_POS CONTEXTMODE_COMMAND
  TextLabel               = CONTROLBAR:GimliAxeWind
  ButtonImage             = HSGimliDwarvenGrudge
  CursorName              = Bombard
  RadiusCursorType        = ArrowStormRadiusCursor
  InvalidCursorName       = GenericInvalid
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipGimliAxeWind
  InPalantir			  = Yes
  AutoAbility			  = No
End

CommandButton Command_SpecialAbilityGloinSmash
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityGimliQuake
  Options				  = NONE ;NEED_TARGET_POS
  TextLabel               = CONTROLBAR:GimliQuake
  ButtonImage             = HSGloinShatterHammer
  RadiusCursorType		  = LeapRadiusCursor
  CursorName		      = Bombard
  InvalidCursorName       = GenericInvalid
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipGimliQuake
  InPalantir			  = Yes
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Gimli Commandset
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

CommandSet DwarvenGimliAndStuffCommandSet

  1  = Command_GimliAxeThrow
  2  = Command_RohanGimliLeap
  3  = Command_SpecialAbilitySlayer 
  4  = Command_SpecialAbilityArrowStorm
  5  = Command_SpecialAbilityDwarvenGloinSlam
  6  = Command_SpecialAbilityGloinSmash
	12 = Command_CaptureBuilding
	13 = Command_AttackMove
	14 = Command_Stop
        15 = Command_ToggleStance
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Weapon/ abillitys objects etc
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Gimli Object, add modules, etc abillitys etc!
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Gimli command set unstable test it to everything you do with it if u are going to change it a little.
;
;Object DwarvenGimli
;Object DwarvenGloin
ChildObject DwarvenGloin DwarvenGimli 
	CommandSet  = DwarvenGimliAndStuffCommandSet
End

;Object DwarvenGimli
ChildObject DwarvenGloin DwarvenGimli
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Gimli's Axe Wind
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

	CommandSet  = DwarvenGimliAndStuffCommandSet

	DisplayMeleeDamage = 200

	ReplaceModule ModuleTag_GimliHealing
	Behavior = AutoHealBehavior ModuleTag_GimliHealing1
		StartsActive = Yes
		HealingAmount = 50
		HealingDelay = 800
		StartHealingDelay = 15000
		HealOnlyIfNotInCombat = Yes
	End
	End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
	ReplaceModule ModuleTag_RespawnBody
	Body = RespawnBody ModuleTag_RespawnBody1
		CheerRadius 			= EMOTION_CHEER_RADIUS
		MaxHealth         		= 3000	;GIMLI_HEALTH
		PermanentlyKilledByFilter	= NONE		;Who kills me permanently?
   		DodgePercent      		= HERO_DODGE_PERCENT ;80%
	End
	End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>



      AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_Lightning1Enabler
		SpecialPowerTemplate = SpecialAbilityAxeWind
		TriggeredBy = Upgrade_LegolasArrowWind ;Upgrade_GandalfLightningSword
	End
      End
      AddModule
	Behavior = SpecialPowerModule ModuleTag_Lightning11                     
		SpecialPowerTemplate		= SpecialAbilityAxeWind
		UpdateModuleStartsAttack	= Yes
		StartsPaused			= Yes
		InitiateSound			= GimliVoiceAttackLeap
	End
      End
      AddModule
	Behavior = ArrowStormUpdate ModuleTag_Lightning121                
		SpecialPowerTemplate    = SpecialAbilityAxeWind
		StartAbilityRange       = 270.0
		UnpackingVariation		= 1		
		UnpackTime              = 1250
		PreparationTime         = 1200
		PersistentPrepTime      = 2300 ;1200
		PackTime                = 1200
		ApproachRequiresLOS     = Yes
		AwardXPForTriggering    = 0
		WeaponTemplate  = RohanGimliAxeThrown
		TargetRadius    = 220
		ShotsPerTarget  = 1
		ShotsPerBurst   = 25
		MaxShots        = 75
  		CanShootEmptyGround = Yes
	End
      End

;	Behavior = ArrowStormUpdate ModuleTag_MagicArrowWindUpdate	; haldir arrow wind
;		SpecialPowerTemplate    = SpecialAbilityHaldirArrowRain
;		StartAbilityRange       = 320
;		UnpackingVariation		= 1
;		UnpackTime              = 1250
;		PreparationTime         = 1200
;		PersistentPrepTime      = 1200
;		PackTime                = 1200
;		ApproachRequiresLOS     = Yes
;		AwardXPForTriggering    = 0
;		WeaponTemplate  = ElvenThranduilBowDeadeye
;		TargetRadius    = 200
;		ShotsPerTarget  = 1
;		ShotsPerBurst   = 20
;		MaxShots        = 80
;  		CanShootEmptyGround = Yes
;	End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Gimli's Slam
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

	AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_Slam1Enabler
		SpecialPowerTemplate = SpecialAbilityGSlam
		TriggeredBy = Upgrade_GandalfLightningSword  ;Upgrade_EnableDwarvenGloinSlam
	End
	End

	AddModule
	Behavior = SpecialPowerModule ModuleTag_Slam1Starter       
		SpecialPowerTemplate		= SpecialAbilityGSlam
		UpdateModuleStartsAttack	= Yes
		StartsPaused				= Yes
		InitiateSound				= GimliModeSlayerMS
	End
	End

	AddModule
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_SlamWeaponFire1Update   
		SpecialPowerTemplate    = SpecialAbilityGSlam
		SpecialWeapon			= GSlamWeapon
		WhichSpecialWeapon		= 1			; Corresponds to SPECIAL_WEAPON_ONE
		StartAbilityRange		= 80.0
		
		SkipContinue			= Yes
		UnpackTime				= 300		; Trigger on frame 30 (of 69)
		PackTime				= 800		; Remaining 39 frames (of 69)
		MustFinishAbility		= Yes
	End
	End

;	AddModule
;	Behavior = AutoAbilityBehavior ModuleTag_SlamAutoAbility1
;		SpecialAbility			= SpecialAbilityGSlam
;		Query					= 1 ANY ENEMIES +STRUCTURE -UNATTACKABLE		; structures as a preference
;		Query					= 1 ALL ENEMIES
;	End
;	End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Gimlis wave
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
	AddModule
		Behavior = UnpauseSpecialPowerUpgrade ModuleTag_SmashEnabler
		SpecialPowerTemplate = SpecialAbilityGimliQuake
		TriggeredBy = Upgrade_EnableGloinSmash
	End
	End

	AddModule
	Behavior = SpecialPowerModule ModuleTag_SmashStarter       
		SpecialPowerTemplate      = SpecialAbilityGimliQuake
		UpdateModuleStartsAttack  = Yes
		StartsPaused		  	  = Yes
		InitiateSound				= GimliVoiceAttackCharge
	End
	End

	AddModule
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_SmashWeaponFireUpdate   
		SpecialPowerTemplate    = SpecialAbilityGimliQuake
		SpecialWeapon			= GimliWaveWeapon
		WhichSpecialWeapon		= 3			; Corresponds to SPECIAL_WEAPON_THREE
		StartAbilityRange		= 1.0
		
		SkipContinue			= Yes
		UnpackTime				= 500		; Trigger on frame 60 (of 100)
		PackTime				= 1000		; Remaining 40 frames (of 100)
		MustFinishAbility		= Yes
	End
	End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Animations for gimli
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
	ReplaceModule ModuleTag_01
	Draw = W3DScriptedModelDraw ModuleTag_011

	  OkToChangeModelColor = Yes
	  

   StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

;;====================== MODELS ================================================================
		DefaultModelConditionState
			Model               = RUGimli_SKN
			Skeleton            = RUGimli_SKL
			WeaponLaunchBone    = TERTIARY AXE02
		End
		
		ModelConditionState = WEAPONSET_TOGGLE_1
			Model               = RUGimli_SKN
			Skeleton            = RUGimli_SKL
			ParticleSysBone =  BAT_HEAD Slayer FollowBone:Yes
		End
		

;;================== ANIMATIONS =================================================================

;;------------------ MOVING & DYING ---------------------------

	;;======= DYING
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;This is for his quake wave makes him bend over to put on the ring lol.
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
		AnimationState			= SPECIAL_WEAPON_THREE UNPACKING
			Animation			= GettingReadyToLeap
				AnimationName	= RUGimli_LEPA
				AnimationMode   = ONCE
			End
		End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; this is just little earth quake slam
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
		AnimationState			= SPECIAL_WEAPON_ONE UNPACKING
			Animation			= GettingReadyToLeap
				AnimationName	= RUGimli_LEPB  ;RUGimli_CHRA
				AnimationMode   = ONCE
			End
		End
;RUGimli_LEPC  ;Lands from leap
;RUGimli_LEPA  Takes off from leap

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; this is the Axe Wind( just keep throwing an axe. untill hes done.)
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

; Did not work we dont need first one or the last one, hes fine like this.	
;		AnimationState        = UNPACKING PACKING_TYPE_1
;			Animation           = ATKA1
;				AnimationName     = RUGimli_SPCA  ;RULegolas_ATKA1	;ATKH1
;				AnimationMode     = ONCE
;			End
;			StateName           = STATE_Bow
;			BeginScript
;				Prev = CurDrawablePrevAnimationState()
;				if Prev == "STATE_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwitchToBow") end
;				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
;			EndScript
;		End
	
		AnimationState        = PREPARING PACKING_TYPE_1
			Animation           = Bow ;ATKA2
				AnimationName     = RUGimli_SPCA
				AnimationMode     = LOOP
				AnimationSpeedFactorRange = 1.328 1.328
			End
			StateName           = STATE_Bow
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwitchToBow") end
				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
			EndScript
		End
		
;		AnimationState        = PACKING PACKING_TYPE_1
;			Animation           = Bow ;ATKA3
;				AnimationName     = RUGimli_SPCA
;				AnimationMode     = LOOP
;			End
;			StateName           = STATE_Bow
;			BeginScript
;				Prev = CurDrawablePrevAnimationState()
;				if Prev == "STATE_Sword" then CurDrawableSetTransitionAnimState("TRANS_SwitchToBow") end
;				CurDrawableHideSubObject("arrow") ;Circumvents blend issues when the arrow is being shown...
;			EndScript
;		End
;
;
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

		AnimationState        = STUNNED_FLAILING
			Animation           = FLYA
				AnimationName     = RUGimli_FLYA
				AnimationMode     = LOOP
				AnimationSpeedFactorRange	= 0.3 0.5
			End
			Flags               = RANDOMSTART
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
			EndScript
		End
		
		AnimationState        = DYING SPLATTED
			Animation           = LNDB
				AnimationName     = RUGimli_LNDA
				AnimationMode     = ONCE
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
			EndScript
		End

		AnimationState        = DYING
			Animation           = DIEA
				AnimationName     = RUGimli_DIEA
				AnimationMode     = ONCE
			End
			Animation           = DIEC
				AnimationName     = RUGimli_DIEC
				AnimationMode     = ONCE
			End
;			Animation           = DIEB
;				AnimationName     = RUGimli_DIEB
;				AnimationMode     = ONCE
;			End		
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
			EndScript
		End
		
		AnimationState        = STUNNED_STANDING_UP
			Animation           = GTPA
				AnimationName     = RUGimli_GTPA
				AnimationMode     = ONCE
			End
		End
	
		AnimationState        = STUNNED
			Animation           = LNDA
				AnimationName     = RUGimli_LNDA
				AnimationMode     = ONCE
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
			EndScript
		End

		AnimationState						= PARALYZED
			Animation
				AnimationName				= RUGimli_IDLA
				AnimationMode				= LOOP
			End
		End

		
			
	;;======= MOVING
	
	
	AnimationState        = MOVING FIRING_OR_PREATTACK_A
			ShareAnimation		= Yes
			Animation           = RunAndFire
				AnimationName       = RUGimli_ATRA
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART 
		End

		AnimationState				=	MOVING ATTACKING
			Animation				=	RUNB
				AnimationName		=	RUGimli_RUNB
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
			;ParticleSysBone		=	None InfantryDustTrails
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
			EndScript
		End
	
		AnimationState				=	MOVING
			Animation				=	RUNA
				AnimationName		=	RUGimli_RUNA
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
			;ParticleSysBone		=	None InfantryDustTrails
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
			EndScript
		End


;;------------------ ATTACKING  -------------------------------

; AXE THROW
		AnimationState        =  FIRING_OR_PREATTACK_C
			Animation           = SPCA
				AnimationName     = RUGimli_SPCA
				AnimationMode     = ONCE
;				UseWeaponTiming		= Yes
			End
			FrameForPristineBonePositions = 42;44
			;ParticleSysBone     = None MeleeDust
			BeginScript
				CurDrawableShowSubObject("AXE02")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
			EndScript
		End

		AnimationState        =  FIRING_OR_PREATTACK_B; WEAPONLOCK_SECONDARY
			Animation           = ATKA
				AnimationName     = RUGimli_ATKD
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			
			;ParticleSysBone None MeleeDust
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
			EndScript
		End
	
		AnimationState        =  FIRING_OR_PREATTACK_A
			Animation           = ATKA
				AnimationName     = RUGimli_ATKA
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			Animation           = ATKB
				AnimationName     = RUGimli_ATKB
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End		
			Animation           = ATKC
				AnimationName     = RUGimli_ATKC
				AnimationMode     = ONCE
				UseWeaponTiming		= Yes
			End
			
			;ParticleSysBone None MeleeDust
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
			EndScript
		End

	;leap animations 		
		AnimationState			= SPECIAL_WEAPON_TWO UNPACKING
			Animation			= GettingReadyToLeap
				AnimationName	= RUGimli_LEPA
				AnimationMode   = ONCE
			End
		End

		AnimationState        =  ABOUT_TO_HIT		;using Gimli Leap
		StateName			= State_AboutToHitGround
			Animation           = Leap
				AnimationName     = RUGimli_LEPC  
				AnimationMode     = ONCE
			;	UseWeaponTiming		= Yes
			End
		End


		AnimationState        = THROWN_PROJECTILE
			Animation           = LEPB
				AnimationName     = RUGimli_LEPB
				AnimationMode     = LOOP
				AnimationBlendTime = 20
			End
		End

	
;;-------------------- HIT REACTIONS --------------------------

		AnimationState = HIT_REACTION
			Animation = Hit_Level_1_a
				AnimationName = RUGimli_HITA
				AnimationMode = ONCE
			End
		End
		
;;------------ EMOTIONS ---------------------------------------

;;====== LEVELED
		AnimationState				= LEVELED 						; This state clears itself in 3 seconds
			Animation				= LevelUp
				AnimationName		= RUGimli_CHRB
				AnimationMode		= ONCE
			End
		End

;;====== CELEBRATING
		AnimationState			= EMOTION_CELEBRATING
			Animation           = CHRA
				AnimationName   = RUGimli_CHRA
				AnimationMode   = ONCE
			End
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
		End

;;====== TAUNTING
		AnimationState			= EMOTION_TAUNTING
			Animation           = TNTA
				AnimationName   = RUGimli_TNTA
				AnimationMode   = ONCE
			End
			Animation           = TNTB
				AnimationName   = RUGimli_TNTB
				AnimationMode   = ONCE
			End
			Flags					=	RESTART_ANIM_WHEN_COMPLETE
		End
		
		AnimationState					= EMOTION_ALERT
			Animation					= Ready
				AnimationName			= RUGimli_IDLA
				AnimationMode			= LOOP
				AnimationBlendTime  =   15
			End
			BeginScript
				CurDrawableHideSubObject("AXE02")
;				Prev = CurDrawablePrevAnimationState()
;				if Prev == "BORED"		then CurDrawableSetTransitionAnimState("Transition_BoredToReady") end
;				if Prev == "SELECTED"	then CurDrawableSetTransitionAnimState("Transition_SelectedToReady") end
				if Prev == "State_AboutToHitGround" then CurDrawableSetTransitionAnimState("TRANS_AboutToHitGround_To_Idle") end
			EndScript

		End
		
		AnimationState			= RAISING_FLAG
			Animation           = CHRA
				AnimationName   = RUGimli_CHRA
				AnimationMode   = LOOP
			End
		End

;;------------------- SELECTED STATES -------------------------
		
		AnimationState				=	SELECTED
			StateName				=	AtAttentionIdle
			SimilarRestart			=   Yes			
			Animation				=	ATNB
				AnimationName		=	 RUGimli_ATNB
				AnimationMode		=	LOOP
			End
			BeginScript
				CurDrawableHideSubObject("AXE02")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "STATE_Idle" then CurDrawableSetTransitionAnimState("TRANS_Select") end
				if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_Select") end
				if Prev == "State_AboutToHitGround" then CurDrawableSetTransitionAnimState("TRANS_AboutToHitGround_To_Idle") end
			EndScript
		End
							
;;--------------- IDLE STATES ---------------------------------

		IdleAnimationState
			StateName				= STATE_Idle
			Animation           = IDLB
				AnimationName     = RUGimli_IDLB
				AnimationMode     = ONCE
				AnimationPriority = 30
			End
			Animation           = IDLF
				AnimationName     = RUGimli_IDLF
				AnimationMode     = ONCE
				AnimationPriority = 5
			End		
			Animation           = IDLD
				AnimationName     = RUGimli_IDLD
				AnimationMode     = ONCE
				AnimationPriority = 4
			End
			Animation           = IDLG
				AnimationName     = RUGimli_IDLG
				AnimationMode     = ONCE
				AnimationPriority = 2
			End
			Animation           = IDLH
				AnimationName     = RUGimli_IDLH
				AnimationMode     = ONCE
				AnimationPriority = 1
			End		
			Animation           = IDLC
				AnimationName     = RUGimli_IDLC
				AnimationMode     = ONCE
				AnimationPriority = 1
			End
			Animation           = IDLE
				AnimationName     = RUGimli_IDLE
				AnimationMode     = ONCE
				AnimationPriority = 1
			End
			
			BeginScript
				CurDrawableHideSubObject("AXE02")
				Prev = CurDrawablePrevAnimationState()
				if Prev == "DwarfToss" then CurDrawableSetTransitionAnimState("TRANS_EndDwarfToss") end
				if Prev == "AtAttentionIdle" then CurDrawableSetTransitionAnimState("TRANS_SelectedToIdle") end
				if Prev == "State_AboutToHitGround" then CurDrawableSetTransitionAnimState("TRANS_AboutToHitGround_To_Idle") end
			EndScript
		End

		
;---Transitions-------------------------------------

		TransitionState       = TRANS_EndDwarfToss
			Animation           = TOS4
				AnimationName     = RUGimli_TOS4
				AnimationMode     = ONCE
			End
		End	

		TransitionState       = TRANS_SelectedToIdle	
			Animation           = ATNC
				AnimationName     = RUGimli_ATNC
				AnimationMode     = ONCE
				AnimationSpeedFactorRange = 0.7 1.3
			End
		End
		
		TransitionState				=	TRANS_Select
			Animation				=	ATNA
				AnimationName		=	 RUGimli_ATNA
				AnimationMode		=	ONCE
			End
		End
	
		TransitionState = TRANS_AboutToHitGround_To_Idle
			Animation = SplashAtEndOfJump
				AnimationName = RUGimli_LEPC
				AnimationMode = ONCE
				;AnimationBlendTime = 0
			End
			Flags = MAINTAIN_FRAME_ACROSS_STATES
		End
		
	End
	End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;When gimli dies, make this.
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

  AddModule
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_DIELIKETHIS
    StartsActive = Yes
    DeathWeapon = GimliWaveWeapon
  End
  End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

End ; End of Gimli

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<ELROND>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; FXs
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXParticleSystem ElrondSwordFire
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXSplatHaze.tga
    Lifetime = 20 20
    SortLevel = 1
    Size = 0 15
    BurstCount = 1 1 ;4 6
    InitialDelay = 5 5
    IsParticleUpTowardsEmitter = Yes
  End
  Color = DefaultColor
    Color2 = R:255 G:255 B:255 5
    Color3 = R:255 G:255 B:255 20
  End
  Update = DefaultUpdate
    SizeRate = -0.25 -0.25
    SizeRateDamping = 1 1
    AngleZ = -7 7
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    Gravity = -0.05
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    EndPoint = X:0 Y:0 Z:15
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem ElrondBladeMaster
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXRing01.tga
    Lifetime = 18 18
    SortLevel = 1
    Size = 10 15
    BurstCount = 1 1
  End
  Color = DefaultColor
    Color2 = R:91 G:90 B:94 5
    Color3 = R:0 G:0 B:0 15
    Color4 = R:32 G:32 B:32 0
  End
  Update = DefaultUpdate
    SizeRate = 1 1
    SizeRateDamping = 1 1
    AngleZ = 0 7
    AngularRateZ = -0.1 0.1
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = -0.01
    VelocityDamping = 1 1
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = SphereEmissionVolume
    Radius = 10
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem ElrondBladeMasterStart
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXexplo01.tga ;EXShockWav.tga ;EXRing01.tga
    Lifetime = 28 28
    SystemLifetime = 50
    SortLevel = 1
    Size = 10 20
    BurstCount = 2 2
  End
  Color = DefaultColor
    Color2 = R:91 G:90 B:94 5
    Color3 = R:0 G:0 B:0 15
    Color4 = R:32 G:32 B:32 0
  End
  Update = DefaultUpdate
    SizeRate = 1 1
    SizeRateDamping = 1 1
    AngleZ = 0 7
    AngularRateZ = -0.1 0.1
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = -0.01
    VelocityDamping = 1 1
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = SphereEmissionVolume
    Radius = 30
  End
  Draw = DefaultDraw
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;NATURE WAVE
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>


FXParticleSystem NatureSpinningDust02
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    Type = GPU_PARTICLE
    ParticleName = EXCloud02.tga
    Lifetime = 50 50
    SystemLifetime = 30
    SortLevel = 1
    Size = 25 35
    BurstCount = 1 1
  End
  Color = DefaultColor
    Color2 = R:200 G:200 B:200 0
    Color3 = R:100 G:100 B:100 50
;    Color2 = R:80 G:60 B:9 0
;    Color3 = R:80 G:60 B:9 50
  End
  Alpha = DefaultAlpha
    Alpha2 = 0.5 0.5 15
    Alpha3 = 0 0 50
  End
  Update = DefaultUpdate
    SizeRate = 1 1
    SizeRateDamping = 1 1
    AngleZ = 0 7
    AngularDamping = 1 1
    AngleXY = 0 7
    AngularRateXY = 0.25 0.25
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
    DriftVelocity = X:0 Y:0 Z:2
  End
  EmissionVelocity = OrthoEmissionVelocity
    X = -0.25 0.25
    Y = 0.25 0.25
  End
  EmissionVolume = CylinderEmissionVolume
    IsHollow = Yes
    Radius = 50
    Offset = X:0 Y:0 Z:15
  End
  Draw = GpuDraw
    FramesPerRow = 1
    TotalFrames = 1
    SpeedMultiplier = 1
  End
End

FXParticleSystem NatureMagic02
  System
    Priority = HIGH_OR_ABOVE
    ParticleName = EXGlow02.tga
    Lifetime = 30 30
    SystemLifetime = 80
    SortLevel = 1
    Size = 4 10
    BurstDelay = 1 1
    BurstCount = 3 3
    InitialDelay = 5 5
  End
  Color = DefaultColor
    Color1 = R:196 G:198 B:217 0
    Color2 = R:0 G:0 B:0 125
    Color3 = R:187 G:179 B:157 0
  End
  Alpha = DefaultAlpha
    Alpha2 = 0.5 0.5 5
    Alpha3 = 0.5 0.5 190
    Alpha4 = 0 0 200
  End
  Update = DefaultUpdate
    SizeRateDamping = 1 1
    AngleZ = 0 7
    AngularRateZ = -0.25 0.25
    AngularDamping = 1 1
    AngleXY = 0.1 0.1
    AngularRateXY = 0.5 0.9
    AngularDampingXY = 0.9 0.9
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
    DriftVelocity = X:0 Y:0 Z:0.5
    Swirly = Yes
  End
  EmissionVelocity = OutwardEmissionVelocity
    Speed = 20.5 1
  End
  EmissionVolume = CylinderEmissionVolume
    Radius = 100
    Length = 50
    Offset = X:0 Y:0 Z:15
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem NatureWaveRing
  System
    Priority = ALWAYS_RENDER
    IsOneShot = Yes
    ParticleName = EXLightningBolt04.tga ;EXexplo03.tga
    Lifetime = 20 20
    SystemLifetime = 30
    Size = 6 6
    BurstCount = 1 1
    InitialDelay = 5 5
  End
  Color = DefaultColor
    Color2 = R:5 G:5 B:25 5
    Color3 = R:0 G:0 B:0 50
  End
  Alpha = DefaultAlpha
    Alpha2 = 0.75 1 5
    Alpha3 = -0.5 0 10
  End
  Update = DefaultUpdate
    SizeRate = 5 10
    SizeRateDamping = 0.9 0.95
    AngleZ = -7 7
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OrthoEmissionVelocity
  End
  EmissionVolume = CylinderEmissionVolume
    IsHollow = Yes
    RadiusRate = 5
    Offset = X:0 Y:0 Z:6
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem NatureLightning
  System
    Priority = ALWAYS_RENDER
    Type = STREAK
    ParticleName = EXLightningBolt04.tga
    Lifetime = 20 20
    SystemLifetime = 30
    Size = 1 15
    BurstDelay = 40 150
    BurstCount = 10 10
    InitialDelay = 50 175
  End
  Color = DefaultColor
    Color1 = R:255 G:255 B:255 0
    Color2 = R:152 G:133 B:201 5
    Color3 = R:0 G:0 B:0 20
    ColorScale = -2 -2
  End
  Update = DefaultUpdate
    SizeRate = 0.5 3
    SizeRateDamping = 0.9 1
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.9 0.9
  End
  EmissionVelocity = OrthoEmissionVelocity
    X = -0.3 0.3
    Y = -0.3 0.3
  End
  EmissionVolume = LightningEmission
    EndPoint = X:0 Y:0 Z:-170
    Amplitude1 = 100 100
    Frequency1 = 4 6
    Phase1 = 4 5
    Phase2 = 0 6.28
    Phase3 = 0 6.28
  End
  Draw = LightningDraw
    OffsetX = -5 5
    OffsetY = -5 5
    OffsetZ = -1 1
  End
End

FXParticleSystem NatureLightning1
  System
    Priority = ALWAYS_RENDER
    Type = STREAK
    ParticleName = EXLightningBolt04.tga
    Lifetime = 20 20
    SystemLifetime = 30
    Size = 1 15
    BurstDelay = 40 150
    BurstCount = 10 10
    InitialDelay = 45 150
  End
  Color = DefaultColor
    Color1 = R:255 G:255 B:255 0
    Color2 = R:152 G:133 B:201 5
    Color3 = R:0 G:0 B:0 20
    ColorScale = -2 -2
  End
  Update = DefaultUpdate
    SizeRate = 0.5 3
    SizeRateDamping = 0.9 1
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.9 0.9
  End
  EmissionVelocity = OrthoEmissionVelocity
    X = -0.3 0.3
    Y = -0.3 0.3
  End
  EmissionVolume = LightningEmission
    StartPoint = X:50 Y:0 Z:50
    EndPoint = X:0 Y:75 Z:-210
    Amplitude1 = 100 100
    Frequency1 = 4 6
    Phase1 = 4 5
    Phase2 = 0 6.28
    Phase3 = 0 6.28
  End
  Draw = LightningDraw
    OffsetX = -5 5
    OffsetY = -5 5
    OffsetZ = -1 1
  End
End

FXParticleSystem NatureLightingWave ;
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXLightningBolt04.tga ;excracks.tga
    Lifetime = 50 50
    SystemLifetime = 45
    Size = 200 200
    StartSizeRate = 1 1
    BurstDelay = 2 2
    BurstCount = 1 1
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color2 = R:20 G:20 B:100 15
    Color3 = R:100 G:100 B:100 25
  End
  Alpha = DefaultAlpha
    Alpha2 = 100.5 0.7 7
    Alpha3 = -0.2 0 25
  End
  Update = DefaultUpdate
    SizeRate = -10 -10
    SizeRateDamping = 1.05 1.05
    AngleZ = -180 180
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.75 0.8
  End
  EmissionVelocity = OutwardEmissionVelocity
    Speed = -4 -4
    OtherSpeed = -4 -4
  End
  EmissionVolume = LineEmissionVolume
    IsHollow = Yes
    StartPoint = X:0 Y:0 Z:-8
    EndPoint = X:0 Y:0 Z:10
  End
  Draw = DefaultDraw
  End
End

FXParticleSystem NatureInWave ;
  System
    Priority = ALWAYS_RENDER
    ParticleName = EXShockWav.tga ;excracks.tga
    Lifetime = 50 50
    SystemLifetime = 15
    Size = 300 300
    StartSizeRate = 1 1
    BurstDelay = 2 2
    BurstCount = 1 1
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color2 = R:200 G:200 B:200 15
    Color3 = R:100 G:100 B:100 25
  End
  Alpha = DefaultAlpha
    Alpha2 = 100.5 0.7 7
    Alpha3 = -0.2 0 25
  End
  Update = DefaultUpdate
    SizeRate = -10 -10
    SizeRateDamping = 1.05 1.05
    AngleZ = -180 180
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.75 0.8
  End
  EmissionVelocity = OutwardEmissionVelocity
    Speed = -4 -4
    OtherSpeed = -4 -4
  End
  EmissionVolume = LineEmissionVolume
    IsHollow = Yes
    StartPoint = X:0 Y:0 Z:-8
    EndPoint = X:0 Y:0 Z:10
  End
  Draw = DefaultDraw
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;FX LISTS
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXList FX_ElrondBladeStart

  ParticleSystem
    Name = ElrondBladeMasterStart
     OrientToObject = Yes
    InitialDelay = 1 1 UNIFORM   ;In milliseconds
    Offset = X:0.0 Y:0.0 Z:15.0
  End
End

FXList FX_ElrondBladeMaster
  TintDrawable
	Color				= R:255 G:255 B:255
	PreColorTime		= 40
	PostColorTime		= 50
	SustainedColorTime	= 1400
	Frequency			= 0
	Amplitude			= 0
  End
End

ModifierList ElrondBladeMaster
	Category = WEAPON
	Modifier = DAMAGE_MULT 200%
	Modifier = ARMOR 100%
	Duration = 30000
	FX		 = FX_ElrondBladeMaster
End

FXList FX_naturewave
  ParticleSystem
    Name = NatureSpinningDust02
    Offset = X:0.0 Y:0.0 Z:20.0
  End

  ParticleSystem
    Name = NatureMagic02
    Offset = X:0.0 Y:0.0 Z:0.0
  End

  ParticleSystem
    Name = NatureWaveRing
    InitialDelay = 2000 2000 UNIFORM   ;In milliseconds
    Offset = X:0.0 Y:0.0 Z:20.0
  End

  ParticleSystem
    Name = NatureLightning
    InitialDelay = 1 1 UNIFORM   ;In milliseconds
    Offset = X:0.0 Y:0.0 Z:200.0
  End

  ParticleSystem
    Name = NatureLightning1
    InitialDelay = 500 500 UNIFORM   ;In milliseconds
    Offset = X:-50.0 Y:20.0 Z:200.0
  End

  ParticleSystem
    Name = NatureLightning
    InitialDelay = 2000 2000 UNIFORM   ;In milliseconds
    Offset = X:40.0 Y:-30.0 Z:140.0
  End

  ParticleSystem
    Name = NatureLightning1
    InitialDelay = 3000 3000 UNIFORM   ;In milliseconds
    Offset = X:10.0 Y:5.0 Z:240.0
  End

  ParticleSystem
    Name = NatureLightingWave 
    InitialDelay = 10 10 UNIFORM   ;In milliseconds
    Offset = X:0.0 Y:0.0 Z:20.0
  End

  ParticleSystem
    Name = NatureInWave
    InitialDelay = 10 10 UNIFORM   ;In milliseconds
    Offset = X:0.0 Y:0.0 Z:20.0
  End

  Sound
    Name = Gui_ZoomIn
  End
End


;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Elrond ABILLITY TIMERS
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

SpecialPower SpecialAbilitynaturewave
	Enum			= SPECIAL_WORD_OF_POWER
	ReloadTime		= 300000
	PublicTimer		= No
End

SpecialPower SpecialAbilityPersonalFlood
  Enum					= SPECIAL_PERSONAL_FLOOD
  ReloadTime			= 200000 ; in milliseconds
  RadiusCursorRadius	= 100
	;InitiateAtLocationSound	= AragornAthelesEffect
End

SpecialPower SpecialAbilityElrondRestoration
	Enum					= SPECIAL_GENERAL_TARGETLESS
	RadiusCursorRadius		= 150
	ReloadTime				= 250000
End


;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Other Timers
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Elrond ABILLITY WEAPONS
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>


Weapon NatureWaveWeapon
	IdleAfterFiringDelay = 0
	AttackRange = GANDALF_WORD_OF_POWER_RANGE
	MinimumAttackRange = 0.8
	WeaponSpeed = 401
	MinWeaponSpeed = 241
	MaxWeaponSpeed = 601
	ScaleWeaponSpeed = Yes
;	FireSound	= ArmyDeadKill
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000
	PreAttackDelay        = 19600
	PreAttackType         = PER_ATTACK
	FireFX                = FX_naturewave
	FiringDuration      = 1400
      ClearNuggets
	DamageNugget
		DamageScalar  = 80% NONE +HERO
		Damage			= 350
		Radius			= 180.0
		DamageType		= HERO
		DamageFXType	= MAGIC ;BOLT ;SWORD_SLASH ;ELECTRIC                   ;TORNADO
		DeathType		= EXPLODED
		DamageSpeed		= 300.0
	End
	DamageNugget
		DamageScalar  = 80% NONE +HERO
		Damage			= 100
		Radius			= 280.0
		DamageType		= HERO
		DamageFXType	= MAGIC ;BOLT  ;ELECTRIC                   ;TORNADO
		DeathType		= EXPLODED
		DamageSpeed		= 300.0
	End
	DamageNugget
		DamageScalar  = 80% NONE +HERO
		Damage			= 50
		Radius			= 350.0
		DamageType		= HERO
		DamageFXType	= SWORD_SLASH  ;ELECTRIC                   ;TORNADO
		DeathType		= EXPLODED
		DamageSpeed		= 300.0
	End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		KillObjectFilter  = INSTANT_DEATH_ON_METAIMPACT_OBJFILTER
		ShockWaveAmount   = 150 ;TORNADO_METASHOCKWAVE_AMOUNT
		ShockWaveRadius   = 380
		ShockWaveTaperOff = 1.0 
		ShockWaveZMult    = 5.0  
		ShockWaveSpeed	= 300.0
		InvertShockWave   = Yes		// makes it "suck"
		
		CyclonicFactor	  = 0.46
	End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Elrond WEAPONS
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Weapon ElrondSword
  LeechRangeWeapon      = Yes
  AttackRange           = 30
  MeleeWeapon           = Yes
  DelayBetweenShots     = ELROND_DELAYBETWEENSHOTS 			
             ; time between shots, msec
  PreAttackDelay        = 300				; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FireFX                = FX_GondorSwordHit ; Change this
  FiringDuration        = 300				; Duration of the sword swing

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 250					
    Radius        = 40.0
    DelayTime     = 0
    DamageType    = HERO  ;MAGIC  ; with magic he owns AOD too easy.
    DamageFXType  = BOLT ;MAGIC
    DeathType     = NORMAL
    DamageSpeed		= 300.0 ; must match the ShockWaveSpeed below
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Weapon ElrondHeroSword
  LeechRangeWeapon      = Yes
  AttackRange           = 30
  RadiusDamageAffects = ENEMIES NOT_SIMILAR
  MeleeWeapon           = Yes
  DelayBetweenShots     = ELROND_DELAYBETWEENSHOTS 			
             ; time between shots, msec
  PreAttackDelay        = ELROND_PREATTACKDELAY  				; 400 is sword swing delay time before contact with target.
  PreAttackType         = PER_SHOT ; Do the delay each time we attack a new target
  FireFX                = FX_GondorSwordHit ; CHANGE THIS!
  FiringDuration        = ELROND_FIRINGDURATION				; Duration of the sword swing

  DamageNugget                        ; A basic Nugget that just does damage
    Damage        = 500
    DamageArc 		= 150						
    Radius        = 70.0
    DelayTime     = 0
    DamageType    = MAGIC
    DamageFXType  = BALROG_WHIP
    DeathType     = NORMAL
    DamageSpeed		= 400.0 ; must match the ShockWaveSpeed below
  End
  	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= 0.75
		ShockWaveAmount   = 50.0
		ShockWaveArc	  = 150
		ShockWaveRadius   = 60.0
		ShockWaveTaperOff = 1.25
		ShockWaveZMult    = 1.0
		ShockWaveSpeed	  = 400.0
	End
  	MetaImpactNugget                    ; A Nugget that throws things back with force
;		HeroResist			= 0.75
		ShockWaveAmount   = 20.0
		ShockWaveArc	  = 150
		ShockWaveRadius   = 80.0
		ShockWaveTaperOff = 1.25
		ShockWaveZMult    = 0.6
		ShockWaveSpeed	  = 400.0
	End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Elrond XP
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;  DONT NEED ALL 10 XPS DELETE UNLESSED ONES WHEN YOUR DONE.
; even out the upgrades there all mixed up.


ExperienceLevel	ElrondLevel1
	TargetNames				=	ElvenElrond
	RequiredExperience		=	1	
	ExperienceAward			=	ELROND_LVL1_EXP_AWARD
	Rank					=	1
;	AttributeModifiers		=	ElrondResistKnockback
	SelectionDecal
		Texture				=	decal_hero_good
		Style				=	SHADOW_ALPHA_DECAL
		OpacityMin			=	50%	
		OpacityMax			=	100%
		MinRadius			=	40
		MaxRadius			=	200
		MaxSelectedUnits	=	40
	End	
End	

ExperienceLevel	ElrondLevel2
	TargetNames				=	ElvenElrond
	RequiredExperience		=	ELROND_LVL2_EXP_NEEDED	
	ExperienceAward			=	ELROND_LVL2_EXP_AWARD
	Rank					=	2
	LevelUpFx				=	FX:GandalfLevelUp1FX
	AttributeModifiers		=	NewHeroLevelUpDamage1  ; ElrondResistKnockback 
	SelectionDecal
		Texture				=	decal_hero_good
		Style				=	SHADOW_ALPHA_DECAL
		OpacityMin			=	50%	
		OpacityMax			=	100%
		MinRadius			=	40
		MaxRadius			=	200
		MaxSelectedUnits	=	40
	End	
End	

ExperienceLevel	ElrondLevel3
	TargetNames				=	ElvenElrond
	RequiredExperience		=	ELROND_LVL3_EXP_NEEDED	
	ExperienceAward			=	ELROND_LVL3_EXP_AWARD
	Rank					=	3
	LevelUpFx				=	FX:GandalfLevelUp1FX
	AttributeModifiers		=	HeroLevelUpDamage2  ;ElrondResistKnockback 
	Upgrades				=	Upgrade_ArwenFloodTrigger
	SelectionDecal
		Texture				=	decal_hero_good
		Style				=	SHADOW_ALPHA_DECAL
		OpacityMin			=	50%	
		OpacityMax			=	100%
		MinRadius			=	40
		MaxRadius			=	200
		MaxSelectedUnits	=	40
	End	
End	

ExperienceLevel	ElrondLevel4
	TargetNames				=	ElvenElrond
	RequiredExperience		=	ELROND_LVL4_EXP_NEEDED	
	ExperienceAward			=	ELROND_LVL4_EXP_AWARD
	Rank					=	4
	LevelUpFx				=	FX:GandalfLevelUp1FX
	AttributeModifiers		=	 HeroLevelUpDamage3 ;ElrondResistKnockback
	SelectionDecal
		Texture				=	decal_hero_good
		Style				=	SHADOW_ALPHA_DECAL
		OpacityMin			=	50%	
		OpacityMax			=	100%
		MinRadius			=	40
		MaxRadius			=	200
		MaxSelectedUnits	=	40
	End	
End	

ExperienceLevel	ElrondLevel5
	TargetNames				=	ElvenElrond
	RequiredExperience		=	ELROND_LVL5_EXP_NEEDED	
	ExperienceAward			=	ELROND_LVL5_EXP_AWARD
	Rank					=	5
	LevelUpFx				=	FX:GandalfLevelUp1FX
	AttributeModifiers		=	 HeroLevelUpDamage4	;ElrondResistKnockback
	SelectionDecal
		Texture				=	decal_hero_good
		Style				=	SHADOW_ALPHA_DECAL
		OpacityMin			=	50%	
		OpacityMax			=	100%
		MinRadius			=	40
		MaxRadius			=	200
		MaxSelectedUnits	=	40
	End	
End	

ExperienceLevel	ElrondLevel6
	TargetNames				=	ElvenElrond
	RequiredExperience		=	ELROND_LVL6_EXP_NEEDED	
	ExperienceAward			=	ELROND_LVL6_EXP_AWARD
	Rank					=	6
	LevelUpFx				=	FX:GandalfLevelUp1FX
	AttributeModifiers		=	 HeroLevelUpDamage5	;ElrondResistKnockback
	Upgrades				=	Upgrade_AragornBladeMaster
	SelectionDecal
		Texture				=	decal_hero_good
		Style				=	SHADOW_ALPHA_DECAL
		OpacityMin			=	50%	
		OpacityMax			=	100%
		MinRadius			=	40
		MaxRadius			=	200
		MaxSelectedUnits	=	40
	End	
End	

ExperienceLevel	ElrondLevel7
	TargetNames				=	ElvenElrond
	RequiredExperience		=	ELROND_LVL7_EXP_NEEDED	
	ExperienceAward			=	ELROND_LVL7_EXP_AWARD
	Rank					=	7
	LevelUpFx				=	FX:GandalfLevelUp1FX
	AttributeModifiers		=	 HeroLevelUpDamage6	;ElrondResistKnockback
	Upgrades				=	;Upgrade_ElrondTornado ; Cant take this out. because it had the real tornado 
	SelectionDecal
		Texture				=	decal_hero_good
		Style				=	SHADOW_ALPHA_DECAL
		OpacityMin			=	50%	
		OpacityMax			=	100%
		MinRadius			=	40
		MaxRadius			=	200
		MaxSelectedUnits	=	40
	End	
End	

ExperienceLevel	ElrondLevel8
	TargetNames				=	ElvenElrond
	RequiredExperience		=	ELROND_LVL8_EXP_NEEDED	
	ExperienceAward			=	ELROND_LVL8_EXP_AWARD
	Rank					=	8
	LevelUpFx				=	FX:GandalfLevelUp1FX
	AttributeModifiers		=	 HeroLevelUpDamage7	;ElrondResistKnockback
	Upgrades				=	Upgrade_ElrondTornado
	SelectionDecal
		Texture				=	decal_hero_good
		Style				=	SHADOW_ALPHA_DECAL
		OpacityMin			=	50%	
		OpacityMax			=	100%
		MinRadius			=	40
		MaxRadius			=	200
		MaxSelectedUnits	=	40
	End	
End	

ExperienceLevel	ElrondLevel9
	TargetNames				=	ElvenElrond
	RequiredExperience		=	ELROND_LVL9_EXP_NEEDED	
	ExperienceAward			=	ELROND_LVL9_EXP_AWARD
	Rank					=	9
	LevelUpFx				=	FX:GandalfLevelUp1FX
	AttributeModifiers		=	 HeroLevelUpDamage8	;ElrondResistKnockback
	Upgrades				=	Upgrade_GandalfWordOfPower ; his word of power nature wave thing.
	SelectionDecal
		Texture				=	decal_hero_good
		Style				=	SHADOW_ALPHA_DECAL
		OpacityMin			=	50%	
		OpacityMax			=	100%
		MinRadius			=	40
		MaxRadius			=	200
		MaxSelectedUnits	=	40
	End	
End	

ExperienceLevel	ElrondLevel10
	TargetNames				=	ElvenElrond
	RequiredExperience		=	ELROND_LVL10_EXP_NEEDED	
	ExperienceAward			=	ELROND_LVL10_EXP_AWARD
	Rank					=	10
	AttributeModifiers		=	 HeroLevelUpDamage9	;ElrondResistKnockback
	Upgrades				=	Upgrade_ElrondRestoration
	SelectionDecal
		Texture				=	decal_hero_good
		Style				=	SHADOW_ALPHA_DECAL
		OpacityMin			=	50%	
		OpacityMax			=	100%
		MinRadius			=	40
		MaxRadius			=	200
		MaxSelectedUnits	=	40
	End	
End	

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Elrond's Command Buttons
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

CommandButton Command_ArwenFlood
  Command                 = SPECIAL_POWER
  SpecialPower            = SpecialAbilityPersonalFlood
  Options                 = NEED_TARGET_POS CONTEXTMODE_COMMAND
  TextLabel               = CONTROLBAR:PersonalFlood1
  ButtonImage             = SBGood_Flood
  ButtonBorderType        = ACTION 
  RadiusCursorType        = FloodRadiusCursor
  DescriptLabel           = CONTROLBAR:ToolTipPersonalFlood1
  InPalantir              = Yes
End

CommandButton Command_SpecialAbilityWordOfPower
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilitynaturewave
  Options                 = NONE
  TextLabel               = CONTROLBAR:naturewave
  ButtonImage             = Gandolf_radcircle;HSGandalfWordOfPower
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipnaturewave
  AutoAbility			  = Yes
  PresetRange			  = 120.0
  InPalantir			  = Yes
  UnitSpecificSound = ElrondVoiceAttack
End

CommandButton Command_SpecialAbilityBladeMaster
  Command                 = SPECIAL_POWER
  Options                 = NONE 
  SpecialPower            = SpecialAbilityAragornBladeMaster
  TextLabel               = CONTROLBAR:ElrondBladeMaster
  ButtonImage             = HSAragornBladeMaster
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipElrondBladeMaster
  InPalantir			  = Yes
  AutoAbility			  = Yes
  AutoDelay				  = 30.0
  PresetRange			  = 50.0
;  UnitSpecificSound = GandalfSpellVoice
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Elrond Commandset
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

CommandSet NewElrondCommandSet ; be very carefull, elrond's commandset is full of unknown glitches.
	1	= Command_SpecialAbilityElrondElvenGrace
	2	= Command_SpecialAbilityBladeMaster  ; White sword blade master
	3	= Command_ArwenFlood  ; 
	4	= Command_SpecialAbilityWordOfPower   ;
	5   = Command_SpecialPowerSpawnWhirlwind ; leave this, may crash game if somthing is changed here.
	6	= Command_SpecialAbilityElrondRestoration
	11	= Command_ToggleStance
	12	= Command_CaptureBuilding
	13	= Command_AttackMove
	14	= Command_Stop
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Weapon/ abillitys objects etc
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; Elrond Object, add modules, etc abillitys etc!
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>


Object ElvenElrond ; Start Of Elrond


	ReplaceModule ModuleTag_ElrondHealing
	Behavior = AutoHealBehavior ModuleTag_ElrondHealing1
		StartsActive = Yes
		HealingAmount = 50
		HealingDelay = 1000
		StartHealingDelay = 10000
		HealOnlyIfNotInCombat = Yes
	End
	End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
	ReplaceModule ModuleTag_RespawnBody
	Body = RespawnBody ModuleTag_RespawnBody1
		CheerRadius 			= EMOTION_CHEER_RADIUS
		MaxHealth         		= 2500	;ELROND_HEALTH
		PermanentlyKilledByFilter	= NONE		;Who kills me permanently?
   		DodgePercent      		= HERO_DODGE_PERCENT
	End
	End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Melee Display, command set, and weapon sets
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

	DisplayMeleeDamage = 250
	CommandSet = NewElrondCommandSet ;NewElrondCommandSet 

	WeaponSet
		Conditions		= WEAPONSET_HERO_MODE
		Weapon			= PRIMARY    ElrondHeroSword
	End

	WeaponSet
		Conditions				= None
		Weapon					= PRIMARY ElrondSword
		AutoChooseSources		= PRIMARY FROM_PLAYER FROM_SCRIPT FROM_AI
	End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Flood
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>


	AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_FloodEnabler
		SpecialPowerTemplate = SpecialAbilityPersonalFlood
		TriggeredBy = Upgrade_ArwenFloodTrigger
	End
	End

	AddModule
	Behavior = SpecialPowerModule ModuleTag_FloodStarter                      
		SpecialPowerTemplate		= SpecialAbilityPersonalFlood
		UpdateModuleStartsAttack	= Yes
		StartsPaused				= Yes
		InitiateSound				= ElrondVoiceAttack
	End
	End
	
	AddModule
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_FloodUpdate   
		SpecialPowerTemplate    = SpecialAbilityPersonalFlood

		UnpackTime              = 1300
		PackTime                = 1500

		StartAbilityRange = 150.0
		
		SpecialWeapon = ArwenPersonalFlood
		WhichSpecialWeapon = 1
	End
	End


;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Blade Master
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
      AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_AragornBladeMasterEnabler
		SpecialPowerTemplate = SpecialAbilityAragornBladeMaster
		TriggeredBy = Upgrade_AragornBladeMaster
	End
      End
      AddModule
  	Behavior = SpecialPowerModule ModuleTag_AragornBladeMasterStarter
		SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
		StartsPaused			= Yes
            TriggerFX                  = FX_ElrondBladeStart
	End
      End
      AddModule
	Behavior = HeroModeSpecialAbilityUpdate ModuleTag_AragornBladeMasterUpdate
		SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
		HeroAttributeModifier	= ElrondBladeMaster
		HeroEffectDuration		= 30000
		UnpackTime              = 1
	End
      End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;nature wave
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

      AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_WordEnabler
		SpecialPowerTemplate = SpecialAbilitynaturewave
		TriggeredBy = Upgrade_GandalfWordOfPower
	End
      End
      AddModule
	Behavior = SpecialPowerModule ModuleTag_WordStarter       
		SpecialPowerTemplate      = SpecialAbilitynaturewave
		UpdateModuleStartsAttack  = Yes
		StartsPaused		  	  = Yes
		InitiateSound				= GaladrielTerribleFuryMS  ;ElrondVoiceAttack
	End
      End
      AddModule
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WordWeaponFireUpdate   
		SpecialPowerTemplate    = SpecialAbilitynaturewave
		WhichSpecialWeapon		= 1
		SkipContinue			= Yes
		UnpackTime              = 1400 
		PackTime                = 1		
		FreezeAfterTriggerDuration = 2500
		AwardXPForTriggering    = 0		
		StartAbilityRange		= 80.0
		SpecialWeapon			= NatureWaveWeapon
	End
      End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;animations
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>



	ReplaceModule ModuleTag_DRAW
	Draw = W3DScriptedModelDraw ModuleTag_DRAW1

		OkToChangeModelColor	= Yes
		StaticModelLODMode		= Yes
 
		DefaultModelConditionState
			Model						=	RUElrond_SKN
			ParticleSysBone = B_SWORDBONE ElrondSwordFire FollowBone:Yes
		End
		ModelConditionState = WEAPONSET_HERO_MODE
			ParticleSysBone = B_SWORDBONE ElrondSwordFire FollowBone:Yes
			ParticleSysBone = BAT_RIBS ElrondBladeMaster FollowBone:Yes
		End


	
		; ------ Flying ------- ;

		AnimationState        			= STUNNED_STANDING_UP
			StateName					= GetUp
			Animation           		= GetUpSword
				AnimationName       	= RUElrond_SKL.RUElrond_GTPSX1
				AnimationMode       	= ONCE
			End
			BeginScript
				Prev = CurDrawablePrevAnimation()
				if Prev == "FallWithSword"
				then
					return "GetUpSword"
				end
			EndScript
		End

		AnimationState        			= STUNNED
			Animation           		= FallWithSword
				AnimationName       	= RUElrond_SKL.RUElrond_LNDB
				AnimationMode       	= ONCE
			End
			Flags = MAINTAIN_FRAME_ACROSS_STATES
			
			
			BeginScript
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
				Prev = CurDrawablePrevAnimation()
			
				return "FallWithSword"
			EndScript
		End
		
		AnimationState        			= STUNNED_FLAILING
			Animation           		= DieWithSword
				AnimationName       	= RUElrond_SKL.RUElrond_FLYB
				AnimationMode       	= LOOP
				AnimationSpeedFactorRange	= 0.4 0.6
			End
			
			BeginScript
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
			EndScript
		End
		
		
		; ------ Dying ------- ;

		AnimationState        			= DYING
			Animation           		= DieWithSword
				AnimationName       	= RUElrond_SKL.RUElrond_DIESv5
				AnimationMode       	= ONCE
			End
			;Animation           		= DieWithSword
			;	AnimationName       	= RUElrond_SKL.RUElrond_DIESV4
			;	AnimationMode       	= ONCE
			;End
			
			BeginScript
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
			EndScript
		End
		
		AnimationState						= PARALYZED
			Animation
				AnimationName				= RUElrond_SKL.RUElrond_IDLF
				AnimationMode				= LOOP
			End
		End

		
		; ------------ Moving ------------- ;
		
		AnimationState        			= MOVING
			StateName					= Moving_Sword
			SimilarRestart				= Yes
			Animation           		= run_s
				AnimationName       	= RUElrond_SKL.RUElrond_RUNS
				AnimationMode       	= LOOP
				Distance				= 40
			End
			Animation					= finishrun_b
				AnimationName       	= RUElrond_SKL.RUElrond_RUNB
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 40
			End
			Animation					= runtrans_bs
				AnimationName       	= RUElrond_SKL.RUElrond_RUNC
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 70
			End
			Animation					= runtrans_sb_finish
				AnimationName       	= RUElrond_SKL.RUElrond_RUNT
				AnimationMode       	= ONCE
				AnimationBlendTime		= 0
				Distance				= 70
			End
			Animation					= runnoblend_s
				AnimationName       	= RUElrond_SKL.RUElrond_RUNS
				AnimationMode       	= LOOP
				AnimationBlendTime		= 0
				Distance				= 40
			End
			Flags = MAINTAIN_FRAME_ACROSS_STATES RESTART_ANIM_WHEN_COMPLETE
			
			BeginScript
				PrevAnim	= CurDrawablePrevAnimation()
				PrevState	= CurDrawablePrevAnimationState()
				
				if PrevState == "GetUp"  or PrevAnim == "DrawSwords"
				then
					if PrevAnim == "DrawSwords"
					then
						return "runtrans_bs"
					else
						return
					end
				elseif PrevAnim == "finishrun_b" or PrevAnim == "runtrans_sb_finish"
				then
					return "runtrans_bs"
				elseif PrevAnim == "runtrans_bs" or PrevAnim == "run_s" or PrevAnim == "runnoblend_s"
				then
					return "runnoblend_s"
				else
					return "run_s"
				end				
			EndScript
		End
		
		; ------ Attacking ------- ;
		
		AnimationState        			= FIRING_OR_PREATTACK_A
			StateName					= Ready_Sword
			
			Animation           		= AttackWithSwordA
				AnimationName       	= RUElrond_SKL.RUElrond_ATKSV2
				AnimationMode       	= ONCE
				UseWeaponTiming			= Yes
			End
			Animation           		= AttackWithSwordB
				AnimationName       	= RUElrond_SKL.RUElrond_ATKS
				AnimationMode       	= ONCE
				UseWeaponTiming			= Yes
			End
			Animation           		= AttackWithSwordD
				AnimationName       	= RUElrond_SKL.RUElrond_ATKSV4
				AnimationMode       	= ONCE
				UseWeaponTiming			= Yes
			End
			BeginScript
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")
			EndScript
		End

		AnimationState					= USER_1
			Animation
				AnimationName			= RUElrond_SKL.RUElrond_TNTSV1
				AnimationMode			= ONCE
			End
		End

		AnimationState				= LEVELED
			Animation				= LevelUp
				AnimationName		= RUElrond_SKL.RUElrond_CHRST2
				AnimationMode		= ONCE
				AnimationBlendTime	= 20
			End
		End
		
		; -------- Alert ------- ;
		
		AnimationState					= EMOTION_ALERT
			StateName					= Ready_Sword
			
			Animation					= Alert_1
				AnimationName			= RUElrond_SKL.RUElrond_IDLST1
				AnimationMode			= ONCE
				AnimationPriority		= 20
			End
			Animation					= Alert_1
				AnimationName			= RUElrond_SKL.RUElrond_IDLST1	; Secondary to solve the 'no play last anim' feature.
				AnimationMode			= ONCE
				AnimationPriority		= 20
			End
			Animation					= Alert_2
				AnimationName			= RUElrond_SKL.RUElrond_TNTSV1
				AnimationMode			= ONCE
				AnimationPriority		= 5
			End
			Flags						= RESTART_ANIM_WHEN_COMPLETE
			
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				PrevName = CurDrawablePrevAnimation()
				
				CurDrawableHideSubObject("ArrowNock")
				CurDrawableHideSubObject("arrow")

				if		Prev == "Bored_Sword"		then CurDrawableSetTransitionAnimState("TRANS_BR_Sword")
				elseif	Prev == "Selected_Sword"		then CurDrawableSetTransitionAnimState("TRANS_SR_Sword")
				end
			EndScript
		End
		
		; --------- Hit Reactions ---------- ;
		
		AnimationState = HIT_REACTION HIT_LEVEL_1
			StateName					= Bored_Sword
			Animation					= Hit_Level_1_a
				AnimationName			= RUElrond_SKL.RUElrond_HITSv1
				AnimationMode			= ONCE
				AnimationBlendTime		= 20
			End
		End

		
		AnimationState				= RAISING_FLAG
			Animation					= Alert_1
				AnimationName			= RUElrond_SKL.RUElrond_CHRST2
				AnimationMode			= LOOP
				AnimationBlendTime	= 10
			End
		End
	
		; ------ Emotions ------ ;
		AnimationState					= EMOTION_TAUNTING
			Animation
				AnimationName			= RUElrond_SKL.RUElrond_TNTSV1
				AnimationMode			= LOOP
				AnimationBlendTime	= 10
			End
		End

		AnimationState				=	EMOTION_CELEBRATING
			Animation
				AnimationName		=	RUElrond_SKL.RUElrond_CHRST2
				AnimationMode		=	LOOP
				AnimationBlendTime	= 10
			End
		End
		
		; ------ Selected ------ ;

		AnimationState				=	SELECTED
			StateName				=	Selected_Sword
			
			Animation				=	ATNA
				AnimationName		=	RUElrond_SKL.RUElrond_ATNS
				AnimationMode		=	LOOP
			End
			
			BeginScript
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")
				
				Prev = CurDrawablePrevAnimationState()
				PrevName = CurDrawablePrevAnimation()
				if Prev == "Bored_Sword"		then CurDrawableSetTransitionAnimState("TRANS_BS_Sword")
				elseif Prev == "Ready_Sword"		then CurDrawableSetTransitionAnimState("TRANS_RS_Sword")
				end	
			EndScript
		End

		
		; ------- Bored -------- ;
		
		IdleAnimationState
			StateName					= Bored_Sword
			
			Animation           		= IDLCX1
				AnimationName       	= RUElrond_SKL.RUElrond_IDLF
				AnimationMode       	= ONCE
				AnimationPriority		= 20
			End
			Animation           		= IDLCX1
				AnimationName       	= RUElrond_SKL.RUElrond_IDLF	; Secondary to solve the 'no play last anim' feature.
				AnimationMode       	= ONCE
				AnimationPriority		= 20
			End
			Animation           		= IDLCt3
				AnimationName       	= RUElrond_SKL.RUElrond_IDLCT3
				AnimationMode       	= ONCE
				AnimationPriority		= 10
			End
			Animation           		= IDLCT1
				AnimationName       	= RUElrond_SKL.RUElrond_IDLCT1
				AnimationMode       	= ONCE
				AnimationPriority		= 5
			End
			
			Flags						= RESTART_ANIM_WHEN_COMPLETE

			BeginScript
				CurDrawableHideSubObject("ARROW")
				CurDrawableHideSubObject("ARROWNOCK")				

				Prev = CurDrawablePrevAnimationState()
				PrevName = CurDrawablePrevAnimation()
				if Prev == "Selected_Sword"		then CurDrawableSetTransitionAnimState("TRANS_SB_Sword")
				elseif Prev == "Ready_Sword"		then CurDrawableSetTransitionAnimState("TRANS_RB_Sword")
				end	
			EndScript
		End
		
		;----------------- Sword Transitions -------------------------;
		
		TransitionState       			= TRANS_BS_Sword
			Animation           		= TRANS_BS_Sword
				AnimationName     		= RUElrond_SKL.RUElrond_ATNA
				AnimationMode     		= ONCE
			End
			Animation           		= ATNAX1
				AnimationName     		= RUElrond_SKL.RUElrond_ATNX1
				AnimationMode     		= ONCE
			End
		End
		
		TransitionState       			= TRANS_SR_Sword
			Animation           		= TRANS_SR_Sword
				AnimationName     		= RUElrond_SKL.RUElrond_ATNC
				AnimationMode     		= ONCE
			End
		End
		
		TransitionState       			= TRANS_SB_Sword
			Animation           		= TRANS_SB_Sword
				AnimationName     		= RUElrond_SKL.RUElrond_ATNA
				AnimationMode     		= ONCE_BACKWARDS
			End
			Flags = START_FRAME_LAST
		End
		
		TransitionState       			= TRANS_RS_Sword
			Animation           		= TRANS_RS_Sword
				AnimationName     		= RUElrond_SKL.RUElrond_ATNC
				AnimationMode     		= ONCE_BACKWARDS
			End
			Flags = START_FRAME_LAST
		End
		
		TransitionState       			= TRANS_BR_Sword
			Animation           		= TRANS_BR_Sword
				AnimationName     		= RUElrond_SKL.RUElrond_ATNS
				AnimationMode     		= ONCE
				AnimationBlendTime		= 20
			End
		End
		
		TransitionState       			= TRANS_RB_Sword
			Animation           		= TRANS_RB_Sword
				AnimationName     		= RUElrond_SKL.RUElrond_IDLG
				AnimationMode     		= ONCE
				AnimationBlendTime		= 20
			End
		End
		
	End
	End


;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;When Elrond dies, make this.

  AddModule
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_DIELIKETHIS
    StartsActive = Yes
    DeathWeapon = NatureWaveWeapon
  End
  End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
End ; End of Elrond


;END OF THE 6 GOOD HEROS


;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<MORGOTH>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<THE EVIL GOD HERO>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;morgoth FXs
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Morgoths Black smoke shit that follows him around, "his soul" LOL
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem MorgothStaffFire
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = EXFireScroll3.tga  ;EXFireScroll2.tga
    Lifetime = 38 28
    SortLevel = 1
    Size = 6 6
    BurstCount = 5 5
  End
  Color = DefaultColor
    Color2 = R:20 G:20 B:20 5
    Color3 = R:20 G:20 B:20 15
    Color4 = R:0 G:0 B:0 25
;    Color2 = R:185 G:106 B:40 5
;    Color3 = R:200 G:95 B:38 15
;    Color4 = R:200 G:90 B:32 25
  End
  Alpha = DefaultAlpha
    Alpha2 = -1.5 -1.7 5
    Alpha3 = -1.2 -1.5 15
    Alpha4 = -1.2 -1.5 25
  End
  Update = DefaultUpdate
    SizeRate = 0.1 0.1
    SizeRateDamping = 1 1
    AngleZ = 7 7
    AngularRateZ = -0.1 0.1
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = -0.01
    VelocityDamping = 1 1
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = SphereEmissionVolume
    Radius = 3
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem MorgothLegFire
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = EXFireScroll3.tga  ;EXFireScroll2.tga
    Lifetime = 38 28
    SortLevel = 1
    Size = 10 10
    BurstCount = 9 9
  End
  Color = DefaultColor
    Color2 = R:20 G:20 B:20 5
    Color3 = R:20 G:20 B:20 15
    Color4 = R:0 G:0 B:0 25
;    Color2 = R:185 G:106 B:40 5
;    Color3 = R:200 G:95 B:38 15
;    Color4 = R:200 G:90 B:32 25
  End
  Alpha = DefaultAlpha
    Alpha2 = -1.5 -1.7 5
    Alpha3 = -1.2 -1.5 15
    Alpha4 = -1.2 -1.5 25
  End
  Update = DefaultUpdate
    SizeRate = 0.1 0.1
    SizeRateDamping = 1 1
    AngleZ = 0 7
    AngularRateZ = -0.1 0.1
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = -0.01
    VelocityDamping = 1 1
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = SphereEmissionVolume
    Radius = 10
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem MorgothFire
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = EXFireScroll3.tga  ;EXFireScroll2.tga
    Lifetime = 38 28
    SortLevel = 1
    Size = 6 6
    BurstCount = 3 5
  End
  Color = DefaultColor
    Color2 = R:20 G:20 B:20 5
    Color3 = R:20 G:20 B:20 15
    Color4 = R:0 G:0 B:0 25
;    Color2 = R:185 G:106 B:40 5
;    Color3 = R:200 G:95 B:38 15
;    Color4 = R:200 G:90 B:32 25
  End
  Alpha = DefaultAlpha
    Alpha2 = -1.5 -1.7 5
    Alpha3 = -1.2 -1.5 15
    Alpha4 = -1.2 -1.5 25
  End
  Update = DefaultUpdate
    SizeRate = 0.1 0.1
    SizeRateDamping = 1 1
    AngleZ = 0 7
    AngularRateZ = -0.1 0.1
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    Gravity = -0.01
    VelocityDamping = 1 1
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = SphereEmissionVolume
    Radius = 5
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Suck-in wave
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXParticleSystem BlackWave1
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = EXFireScroll3.tga  ;excracks.tga
    Lifetime = 50 50
    SystemLifetime = 45
    Size = 400 400
    StartSizeRate = 1 1
    BurstDelay = 2 2
    BurstCount = 1 1
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color2 = R:20 G:20 B:20 15
  End
  Alpha = DefaultAlpha
    Alpha2 = 1.5 0.7 7
    Alpha3 = -0.2 0 25
  End
  Update = DefaultUpdate
    SizeRate = -20 -20
    SizeRateDamping = 1.05 1.05
    AngleZ = -180 180
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.75 0.8
  End
  EmissionVelocity = OutwardEmissionVelocity
    Speed = -4 -4
    OtherSpeed = -4 -4
  End
  EmissionVolume = LineEmissionVolume
    IsHollow = Yes
    StartPoint = X:0 Y:0 Z:-8
    EndPoint = X:0 Y:0 Z:10
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
FXParticleSystem BlackWave2
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = exwatersphere.w3d  ;EXFireScroll3.tga
    Lifetime = 40 40
    SystemLifetime = 20
    Size = 3 3
    BurstDelay = 5 5
    BurstCount = 1 1
    InitialDelay = 20 20
  End
  Color = DefaultColor
    Color2 = R:20 G:20 B:20 20
    Color3 = R:0 G:0 B:0 40
  End
  Update = DefaultUpdate
    SizeRate = 2 2
    SizeRateDamping = 1.03 1.03
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.75 0.8
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:0 Y:0 Z:8
    EndPoint = X:0 Y:0 Z:8
  End
  Draw = DefaultDraw
  End
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXParticleSystem NewBlackRiderFlare
  System
    Priority = VERY_LOW_OR_ABOVE
    Shader = ALPHA
    ParticleName = EXCloudNazgul.tga
    Lifetime = 20 20
    Size = 20 20
    BurstDelay = 1 1
    BurstCount = 1 1
  End
  Color = DefaultColor
    Color2 = R:193 G:0 B:0 5
    Color3 = R:0 G:0 B:0 30
  End
  Alpha = DefaultAlpha
    Alpha2 = 0.5 0.75 5
    Alpha3 = -0.2 0 30
  End
  Update = DefaultUpdate
    SizeRate = 1 1
    SizeRateDamping = 1 1
    AngleZ = -3 3
    AngularRateZ = -0.01 0.01
    AngularDamping = 1 1
    AngularDampingXY = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 1 1
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = LineEmissionVolume
    StartPoint = X:0 Y:0 Z:5
    EndPoint = X:0 Y:0 Z:1
  End
  Draw = DefaultDraw
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXParticleSystem DarkGround
  System
    Priority = ALWAYS_RENDER
    Shader = ALPHA
    ParticleName = exsplathaze.tga
    Lifetime = 22 22
    SystemLifetime = 80
    SortLevel = 1
    Size = 20 20
    StartSizeRate = 2 2
    BurstCount = 1 1
    IsGroundAligned = Yes
  End
  Color = DefaultColor
    Color1 = R:0 G:0 B:0 0
    Color2 = R:0 G:0 B:0 22
    ColorScale = -5 0
  End
  Update = DefaultUpdate
    SizeRate = 20 20
    SizeRateDamping = 0.9 0.9
    AngularDamping = 1 1
  End
  Physics = DefaultPhysics
    VelocityDamping = 0.8 0.8
  End
  EmissionVelocity = OutwardEmissionVelocity
  End
  EmissionVolume = PointEmissionVolume
  End
  Draw = DefaultDraw
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXList FX_DarkGround
  ParticleSystem
    Name = BlackWave2  ;DarkGround
    Offset = X:0.0 Y:0.0 Z:10.0
  End
  Sound 
    Name = Gui_ScoreScreenWindows
  End
End

FXList FX_DarkGroundHit
  ParticleSystem
    Name = BlackWave2  ;DarkGround
    Offset = X:0.0 Y:0.0 Z:10.0
  End
  Sound 
    Name = GandalfIstariLightStart
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

ModifierList DarkRing
	Category = SPELL
	Modifier = DAMAGE_MULT 200%		// Multiplicitive.  Damage multiplied by this, will compound in multiple bonuses
	Modifier = SPEED 200%
	Duration = 30000
	FX		 = FX_DarkGround
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;morgoth FX LISTS
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

FXList FX_BlackWave
  ParticleSystem
    Name = BlackWave1
    Offset = X:0.0 Y:0.0 Z:25.0
  End
  ParticleSystem
    Name = BlackWave2
    Offset = X:0.0 Y:0.0 Z:5.0
  End
  Sound
    Name = GaladrielTerribleFuryMS
  End
  CameraShakerVolume
    Radius = 3000
    Duration_Seconds = 1.5
    Amplitude_Degrees = 0.4
  End
End

FXList FX_BlackWaveVictims
  TintDrawable
	Color				= R:-50 G:-50 B:-50
	PreColorTime		= 10
	PostColorTime		= 10
	SustainedColorTime	= 560
	Frequency			= 0
	Amplitude			= 0
  End
End

ModifierList BlackWaveVictims
	Category = WEAPON
	Duration = 0
      FX       = FX_BlackWaveVictims
End


;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;morgoth timers
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

SpecialPower SpecialAbilityBlackWave
	Enum			= SPECIAL_WORD_OF_POWER
	ReloadTime		= 100000
	PublicTimer		= No
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;morgoth abillity weapons
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Weapon BlackWaveWeapon
	IdleAfterFiringDelay = 0
	AttackRange = GANDALF_WORD_OF_POWER_RANGE
	MinimumAttackRange = 0.8
	WeaponSpeed = 401
	MinWeaponSpeed = 241
	MaxWeaponSpeed = 601
	ScaleWeaponSpeed = Yes
	RadiusDamageAffects = ENEMIES NOT_SIMILAR
	DelayBetweenShots = 5000
	PreAttackDelay        = 2600
	PreAttackType         = PER_ATTACK
      FireFX					= FX_BlackWave
      ClearNuggets
	DamageNugget
		Damage			= 750
		Radius			= 300.0
		DamageType		= MAGIC
		DamageFXType	= MAGIC
		DeathType		= EXPLODED
	End
      AttributeModifierNugget
            AttributeModifier = BlackWaveVictims
		Radius			= 600.0
      End
	MetaImpactNugget
		InvertShockWave		= Yes
		ShockWaveAmount   = 250.0
		ShockWaveRadius   = 3000.0
		ShockWaveTaperOff	= 1.0
		ShockWaveZMult    = 0.2
	End
	MetaImpactNugget
		InvertShockWave		= Yes
		ShockWaveAmount   = 200.0
		ShockWaveRadius   = 225.0
		ShockWaveTaperOff	= 1.0
		ShockWaveZMult    = 0.3
	End  
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Morgoth Sword weapons
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

Weapon MorgothSword
	IdleAfterFiringDelay = 0
	LeechRangeWeapon	 = Yes
	AttackRange = 30  ;GANDALF_FORCE_ATTaCK_RANGE
	WeaponSpeed = 401         ; dist/sec 
	RadiusDamageAffects = ENEMIES NEUTRALS NOT_SIMILAR
	DelayBetweenShots = 767               ; time between shots, msec
	PreAttackDelay        = 533
	PreAttackType         = PER_ATTACK ; Do the delay each time we attack a new target
;	FireFX                = FX_TelekinesisAtBone
	FiringDuration        = 800
	DamageDealtAtSelfPosition = Yes ; Damage arc code is boned right now.  Does calc from source obj, not damage point.  To get proper arc, need to set this until code is fixed.
	IsAimingWeapon		= Yes
	AcceptableAimDelta	= 15
	AntiAirborneVehicle	= No
	AntiAirborneMonster	= No

	DamageNugget                        ; A basic Nugget that just does damage
		Damage			= 1000
		DamageArc 		= 75
		Radius			= 200.0
		DamageType		= MAGIC
		DamageFXType	= WITCH_KING_MORGUL_BLADE
		DeathType		= EXPLODED
		DamageSpeed		= 300.0 ; must match the ShockWaveSpeed below
	End
      AttributeModifierNugget
            AttributeModifier = BlackWaveVictims
		Radius			= 40.0
      End
	MetaImpactNugget                    ; A Nugget that throws things back with force
		HeroResist			= .75
		ShockWaveAmount   = 125.0
		ShockWaveArc	  = 75
		ShockWaveRadius   = 110.0
		ShockWaveTaperOff = 0.75
		ShockWaveZMult    = 0.700
		ShockWaveSpeed	  = 300.0 
	End
End

Weapon MorgothHeroSword
  LeechRangeWeapon      = Yes
  AttackRange           = 30.0
  MeleeWeapon           = Yes
  DelayBetweenShots     = 767
  PreAttackDelay        = 533
  PreAttackType         = PER_SHOT
  FireFX                = FX_DarkGround
  FiringDuration        = 800
  RadiusDamageAffects = ENEMIES NOT_SIMILAR
  ClearNuggets
  DamageNugget
    Damage        = 500
    Radius        = 300.0
    DelayTime     = 0
    DamageType    = MAGIC
    DamageFXType  = WITCH_KING_MORGUL_BLADE
    DeathType     = EXPLODED
    DamageArc     = 600
    DamageSpeed		= 500.0 ; must match the ShockWaveSpeed below
  End
  MetaImpactNugget
    HeroResist			= .75
    ShockWaveAmount   = 120.0		
    ShockWaveRadius   = 66.0
    ShockWaveTaperOff = 0.4
    ShockWaveArc      = 600
    ShockWaveSpeed	  = 500.0
  End
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Morgoth XPS LEVELS
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

;Make all abillity trigger be gandy the white, there is a way to make it just go without it, the first add module, but i feel
;safest doing all 3 modules for all abillitys.
;Seen as he starts at level 10 he doesnt have any. but Upgrade_GandalfWhite

ExperienceLevel	FaramirLevel10
	TargetNames						=	GondorFaramir GondorFaramirCavalry	
	RequiredExperience				=	FARAMIR_LVL10_EXP_NEEDED
	ExperienceAward					=	FARAMIR_LVL10_EXP_AWARD 	
	LevelUpFx						=	FX:GandalfLevelUp1FX
	Rank							=	10
	Upgrades						=   Upgrade_GandalfWhite
	AttributeModifiers				=	HeroLevelUpDamage9

	SelectionDecal
		Texture						=	decal_hero_good
		Style						=	SHADOW_ALPHA_DECAL
		OpacityMin					=	50%	
		OpacityMax					=	100%
		MinRadius					=	40
		MaxRadius					=	200
		MaxSelectedUnits			=	40
	End	
End	

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Morgoth Command Buttons
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

CommandButton Command_SpecialAbilityNarsilAttack
  Command                 = SPECIAL_POWER
  Options                 = NONE 
  SpecialPower            = SpecialAbilityAragornBladeMaster
  TextLabel               = CONTROLBAR:DarkRing
  ButtonImage             = HSAragornBladeMaster
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipDarkRing
  InPalantir			  = Yes
  AutoAbility			  = Yes
  AutoDelay				  = 30.0
  PresetRange			  = 50.0
;  UnitSpecificSound = GandalfSpellVoice
End

CommandButton Command_SpecialAbilityWordOfPower  ;Command_WitchKingLeadership
  Command                 = SPECIAL_POWER 
  SpecialPower            = SpecialAbilityBlackWave
  Options                 = NONE
  TextLabel               = CONTROLBAR:BlackWave
  ButtonImage             = Gandolf_radcircle
  ButtonBorderType        = ACTION 
  DescriptLabel           = CONTROLBAR:ToolTipBlackWave
  AutoAbility			  = Yes
  PresetRange			  = 120.0
  InPalantir			  = Yes
  UnitSpecificSound = FellBeastVoiceAttack
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Morgoth CommandSet
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

CommandSet MorgothCommandSet
	1	= Command_ToggleStance
	2  	= Command_SpecialAbilityWordOfPower
	3  	= Command_SpecialAbilityNarsilAttack
;	4  	= Command_WitchKingLeadership
;	5  	= Command_WitchKingLeadership
;	6  	= Command_WitchKingLeadership
	12 	= Command_CaptureBuilding
	13 	= Command_AttackMove
	14 	= Command_Stop
End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Weapon Objects
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>



;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Morgoth Armor
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
Armor MorgothArmor
  Armor = DEFAULT         10%     ;this sets the level for all nonspecified damage types
  Armor = MAGIC           30%   ;
  Armor = PIERCE          3%     ;archer damage
  Armor = CRUSH           10%  ;20%     ;cavalry damage
  Armor = SLASH           15%     ;soldier damage
  Armor = URUK            10%     ;Uruk damage
  Armor = HERO            20%     ;Hero damage
  Armor = HERO_RANGED     3%     ;Hero bow damage
  Armor = FLAME		  1%     ;fire damage
  Armor = SIEGE		  10%
End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;MORGOTH Object/ Add modules replace modules ETC!
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

ChildObject GondorFaramir GondorGandalf 
  KindOf          = HERO PRELOAD SELECTABLE CAN_CAST_REFLECTIONS MONSTER SCORE CAN_ATTACK NO_FREEWILL_ENTER PATH_THROUGH_INFANTRY SCARY BIG_MONSTER CAN_ATTACK_WALLS
	DisplayName = Morgoth  ;OBJECT:Morgoth  ;MordorFellBeast
	ButtonImage = UPBarrowWight  ;BCWightLair_BarrowWight  ;HPBlackRider  ;HSSauronTerribleFury  ;HSWitchKingScreech  ;
	SelectPortrait = UPBarrowWight  ;HPBlackRider  ;HSSauronTerribleFury  ;HSWitchKingScreech  ;


	VoiceAttack				= BarrowWightVoxAttack  ;FellBeastVoiceAttack
	VoiceAttackCharge		= BarrowWightVoxAttack  ;FellBeastVoiceAttack
	VoiceAttackMachine		= BarrowWightVoxAttack  ;FellBeastVoiceAttack
	VoiceAttackStructure	= BarrowWightVoxSelect
	;VoiceCreated			= FellBeastVoiceAttack		;this conflicts with his respawn dialogue line -- rehooked to spawn FX
	;VoiceFullyCreated 		= GandalfVoiceSalute		;this conflicts with his respawn dialogue line -- rehooked to spawn FX
	VoiceFear 				= BarrowWightVoxSelect
	VoiceMove				= BarrowWightVoxSelect
	VoiceMoveToCamp			= BarrowWightVoxSelect
	VoiceMoveWhileAttacking	= BarrowWightVoxAttack
	VoicePriority			= 96
	VoiceRetreatToCastle	= BarrowWightVoxAttack
	VoiceSelect				= BarrowWightVoxAttack
	VoiceSelectBattle 		= BarrowWightAmbienceMS
	VoiceGuard				= BarrowWightAmbienceMS
	SoundImpact				= ImpactHorse

	EvaEventDamagedOwner = UnitUnderAttack
	EvaEventDieOwner = WitchKingDie

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Morgoth Blade Master.
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

	AddModule
	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_AragornBladeMasterEnabler
		SpecialPowerTemplate = SpecialAbilityAragornBladeMaster
		TriggeredBy = Upgrade_GandalfWhite
	End
	End
	
	AddModule
  	Behavior = SpecialPowerModule ModuleTag_AragornBladeMasterStarter
		SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
		StartsPaused			= Yes
            		TriggerFX                  = FX_DarkGround
	End
	End

	AddModule
	Behavior = HeroModeSpecialAbilityUpdate ModuleTag_AragornBladeMasterUpdate
		SpecialPowerTemplate    = SpecialAbilityAragornBladeMaster
		HeroAttributeModifier	= DarkRing
		HeroEffectDuration		= 30000
		UnpackTime              = 1
	End
	End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Suck-inWave
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>

      AddModule
 	Behavior = UnpauseSpecialPowerUpgrade ModuleTag_wordofpowerEnabler
		SpecialPowerTemplate	= SpecialAbilityBlackWave
		TriggeredBy				= Upgrade_GandalfWhite
	End
      End
      AddModule
	Behavior = SpecialPowerModule ModuleTag_WordStarter       
		SpecialPowerTemplate      = SpecialAbilityBlackWave
		UpdateModuleStartsAttack  = Yes
		StartsPaused		  	  = Yes
		InitiateSound			= FellBeastVoiceAttack
	End
      End
      AddModule
	Behavior = WeaponFireSpecialAbilityUpdate ModuleTag_WordWeaponFireUpdate   
		SpecialPowerTemplate    = SpecialAbilityBlackWave
		WhichSpecialWeapon		= 1
		SkipContinue			= Yes
		UnpackTime              = 1700  ;600 
		PackTime                = 1		
		FreezeAfterTriggerDuration = 3500
		AwardXPForTriggering    = 0		
		StartAbilityRange		= 80.0
		SpecialWeapon			= BlackWaveWeapon
	End
      End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>



;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>



;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Costumes, Speed, Health, armor, heal rate and weapon sets
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; This is morgoths model/costume override
; if you are looking for why it makes holes that u see throu, its because some of thos 
;colors have difrent nodes names then gandalfs, color layout node names,
;basicly it just happened.      : )
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
	AddModule
	Behavior = GrantUpgradeCreate ModuleTag_1
		UpgradeToGrant = Upgrade_GandalfWhite  ;
	End 
	End
	AddModule
	Behavior = SubObjectsUpgrade Costume_2
		TriggeredBy		= Upgrade_GandalfWhite ;
		UpgradeTexture	= gugandalf_m.tga 0 MUWtchKngFllBst.tga  ;MUNazgul.tga  ;MUWtchKngFllBst.tga  ; ElvenGaladriel_RingHero
				RecolorHouse	= No
	End
	End
	AddModule
	Behavior = SubObjectsUpgrade Costume_3
		TriggeredBy		= Upgrade_GandalfWhite  ;Upgrade_AragornBladeMaster  ;Upgrade_AragornCostume_01
		UpgradeTexture	= gugandalf.tga 0 MUWtchKngFllBst.tga  ;MUNazgul.tga  ;MUWtchKngFllBst.tga
				RecolorHouse	= No
	End
	End

;This will make him start at rank 10 not 1,
	AddModule	
	Behavior = ExperienceLevelCreate ModuleTag_MPLevelBonus1
		LevelToGrant = 10
		MPOnly = Yes
	End
	End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; This is one of my first hero that i change the costume, as u see i like to be best at first lol., i learn fast, god damn lmao.
; black n little white, nazgul like,
;gugandalf_m.tga 0 cufellbst_rider.tga 
;gugandalf.tga 0 cufellbst_rider.tga
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; ghost
;gugandalf_m.tga 0 cufellbst.tga
;gugandalf.tga 0 cufellbst.tga
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
  LocomotorSet
    Locomotor     = HeroHumanLocomotor
    Condition     = SET_NORMAL
    Speed         = 30   ;he will be 30 when he is done,
  End   

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
	WeaponSet
		Conditions = None 
		Weapon = PRIMARY    MorgothSword
	End

	WeaponSet
		Conditions		= WEAPONSET_HERO_MODE
		Weapon			= PRIMARY    MorgothHeroSword
	End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
	ArmorSet
		Conditions      = None
		Armor           = MorgothArmor
		DamageFX        = NormalDamageFX
	End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
	CommandSet = MorgothCommandSet
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
	DisplayMeleeDamage = 900
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
	ShockwaveResistance = SHOCKWAVE_RESISTANCE_ALWAYS
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
	ReplaceModule ModuleTag_GandalfHealing
	Behavior = AutoHealBehavior ModuleTag_GandalfHealingMorgoth
		StartsActive = Yes
		HealingAmount = 150
		HealingDelay = 1000
		StartHealingDelay = 12000
		HealOnlyIfNotInCombat = Yes
	End
	End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
	ReplaceModule ModuleTag_RespawnBody
	Body = RespawnBody ModuleTag_RespawnBodyMorgoth
		CheerRadius 			= EMOTION_CHEER_RADIUS
		MaxHealth         		= 29200	;GANDALF_THE_WHITE_HEALTH
		PermanentlyKilledByFilter	= NONE		;Who kills me permanently?
   		DodgePercent      		= HERO_DODGE_PERCENT
	End
	End

;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;Animations
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>


  	ReplaceModule ModuleTag_01
	Draw = W3DScriptedModelDraw ModuleTag_011

		GlowEnabled = No;
		GlowEmissive = No;
		
		OkToChangeModelColor = No
		
		StaticModelLODMode = yes ; Will append M or L to the skin name depending on GameLOD

		ExtraPublicBone = STAFF
		ExtraPublicBone = B_SWORDBONE
		ExtraPublicBone = PASSENGERBONE
		DependencySharedModelFlags = TURN_LEFT_HIGH_SPEED TURN_RIGHT_HIGH_SPEED MOVING ACCELERATE DECELERATE TURN_LEFT TURN_RIGHT ATTACKING BACKING_UP
		
		;;; MODEL STATES ;;;
		DefaultModelConditionState ;gandalf is grey to start out with
			Model               = GUGandalfG_SKN
			WeaponLaunchBone    = TERTIARY STAFF 
			ParticleSysBone     = STAFF MorgothStaffFire FollowBone:Yes 
			ParticleSysBone     = B_SWORDBONE MorgothFire FollowBone:Yes
			ParticleSysBone     = BAT_RIBS MorgothFire FollowBone:Yes   ;BalrogManeFire1  ;
			ParticleSysBone     = NONE MorgothLegFire FollowBone:Yes   ; BAT_HEAD
			ParticleSysBone     = BAT_HEAD MorgothFire FollowBone:Yes 
			ParticleSysBone     = BAT_RIBS NewBlackRiderFlare FollowBone:Yes   ; BlackRiderFlare
			ParticleSysBone     = BAT_HEAD NewBlackRiderFlare FollowBone:Yes 
		End

		;;; White Only versions of Gandalf (for solo missions excluding Moria) ;;;
		ModelConditionState		= USER_2 MOUNTED
			Model               = GUGdfHrs_SKN_M
			WeaponLaunchBone    = PRIMARY PASSENGERBONE
			WeaponLaunchBone    = TERTIARY STAFF
;			ParticleSysBone     = STAFF GandalfMoriaLight FollowBone:Yes
;			ParticleSysBone     = STAFF GandalfMoriaLightCenter FollowBone:Yes
		End

		ModelConditionState		= USER_2
			Model               = GUGandalf_SKN
			WeaponLaunchBone    = TERTIARY STAFF 
;			ParticleSysBone     = STAFF GandalfMoriaLight FollowBone:Yes
;			ParticleSysBone     = STAFF GandalfMoriaLightCenter FollowBone:Yes
		End
		
		;;; Grey versions of Gandalf USER MODELS (For Moria only) -- never becomes white;;;
		ModelConditionState		= USER_1 MOUNTED
			Model               = GUGdfGHrs_SKN
			WeaponLaunchBone    = PRIMARY PASSENGERBONE
			WeaponLaunchBone    = TERTIARY STAFF
            Shadow				= SHADOW_ADDITIVE_DECAL
            ShadowSizeX			= 200;
            ShadowSizeY			= 200;
            ShadowTexture		= EXGandalfGlow;
		End

		ModelConditionState		= USER_1
			Model               = GUGandalfG_SKN
			WeaponLaunchBone    = TERTIARY STAFF 
			ParticleSysBone     = STAFF GandalfMoriaLight FollowBone:Yes
			ParticleSysBone     = STAFF GandalfMoriaLightCenter FollowBone:Yes
            Shadow				= SHADOW_ADDITIVE_DECAL
            ShadowSizeX			= 200;
            ShadowSizeY			= 200;
            ShadowTexture		= EXGandalfGlow;
		End
		
		;;; Mounted version of Gandalf White ;;;
		ModelConditionState		= MOUNTED HERO
			Model               = GUGdfHrs_SKN_M
			WeaponLaunchBone    = PRIMARY PASSENGERBONE
			WeaponLaunchBone    = TERTIARY STAFF
		End

		;;; Mounted version of Gandalf Grey ;;;
		ModelConditionState		= MOUNTED
			Model               = GUGdfGHrs_SKN
			WeaponLaunchBone    = PRIMARY PASSENGERBONE
			WeaponLaunchBone    = TERTIARY STAFF
		End
		
		;;; Gandalf the White version on foot ;;;
		ModelConditionState = HERO ;turn me white when the spell is cast
			Model               = GUGandalf_SKN
			WeaponLaunchBone    = TERTIARY STAFF 
		End

		ModelConditionState = WORLD_BUILDER
			Model = None
		End		

		IdleAnimationState
			StateName = Idle
			Animation = Foot_IDLB ; Bored Idle
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLB
				AnimationMode       = ONCE
				AnimationPriority   = 20
			End
			Animation = Foot_IDLC ; Bored Fidget
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLC
				AnimationMode       = ONCE
				AnimationPriority   = 2
			End
			Animation = Foot_IDLD ; Bored Fidget
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLD
				AnimationMode       = ONCE
				AnimationPriority   = 1
			End
			Animation = Foot_IDLE ; Bored Fidget
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLE
				AnimationMode       = ONCE
				AnimationPriority   = 2
			End
			Animation = Foot_IDLF ; Bored Fidget
				AnimationName       = GUGandalfG_SKL.GUGandalfF_IDLF
				AnimationMode       = ONCE
				AnimationPriority   = 1
			End
			
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
				CurDrawableHideSubObject("STAFF_LIGHT")			
			EndScript			
						
		End

		; --- stunned anims  Which must go before deaths in case we are dying in the air.  Plus, DyingSplatted must of course be before Dying
		AnimationState				=	MOUNTED STUNNED_FLAILING 
			Animation				=	JustDie
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_FLYB
				AnimationMode		=	LOOP
			End
			Flags					=	RANDOMSTART
		End
		
		AnimationState				=	MOUNTED DYING SPLATTED
			Animation				=	Land
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_LNDA
				AnimationMode		=	ONCE
			End
		End
		
		AnimationState				=	MOUNTED DYING	
			Animation				=	JustDie
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_DIEA
				AnimationMode		=	ONCE
			End
		End
		
		AnimationState				=	MOUNTED STUNNED_STANDING_UP
			Animation				=	StandUp
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_GTPA
				AnimationMode		=	ONCE
			End
		End

		AnimationState				=	MOUNTED STUNNED
			Animation				=	Land
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_LNDA
				AnimationMode		=	ONCE
			End
		End
		
		

		

		

		AnimationState      = STUNNED_FLAILING 
			Animation = StunnedFlail
				AnimationName         = GUGandalfG_SKL.GUGandalfG_FLYA
				AnimationMode     = LOOP
			End
		End
		
		AnimationState      = DYING SPLATTED
			Animation = Stunned
				AnimationName         = GUGandalfG_SKL.GUGandalfG_LNDA
				AnimationMode     = ONCE
			End
;      ;ParticleSysBone   = None GandalfIllumination FollowBone:yes FXTrigger:NONE Persist:KILL PersistID:100
		End
		
		AnimationState        = DYING AFLAME
			Animation = DieAflame
				AnimationName           = GUGandalfG_SKL.GUGandalfG_MFDA
				AnimationMode       = LOOP
			End
		End
		
		AnimationState        = DYING
			Animation = Die
				AnimationName           = GUGandalfG_SKL.GUGandalfG_DIEB
				AnimationMode       = ONCE
			End
;      ;ParticleSysBone     = None GandalfIllumination FollowBone:yes FXTrigger:NONE Persist:KILL PersistID:100
		End

		AnimationState        = STUNNED_STANDING_UP
			Animation           = GUGandalfG_GTPA
				AnimationName     = GUGandalfG_SKL.GUGandalfG_GTPA
				AnimationMode     = ONCE
			End
		End
		
		AnimationState      = STUNNED
			Animation = Stunned
				AnimationName         = GUGandalfG_SKL.GUGandalfG_LNDA
				AnimationMode     = ONCE
			End
;      ;ParticleSysBone   = None GandalfIllumination FollowBone:yes FXTrigger:NONE Persist:KILL PersistID:100
		End

		
		
		
		
		

		AnimationState        =  PASSENGER EATING
			StateName = BeingEaten
			Animation
				AnimationName           = GUGandalfG_SKL.GUGandalfG_EATA
				AnimationMode       = ONCE
				AnimationBlendTime	=	4
			End
		End
	
		AnimationState        =  PASSENGER
		StateName = BeingEaten
			Animation
				AnimationName           = GUGandalfG_SKL.GUGandalfG_FLLA
				AnimationMode       = LOOP
				AnimationBlendTime	=	4
			End
		End
	
		;;; WORD OF POWER ANIMS ON FOOT ;;;
		AnimationState        =  SPECIAL_WEAPON_ONE
			StateName = Attacking
			Animation
				AnimationName           = GUGandalfG_SKL.GUGandalfG_SPCK
				AnimationMode       = ONCE
			End
;			FXEvent			= Frame:5 Name:FX_GandalfPreAttackBlast
		End

	
		;;; WIZARD BLAST ANIMS ON FOOT ;;;
		AnimationState        =  SPECIAL_WEAPON_TWO
			StateName = Attacking
			Animation
				AnimationName       = GUGandalfG_SKL.GUGandalfG_SPCL
				AnimationMode       = ONCE
			End
		End
		

		;;; LIGHTNING CHARGE ANIMS ON FOOT ;;;
		AnimationState        =  PACKING_TYPE_1 UNPACKING
			StateName = Attacking
			Animation = LightningSwordStart
				AnimationName           = GUGandalfG_SKL.GUGandalfG_SPE3
				AnimationMode       = ONCE
			End
			FXEvent			= Frame:14 Name:FX_GandalfLightningCharge
;			FXEvent			= Frame:70 Name:FX_GandalfLightningFizzle
			FXEvent			= Frame:14 Name:FX_GandalfLightningSword  FrameStop:70
		End
	
		AnimationState        =  PACKING_TYPE_1 PREPARING
			StateName = Attacking
			Animation = LightningSwordLoop
				AnimationName           = GUGandalfG_SKL.GUGandalfG_SPE2
				AnimationMode       = LOOP
			End
		End

		AnimationState        =  PACKING_TYPE_1 PACKING
			StateName = Attacking
			Animation = LightningSwordPutAway
				AnimationName           = GUGandalfG_SKL.GUGandalfG_SPE1
				AnimationMode       = ONCE
			End
		End

		;;; ISTARI LIGHT STAFF WEAPON MOUNTED ;;;
		AnimationState        =  MOUNTED SPECIAL_WEAPON_THREE ; FIRING_OR_PREATTACK_C
			StateName = Attacking
			Animation = StaffLaser
				AnimationName           = GUGdfHrs_SKL.GUGdfHrs_SPLG
				AnimationMode       = ONCE
			End
			FXEvent			= Frame:30 Name:FX_GandalfStaffFlare
		End

		;;; ISTARI LIGHT STAFF WEAPON ON FOOT ;;;
		AnimationState        =  SPECIAL_WEAPON_THREE ; FIRING_OR_PREATTACK_C
			StateName = Attacking
			Animation = StaffLaser
				AnimationName           = GUGandalfG_SKL.GUGandalfG_SPCH ; isitari's light?
				AnimationMode       = ONCE
			End
			FXEvent			= Frame:30 Name:FX_GandalfStaffFlare
		End
		
		
		;;; Moving Standard Attack Anims ;;;
		AnimationState				=	MOUNTED FIRING_OR_PREATTACK_A MOVING
			Animation				=	MountedRunAndFire
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_ATRA
				AnimationMode		=	LOOP
				Distance			=	60
			End
		End
		
		AnimationState				=	MOUNTED BETWEEN_FIRING_SHOTS_A MOVING
			Animation				=	TrotBetweenShotsMoving
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_WLKA
				AnimationMode		=	LOOP
				Distance			=	30
			End
		End
		
		;;; Standard Attack Anims ;;;
		AnimationState				=	MOUNTED FIRING_OR_PREATTACK_A
			Animation				=	MountedSlash
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_ATKA
				AnimationMode		=	ONCE
				UseWeaponTiming		= Yes
			End
			Animation				=	MountedStab
				AnimationName		=	GUGdfHrs_SKL.GUGdfHrs_ATKB
				AnimationMode		=	ONCE
				UseWeaponTiming		= Yes
			End
		End
		
		
		
		
		AnimationState        = MOVING FIRING_OR_PREATTACK_A
			ShareAnimation		= Yes
			Animation           = RunAndFire
				AnimationName       = GUGandalfG_SKL.GUGandalfG_ATRA
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART  
		End
		

		AnimationState        =  FIRING_OR_PREATTACK_A
			Animation = StaffSwing
				AnimationName           = GUGandalfG_SKL.GUGandalfG_ATKA
				AnimationMode       = ONCE
				UseWeaponTiming		= Yes
			End
			Animation = SwordSwing
			  AnimationName           = GUGandalfG_SKL.GUGandalfG_ATKB	
			  AnimationMode       = ONCE
			  UseWeaponTiming		= Yes
			End
			Animation = SpinningSwordStaff
			  AnimationName           = GUGandalfG_SKL.GUGandalfG_ATKC	
			  AnimationMode       = ONCE
			  UseWeaponTiming		= Yes
			End			
		End


		;;; Moving Anims ;;;
		
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>	
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>	
		
		AnimationState        = MOVING WANDER
			Animation = Wandering
				AnimationName           = GUGandalfG_SKL.GUGandalfG_WLKA ;32
				AnimationMode       = LOOP
			End
		End
	
		AnimationState        = MOVING
			Animation = Moving
				AnimationName           = GUGandalfG_SKL.GUGandalfG_WLKA  ;GUGandalfG_SKL.GUGandalfG_RUNB ;20
				AnimationMode       = LOOP
			End
			Flags               = RANDOMSTART
		End
		
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>	
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>	
		
		; READY IDLE
		AnimationState        = EMOTION_ALERT
			Animation           = ALERT_1
				AnimationName     = GUGandalfG_SKL.GUGandalfG_IDLA
				AnimationMode     = ONCE
			End
			Flags               = RESTART_ANIM_WHEN_COMPLETE ; acts like an idle animation & keeps running the animations.
		End

		AnimationState        = LEVELED	USER_1; This state clears itself in 3 of your Earth seconds
			Animation = Yippee
				AnimationName           = GUGandalfG_SKL.GUGandalfG_LVLA
				AnimationMode       = ONCE
			End
			BeginScript
				CurDrawableShowSubObject("STAFF_LIGHT")			
			EndScript						
		End

		AnimationState        = LEVELED	; This state clears itself in 3 of your Earth seconds
			Animation = Yippee
				AnimationName           = GUGandalfG_SKL.GUGandalfG_LVLA
				AnimationMode       = ONCE
			End
		End
		
		
		TransitionState					=	TRANS_Idle_to_Selected
			Animation					=	ATNA
				AnimationName			=	GUGandalfG_SKL.GUGandalfG_ATNA
				AnimationMode			=	ONCE
			End
		End
		
		TransitionState					=	TRANS_Selected_To_Idle
			Animation					=	ATNE ;ATNC
				AnimationName			=	GUGandalfG_SKL.GUGandalfG_ATNE ;C
				AnimationMode			=	ONCE
			End
		End

		AnimationState				=	SELECTED USER_1
			StateName				=	Selected
			SimilarRestart			=   Yes			
			Animation				=	ATNB			
				AnimationName		=	GUGandalfG_SKL.GUGandalfG_ATNB
				AnimationMode		=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
			EndScript
		End

		AnimationState				=	SELECTED
			StateName				=	Selected
			SimilarRestart			=   Yes			
			Animation				=	ATNB			
				AnimationName		=	GUGandalfG_SKL.GUGandalfG_ATNB
				AnimationMode		=	LOOP
			End
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Idle" then CurDrawableSetTransitionAnimState("TRANS_Idle_to_Selected") end
				CurDrawableHideSubObject("STAFF_LIGHT")			
			EndScript
		End
		
		AnimationState = MOUNTED HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = GUGdfHrs_SKL.GUGdfHrs_HITA
				AnimationMode = ONCE
			End
		End

		AnimationState = HIT_REACTION HIT_LEVEL_1
			Animation = Hit_Level_1_a
				AnimationName = GUGandalfG_SKL.GUGandalfG_HITA
				AnimationMode = ONCE
			End
		End
		
		
		AnimationState        =  USER_1
			StateName = user_1_idle
			Animation = Foot_IDLB ; Bored Idle
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLB
				AnimationMode       = ONCE
				AnimationPriority   = 2
			End
			Animation = Foot_IDLC ; Bored Fidget
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLC
				AnimationMode       = ONCE
				AnimationPriority   = 2
			End
			Animation = Foot_IDLD ; Bored Fidget
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLD
				AnimationMode       = ONCE
				AnimationPriority   = 1
			End
			Animation = Foot_IDLE ; Bored Fidget
				AnimationName       = GUGandalfG_SKL.GUGandalfG_IDLE
				AnimationMode       = ONCE
				AnimationPriority   = 2
			End
			Animation = Foot_IDLF ; Bored Fidget
				AnimationName       = GUGandalfG_SKL.GUGandalfF_IDLF
				AnimationMode       = ONCE
				AnimationPriority   = 1
			End
			
			BeginScript
				Prev = CurDrawablePrevAnimationState()
				if Prev == "Selected" then CurDrawableSetTransitionAnimState("TRANS_Selected_To_Idle") end
				CurDrawableShowSubObject("STAFF_LIGHT")			
			EndScript			
		End
	End
	End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
; I may make this later on, if not i just make a blank weapon with a very cool FX
;When Morgoth dies, make this.
;
;  AddModule
;  Behavior = FireWeaponWhenDeadBehavior ModuleTag_DIELIKETHIS
;    StartsActive = Yes
;    DeathWeapon = NatureWaveWeapon ; change this,
;  End
;  End
;<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
End; End Of Morgoth 


;EEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEENNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNNDDDDDDDDDDDDDDDDDDDDDDDDDD
;WOOOOOOOOOOOOOOT Done, 

;phew lol. i learned a lot, i tryed to keep this ini.file as clean as possible, so maybe it will help noob ini.file writter to learn with more ease.

; if you understand 100% of this ini.file, then you will be able to make something 2 times better then this one, dont give up!

